(function(){"use strict";function lr(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function fr(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var f=function c(){return this instanceof c?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};f.prototype=s.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(i).forEach(function(c){var l=Object.getOwnPropertyDescriptor(i,c);Object.defineProperty(f,c,l.get?l:{enumerable:!0,get:function(){return i[c]}})}),f}var Nt={exports:{}},cr={},hr=Object.freeze({__proto__:null,default:cr}),we=fr(hr);(function(i,s){var f=void 0,c=function(l){return f||(f=new Promise(function(d,T){var u=typeof l<"u"?l:{},I=u.onAbort;u.onAbort=function(e){T(new Error(e)),I&&I(e)},u.postRun=u.postRun||[],u.postRun.push(function(){d(u)}),i=void 0;var u;u||(u=typeof u<"u"?u:{}),u.onRuntimeInitialized=function(){function e(_,L){this.Qa=_,this.db=L,this.Pa=1,this.wb=[]}function t(_,L){if(this.db=L,L=Ae(_)+1,this.hb=Xe(L),this.hb===null)throw Error("Unable to allocate memory for the SQL string");fe(_,X,this.hb,L),this.sb=this.hb,this.eb=this.Mb=null}function r(_,{filename:L=!1}={}){L===!1?(this.filename="dbfile_"+(4294967295*Math.random()>>>0),this.Xc=!0,_!=null&&n.zb("/",this.filename,_,!0,!0)):this.filename=_,this.handleError(h(this.filename,o)),this.db=ue(o,"i32"),Rn(this.db),this.nb={},this.Xa={}}var o=_e(4),a=u.cwrap,h=a("sqlite3_open","number",["string","number"]),E=a("sqlite3_close_v2","number",["number"]),A=a("sqlite3_exec","number",["number","string","number","number","number"]),w=a("sqlite3_changes","number",["number"]),b=a("sqlite3_prepare_v2","number",["number","string","number","number","number"]),N=a("sqlite3_sql","string",["number"]),M=a("sqlite3_normalized_sql","string",["number"]),x=a("sqlite3_prepare_v2","number",["number","number","number","number","number"]),H=a("sqlite3_bind_text","number",["number","number","number","number","number"]),G=a("sqlite3_bind_blob","number",["number","number","number","number","number"]),Y=a("sqlite3_bind_double","number",["number","number","number"]),Re=a("sqlite3_bind_int","number",["number","number","number"]),de=a("sqlite3_bind_parameter_index","number",["number","string"]),It=a("sqlite3_step","number",["number"]),z=a("sqlite3_errmsg","string",["number"]),en=a("sqlite3_column_count","number",["number"]),tn=a("sqlite3_data_count","number",["number"]),rn=a("sqlite3_column_double","number",["number","number"]),nn=a("sqlite3_column_text","string",["number","number"]),on=a("sqlite3_column_blob","number",["number","number"]),sn=a("sqlite3_column_bytes","number",["number","number"]),un=a("sqlite3_column_type","number",["number","number"]),an=a("sqlite3_column_name","string",["number","number"]),ln=a("sqlite3_reset","number",["number"]),fn=a("sqlite3_clear_bindings","number",["number"]),cn=a("sqlite3_finalize","number",["number"]),hn=a("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),_n=a("sqlite3_value_type","number",["number"]),dn=a("sqlite3_value_bytes","number",["number"]),En=a("sqlite3_value_text","string",["number"]),pn=a("sqlite3_value_blob","number",["number"]),mn=a("sqlite3_value_double","number",["number"]),Tn=a("sqlite3_result_double","",["number","number"]),sr=a("sqlite3_result_null","",["number"]),An=a("sqlite3_result_text","",["number","string","number","number"]),bn=a("sqlite3_result_blob","",["number","number","number","number"]),Ln=a("sqlite3_result_int","",["number","number"]),ur=a("sqlite3_result_error","",["number","string","number"]),Rn=a("RegisterExtensionFunctions","number",["number"]);e.prototype.bind=function(_){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(_)?this.vc(_):_!=null&&typeof _=="object"?this.wc(_):!0},e.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Pa=1;var _=It(this.Qa);switch(_){case 100:return!0;case 101:return!1;default:throw this.db.handleError(_)}},e.prototype.Pc=function(_){return _==null&&(_=this.Pa,this.Pa+=1),rn(this.Qa,_)},e.prototype.Qc=function(_){return _==null&&(_=this.Pa,this.Pa+=1),nn(this.Qa,_)},e.prototype.getBlob=function(_){_==null&&(_=this.Pa,this.Pa+=1);var L=sn(this.Qa,_);_=on(this.Qa,_);for(var y=new Uint8Array(L),S=0;S<L;S+=1)y[S]=V[_+S];return y},e.prototype.get=function(_){_!=null&&this.bind(_)&&this.step(),_=[];for(var L=tn(this.Qa),y=0;y<L;y+=1)switch(un(this.Qa,y)){case 1:case 2:_.push(this.Pc(y));break;case 3:_.push(this.Qc(y));break;case 4:_.push(this.getBlob(y));break;default:_.push(null)}return _},e.prototype.getColumnNames=function(){for(var _=[],L=en(this.Qa),y=0;y<L;y+=1)_.push(an(this.Qa,y));return _},e.prototype.getAsObject=function(_){_=this.get(_);for(var L=this.getColumnNames(),y={},S=0;S<L.length;S+=1)y[L[S]]=_[S];return y},e.prototype.getSQL=function(){return N(this.Qa)},e.prototype.getNormalizedSQL=function(){return M(this.Qa)},e.prototype.run=function(_){return _!=null&&this.bind(_),this.step(),this.reset()},e.prototype.zc=function(_,L){L==null&&(L=this.Pa,this.Pa+=1),_=Ze(_);var y=ft(_);this.wb.push(y),this.db.handleError(H(this.Qa,L,y,_.length-1,0))},e.prototype.uc=function(_,L){L==null&&(L=this.Pa,this.Pa+=1);var y=ft(_);this.wb.push(y),this.db.handleError(G(this.Qa,L,y,_.length,0))},e.prototype.yc=function(_,L){L==null&&(L=this.Pa,this.Pa+=1),this.db.handleError((_===(_|0)?Re:Y)(this.Qa,L,_))},e.prototype.xc=function(_){_==null&&(_=this.Pa,this.Pa+=1),G(this.Qa,_,0,0,0)},e.prototype.Tb=function(_,L){switch(L==null&&(L=this.Pa,this.Pa+=1),typeof _){case"string":this.zc(_,L);return;case"number":case"boolean":this.yc(_+0,L);return;case"object":if(_===null){this.xc(L);return}if(_.length!=null){this.uc(_,L);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+_+")."},e.prototype.wc=function(_){var L=this;return Object.keys(_).forEach(function(y){var S=de(L.Qa,y);S!==0&&L.Tb(_[y],S)}),!0},e.prototype.vc=function(_){for(var L=0;L<_.length;L+=1)this.Tb(_[L],L+1);return!0},e.prototype.reset=function(){return fn(this.Qa)===0&&ln(this.Qa)===0},e.prototype.freemem=function(){for(var _;(_=this.wb.pop())!==void 0;)Be(_)},e.prototype.free=function(){var _=cn(this.Qa)===0;return delete this.db.nb[this.Qa],this.Qa=0,_},t.prototype.next=function(){if(this.hb===null)return{done:!0};if(this.eb!==null&&(this.eb.free(),this.eb=null),!this.db.db)throw this.Bb(),Error("Database closed");var _=Ge(),L=_e(4);Fe(o),Fe(L);try{this.db.handleError(x(this.db.db,this.sb,-1,o,L)),this.sb=ue(L,"i32");var y=ue(o,"i32");return y===0?(this.Bb(),{done:!0}):(this.eb=new e(y,this.db),this.db.nb[y]=this.eb,{value:this.eb,done:!1})}catch(S){throw this.Mb=$(this.sb),this.Bb(),S}finally{qe(_)}},t.prototype.Bb=function(){Be(this.hb),this.hb=null},t.prototype.getRemainingSQL=function(){return this.Mb!==null?this.Mb:$(this.sb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(t.prototype[Symbol.iterator]=function(){return this}),r.prototype.run=function(_,L){if(!this.db)throw"Database closed";if(L){_=this.prepare(_,L);try{_.step()}finally{_.free()}}else this.handleError(A(this.db,_,0,0,o));return this},r.prototype.exec=function(_,L){if(!this.db)throw"Database closed";var y=Ge(),S=null;try{var P=Ae(_)+1,ne=_e(P);fe(_,V,ne,P);var Q=ne,ke=_e(4);for(_=[];ue(Q,"i8")!==0;){Fe(o),Fe(ke),this.handleError(x(this.db,Q,-1,o,ke));var Oe=ue(o,"i32");if(Q=ue(ke,"i32"),Oe!==0){for(P=null,S=new e(Oe,this),L!=null&&S.bind(L);S.step();)P===null&&(P={columns:S.getColumnNames(),values:[]},_.push(P)),P.values.push(S.get());S.free()}}return _}catch(K){throw S&&S.free(),K}finally{qe(y)}},r.prototype.each=function(_,L,y,S){typeof L=="function"&&(S=y,y=L,L=void 0),_=this.prepare(_,L);try{for(;_.step();)y(_.getAsObject())}finally{_.free()}if(typeof S=="function")return S()},r.prototype.prepare=function(_,L){if(Fe(o),this.handleError(b(this.db,_,-1,o,0)),_=ue(o,"i32"),_===0)throw"Nothing to prepare";var y=new e(_,this);return L!=null&&y.bind(L),this.nb[_]=y},r.prototype.iterateStatements=function(_){return new t(_,this)},r.prototype.export=function(){Object.values(this.nb).forEach(function(L){L.free()}),Object.values(this.Xa).forEach(ut),this.Xa={},this.handleError(E(this.db));var _=n.readFile(this.filename,{encoding:"binary"});return this.handleError(h(this.filename,o)),this.db=ue(o,"i32"),_},r.prototype.close=function(){this.db!==null&&(Object.values(this.nb).forEach(function(_){_.free()}),Object.values(this.Xa).forEach(ut),this.Xa={},this.handleError(E(this.db)),this.Xc&&n.unlink("/"+this.filename),this.db=null)},r.prototype.handleError=function(_){if(_===0)return null;throw _=z(this.db),Error(_)},r.prototype.getRowsModified=function(){return w(this.db)},r.prototype.create_function=function(_,L){Object.prototype.hasOwnProperty.call(this.Xa,_)&&(ut(this.Xa[_]),delete this.Xa[_]);var y=He(function(S,P,ne){for(var Q,ke=[],Oe=0;Oe<P;Oe+=1){var K=ue(ne+4*Oe,"i32"),ae=_n(K);if(ae===1||ae===2)K=mn(K);else if(ae===3)K=En(K);else if(ae===4){ae=K,K=dn(ae),ae=pn(ae);for(var ar=new Uint8Array(K),et=0;et<K;et+=1)ar[et]=V[ae+et];K=ar}else K=null;ke.push(K)}try{Q=L.apply(null,ke)}catch(wn){ur(S,wn,-1);return}switch(typeof Q){case"boolean":Ln(S,Q?1:0);break;case"number":Tn(S,Q);break;case"string":An(S,Q,-1,-1);break;case"object":Q===null?sr(S):Q.length!=null?(P=ft(Q),bn(S,P,Q.length,-1),Be(P)):ur(S,"Wrong API use : tried to return a value of an unknown type ("+Q+").",-1);break;default:sr(S)}},"viii");return this.Xa[_]=y,this.handleError(hn(this.db,_,L.length,1,0,y,0,0,0)),this},u.Database=r;var xe=new Map;u.register_for_idb=_=>{let L=He(function(P,ne){return P=xe.get(P),_.lock(P,ne)?0:5},"iii"),y=He(function(P,ne){return P=xe.get(P),_.unlock(P,ne),0},"iii"),S=He(function(P,ne){P=$(P),xe.set(ne,P)},"vii");u._register_for_idb(L,y,S)},u.cleanup_file=_=>{let L=[...xe.entries()].find(y=>y[1]===_);xe.delete(L[0])},u.reset_filesystem=()=>{n.root=null,n.lc()}};var g={},U;for(U in u)u.hasOwnProperty(U)&&(g[U]=u[U]);var C="./this.program",B=typeof window=="object",q=typeof importScripts=="function",te=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Z="",se,De,Ve,me,Ne;te?(Z=q?we.dirname(Z)+"/":__dirname+"/",se=function(e,t){return me||(me=we),Ne||(Ne=we),e=Ne.normalize(e),me.readFileSync(e,t?null:"utf8")},Ve=function(e){return e=se(e,!0),e.buffer||(e=new Uint8Array(e)),lt(e.buffer),e},De=function(e,t,r){me||(me=we),Ne||(Ne=we),e=Ne.normalize(e),me.readFile(e,function(o,a){o?r(o):t(a.buffer)})},1<process.argv.length&&(C=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),i.exports=u,u.inspect=function(){return"[Emscripten Module object]"}):(B||q)&&(q?Z=self.location.href:typeof document<"u"&&document.currentScript&&(Z=document.currentScript.src),Z=Z.indexOf("blob:")!==0?Z.substr(0,Z.lastIndexOf("/")+1):"",se=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},q&&(Ve=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),De=function(e,t,r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)});var We=u.print||console.log.bind(console),W=u.printErr||console.warn.bind(console);for(U in g)g.hasOwnProperty(U)&&(u[U]=g[U]);g=null,u.thisProgram&&(C=u.thisProgram);var st=[],Te;function ut(e){Te.delete(re.get(e)),st.push(e)}function He(e,t){if(!Te){Te=new WeakMap;for(var r=0;r<re.length;r++){var o=re.get(r);o&&Te.set(o,r)}}if(Te.has(e))e=Te.get(e);else{if(st.length)r=st.pop();else{try{re.grow(1)}catch(A){throw A instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":A}r=re.length-1}try{re.set(r,e)}catch(A){if(!(A instanceof TypeError))throw A;if(typeof WebAssembly.Function=="function"){var a={i:"i32",j:"i64",f:"f32",d:"f64"},h={parameters:[],results:t[0]=="v"?[]:[a[t[0]]]};for(o=1;o<t.length;++o)h.parameters.push(a[t[o]]);t=new WebAssembly.Function(h,e)}else{a=[1,0,1,96],h=t.slice(0,1),t=t.slice(1);var E={i:127,j:126,f:125,d:124};for(a.push(t.length),o=0;o<t.length;++o)a.push(E[t[o]]);h=="v"?a.push(0):a=a.concat([1,E[h]]),a[1]=a.length-2,t=new Uint8Array([0,97,115,109,1,0,0,0].concat(a,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),t=new WebAssembly.Module(t),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}re.set(r,t)}Te.set(e,r),e=r}return e}var Ue;u.wasmBinary&&(Ue=u.wasmBinary),u.noExitRuntime,typeof WebAssembly!="object"&&O("no native wasm support detected");function Fe(e){var t="i32";switch(t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":V[e>>0]=0;break;case"i8":V[e>>0]=0;break;case"i16":je[e>>1]=0;break;case"i32":R[e>>2]=0;break;case"i64":ee=[0,(F=0,1<=+Math.abs(F)?0<F?(Math.min(+Math.floor(F/4294967296),4294967295)|0)>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],R[e>>2]=ee[0],R[e+4>>2]=ee[1];break;case"float":ht[e>>2]=0;break;case"double":_t[e>>3]=0;break;default:O("invalid type for setValue: "+t)}}function ue(e,t){switch(t=t||"i8",t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":return V[e>>0];case"i8":return V[e>>0];case"i16":return je[e>>1];case"i32":return R[e>>2];case"i64":return R[e>>2];case"float":return ht[e>>2];case"double":return _t[e>>3];default:O("invalid type for getValue: "+t)}return null}var at,Gt=!1;function lt(e,t){e||O("Assertion failed: "+t)}function qt(e){var t=u["_"+e];return lt(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function $r(e,t,r,o){var a={string:function(b){var N=0;if(b!=null&&b!==0){var M=(b.length<<2)+1;N=_e(M),fe(b,X,N,M)}return N},array:function(b){var N=_e(b.length);return V.set(b,N),N}},h=qt(e),E=[];if(e=0,o)for(var A=0;A<o.length;A++){var w=a[r[A]];w?(e===0&&(e=Ge()),E[A]=w(o[A])):E[A]=o[A]}return r=h.apply(null,E),r=function(b){return t==="string"?$(b):t==="boolean"?!!b:b}(r),e!==0&&qe(e),r}function ft(e){var t=Xe(e.length);return e.subarray||e.slice?X.set(e,t):X.set(new Uint8Array(e),t),t}var xt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ye(e,t,r){var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.subarray&&xt)return xt.decode(e.subarray(t,r));for(o="";t<r;){var a=e[t++];if(a&128){var h=e[t++]&63;if((a&224)==192)o+=String.fromCharCode((a&31)<<6|h);else{var E=e[t++]&63;a=(a&240)==224?(a&15)<<12|h<<6|E:(a&7)<<18|h<<12|E<<6|e[t++]&63,65536>a?o+=String.fromCharCode(a):(a-=65536,o+=String.fromCharCode(55296|a>>10,56320|a&1023))}}else o+=String.fromCharCode(a)}return o}function $(e,t){return e?ye(X,e,t):""}function fe(e,t,r,o){if(!(0<o))return 0;var a=r;o=r+o-1;for(var h=0;h<e.length;++h){var E=e.charCodeAt(h);if(55296<=E&&57343>=E){var A=e.charCodeAt(++h);E=65536+((E&1023)<<10)|A&1023}if(127>=E){if(r>=o)break;t[r++]=E}else{if(2047>=E){if(r+1>=o)break;t[r++]=192|E>>6}else{if(65535>=E){if(r+2>=o)break;t[r++]=224|E>>12}else{if(r+3>=o)break;t[r++]=240|E>>18,t[r++]=128|E>>12&63}t[r++]=128|E>>6&63}t[r++]=128|E&63}}return t[r]=0,r-a}function Ae(e){for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&(o=65536+((o&1023)<<10)|e.charCodeAt(++r)&1023),127>=o?++t:t=2047>=o?t+2:65535>=o?t+3:t+4}return t}function $t(e){var t=Ae(e)+1,r=Xe(t);return r&&fe(e,V,r,t),r}var ct,V,X,je,R,ht,_t;function Vt(){var e=at.buffer;ct=e,u.HEAP8=V=new Int8Array(e),u.HEAP16=je=new Int16Array(e),u.HEAP32=R=new Int32Array(e),u.HEAPU8=X=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=new Uint32Array(e),u.HEAPF32=ht=new Float32Array(e),u.HEAPF64=_t=new Float64Array(e)}var re,Wt=[],Ht=[],jt=[];function Vr(){var e=u.preRun.shift();Wt.unshift(e)}var be=0,Pe=null;function dt(){be++,u.monitorRunDependencies&&u.monitorRunDependencies(be)}function ze(){if(be--,u.monitorRunDependencies&&u.monitorRunDependencies(be),be==0&&Pe){var e=Pe;Pe=null,e()}}u.preloadedImages={},u.preloadedAudios={};function O(e){throw u.onAbort&&u.onAbort(e),W(e),Gt=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function zt(){return J.startsWith("data:application/octet-stream;base64,")}var J;if(J="sql-wasm.wasm",!zt()){var Qt=J;J=u.locateFile?u.locateFile(Qt,Z):Z+Qt}function Kt(){var e=J;try{if(e==J&&Ue)return new Uint8Array(Ue);if(Ve)return Ve(e);throw"both async and sync fetching of the wasm failed"}catch(t){O(t)}}function Wr(){if(!Ue&&(B||q)){if(typeof fetch=="function"&&!J.startsWith("file://"))return fetch(J,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+J+"'";return e.arrayBuffer()}).catch(function(){return Kt()});if(De)return new Promise(function(e,t){De(J,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return Kt()})}var F,ee;function Et(e){for(;0<e.length;){var t=e.shift();if(typeof t=="function")t(u);else{var r=t.pd;typeof r=="number"?t.yb===void 0?re.get(r)():re.get(r)(t.yb):r(t.yb===void 0?null:t.yb)}}}function Hr(e){return e.replace(/\b_Z[\w\d_]+/g,function(t){return t===t?t:t+" ["+t+"]"})}function jr(){function e(E){return(E=E.toTimeString().match(/\(([A-Za-z ]+)\)$/))?E[1]:"GMT"}if(!Yt){Yt=!0;var t=new Date().getFullYear(),r=new Date(t,0,1),o=new Date(t,6,1);t=r.getTimezoneOffset();var a=o.getTimezoneOffset(),h=Math.max(t,a);R[ir()>>2]=60*h,R[nr()>>2]=+(t!=a),r=e(r),o=e(o),r=$t(r),o=$t(o),a<t?(R[Se()>>2]=r,R[Se()+4>>2]=o):(R[Se()>>2]=o,R[Se()+4>>2]=r)}}var Yt;function pt(e,t){for(var r=0,o=e.length-1;0<=o;o--){var a=e[o];a==="."?e.splice(o,1):a===".."?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r;r--)e.unshift("..");return e}function ge(e){var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=pt(e.split("/").filter(function(o){return!!o}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function Qe(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)}function ce(e){if(e==="/")return"/";e=ge(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)}function ve(e,t){return ge(e+"/"+t)}function zr(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(te)try{var t=we;return function(){return t.randomBytes(1)[0]}}catch{}return function(){O("randomDevice")}}function Le(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:n.cwd(),typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=pt(e.split("/").filter(function(o){return!!o}),!t).join("/"),(t?"/":"")+e||"."}function Zt(e,t){function r(E){for(var A=0;A<E.length&&E[A]==="";A++);for(var w=E.length-1;0<=w&&E[w]==="";w--);return A>w?[]:E.slice(A,w-A+1)}e=Le(e).substr(1),t=Le(t).substr(1),e=r(e.split("/")),t=r(t.split("/"));for(var o=Math.min(e.length,t.length),a=o,h=0;h<o;h++)if(e[h]!==t[h]){a=h;break}for(o=[],h=a;h<e.length;h++)o.push("..");return o=o.concat(t.slice(a)),o.join("/")}var Xt=[];function Jt(e,t){Xt[e]={input:[],output:[],gb:t},n.Qb(e,Qr)}var Qr={open:function(e){var t=Xt[e.node.rdev];if(!t)throw new n.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.gb.flush(e.tty)},flush:function(e){e.tty.gb.flush(e.tty)},read:function(e,t,r,o){if(!e.tty||!e.tty.gb.cc)throw new n.ErrnoError(60);for(var a=0,h=0;h<o;h++){try{var E=e.tty.gb.cc(e.tty)}catch{throw new n.ErrnoError(29)}if(E===void 0&&a===0)throw new n.ErrnoError(6);if(E==null)break;a++,t[r+h]=E}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,o){if(!e.tty||!e.tty.gb.Nb)throw new n.ErrnoError(60);try{for(var a=0;a<o;a++)e.tty.gb.Nb(e.tty,t[r+a])}catch{throw new n.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),a}},Kr={cc:function(e){if(!e.input.length){var t=null;if(te){var r=Buffer.alloc(256),o=0;try{o=me.readSync(process.stdin.fd,r,0,256,null)}catch(a){if(a.toString().includes("EOF"))o=0;else throw a}0<o?t=r.slice(0,o).toString("utf-8"):t=null}else typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`));if(!t)return null;e.input=Ze(t,!0)}return e.input.shift()},Nb:function(e,t){t===null||t===10?(We(ye(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(We(ye(e.output,0)),e.output=[])}},Yr={Nb:function(e,t){t===null||t===10?(W(ye(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(W(ye(e.output,0)),e.output=[])}};function er(e){e=65536*Math.ceil(e/65536);var t=or(65536,e);return t?(X.fill(0,t,t+e),t):0}var v={Va:null,mount:function(){return v.createNode(null,"/",16895,0)},createNode:function(e,t,r,o){if(n.Rc(r)||n.isFIFO(r))throw new n.ErrnoError(63);return v.Va||(v.Va={dir:{node:{getattr:v.node_ops.getattr,setattr:v.node_ops.setattr,lookup:v.node_ops.lookup,mknod:v.node_ops.mknod,rename:v.node_ops.rename,unlink:v.node_ops.unlink,rmdir:v.node_ops.rmdir,readdir:v.node_ops.readdir,symlink:v.node_ops.symlink},stream:{llseek:v.stream_ops.llseek}},file:{node:{getattr:v.node_ops.getattr,setattr:v.node_ops.setattr},stream:{llseek:v.stream_ops.llseek,read:v.stream_ops.read,write:v.stream_ops.write,allocate:v.stream_ops.allocate,mmap:v.stream_ops.mmap,msync:v.stream_ops.msync}},link:{node:{getattr:v.node_ops.getattr,setattr:v.node_ops.setattr,readlink:v.node_ops.readlink},stream:{}},Vb:{node:{getattr:v.node_ops.getattr,setattr:v.node_ops.setattr},stream:n.Cc}}),r=n.createNode(e,t,r,o),n.isDir(r.mode)?(r.node_ops=v.Va.dir.node,r.stream_ops=v.Va.dir.stream,r.Na={}):n.isFile(r.mode)?(r.node_ops=v.Va.file.node,r.stream_ops=v.Va.file.stream,r.Ra=0,r.Na=null):n.fb(r.mode)?(r.node_ops=v.Va.link.node,r.stream_ops=v.Va.link.stream):n.pb(r.mode)&&(r.node_ops=v.Va.Vb.node,r.stream_ops=v.Va.Vb.stream),r.timestamp=Date.now(),e&&(e.Na[t]=r,e.timestamp=r.timestamp),r},qd:function(e){return e.Na?e.Na.subarray?e.Na.subarray(0,e.Ra):new Uint8Array(e.Na):new Uint8Array(0)},Zb:function(e,t){var r=e.Na?e.Na.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.Na,e.Na=new Uint8Array(t),0<e.Ra&&e.Na.set(r.subarray(0,e.Ra),0))},gd:function(e,t){if(e.Ra!=t)if(t==0)e.Na=null,e.Ra=0;else{var r=e.Na;e.Na=new Uint8Array(t),r&&e.Na.set(r.subarray(0,Math.min(t,e.Ra))),e.Ra=t}},node_ops:{getattr:function(e){var t={};return t.dev=n.pb(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,n.isDir(e.mode)?t.size=4096:n.isFile(e.mode)?t.size=e.Ra:n.fb(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Ac=4096,t.blocks=Math.ceil(t.size/t.Ac),t},setattr:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&v.gd(e,t.size)},lookup:function(){throw n.Db[44]},mknod:function(e,t,r,o){return v.createNode(e,t,r,o)},rename:function(e,t,r){if(n.isDir(e.mode)){try{var o=n.lookupNode(t,r)}catch{}if(o)for(var a in o.Na)throw new n.ErrnoError(55)}delete e.parent.Na[e.name],e.parent.timestamp=Date.now(),e.name=r,t.Na[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.Na[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=n.lookupNode(e,t),o;for(o in r.Na)throw new n.ErrnoError(55);delete e.Na[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."],r;for(r in e.Na)e.Na.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){return e=v.createNode(e,t,41471,0),e.link=r,e},readlink:function(e){if(!n.fb(e.mode))throw new n.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,o,a){var h=e.node.Na;if(a>=e.node.Ra)return 0;if(e=Math.min(e.node.Ra-a,o),8<e&&h.subarray)t.set(h.subarray(a,a+e),r);else for(o=0;o<e;o++)t[r+o]=h[a+o];return e},write:function(e,t,r,o,a,h){if(t.buffer===V.buffer&&(h=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.Na||e.Na.subarray)){if(h)return e.Na=t.subarray(r,r+o),e.Ra=o;if(e.Ra===0&&a===0)return e.Na=t.slice(r,r+o),e.Ra=o;if(a+o<=e.Ra)return e.Na.set(t.subarray(r,r+o),a),o}if(v.Zb(e,a+o),e.Na.subarray&&t.subarray)e.Na.set(t.subarray(r,r+o),a);else for(h=0;h<o;h++)e.Na[a+h]=t[r+h];return e.Ra=Math.max(e.Ra,a+o),o},llseek:function(e,t,r){if(r===1?t+=e.position:r===2&&n.isFile(e.node.mode)&&(t+=e.node.Ra),0>t)throw new n.ErrnoError(28);return t},allocate:function(e,t,r){v.Zb(e.node,t+r),e.node.Ra=Math.max(e.node.Ra,t+r)},mmap:function(e,t,r,o,a,h){if(t!==0)throw new n.ErrnoError(28);if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);if(e=e.node.Na,h&2||e.buffer!==ct){if((0<o||o+r<e.length)&&(e.subarray?e=e.subarray(o,o+r):e=Array.prototype.slice.call(e,o,o+r)),o=!0,r=er(r),!r)throw new n.ErrnoError(48);V.set(e,r)}else o=!1,r=e.byteOffset;return{ed:r,vb:o}},msync:function(e,t,r,o,a){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);return a&2||v.stream_ops.write(e,t,0,o,r,!1),0}}};function Zr(e,t,r){var o="al "+e;De(e,function(a){lt(a,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(a)),o&&ze()},function(){if(r)r();else throw'Loading data file "'+e+'" failed.'}),o&&dt()}var n={root:null,mb:[],Xb:{},streams:[],Zc:1,Ua:null,Wb:"/",Hb:!1,hc:!0,Sa:{},nc:{kc:{qc:1,rc:2}},ErrnoError:null,Db:{},Lc:null,tb:0,lookupPath:function(e,t){if(e=Le(n.cwd(),e),t=t||{},!e)return{path:"",node:null};var r={Cb:!0,Pb:0},o;for(o in r)t[o]===void 0&&(t[o]=r[o]);if(8<t.Pb)throw new n.ErrnoError(32);e=pt(e.split("/").filter(function(E){return!!E}),!1);var a=n.root;for(r="/",o=0;o<e.length;o++){var h=o===e.length-1;if(h&&t.parent)break;if(a=n.lookupNode(a,e[o]),r=ve(r,e[o]),n.ab(a)&&(!h||h&&t.Cb)&&(a=a.lb.root),!h||t.Ta){for(h=0;n.fb(a.mode);)if(a=n.readlink(r),r=Le(Qe(r),a),a=n.lookupPath(r,{Pb:t.Pb}).node,40<h++)throw new n.ErrnoError(32)}}return{path:r,node:a}},Ya:function(e){for(var t;;){if(n.isRoot(e))return e=e.mount.jc,t?e[e.length-1]!=="/"?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}},Gb:function(e,t){for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return(e+r>>>0)%n.Ua.length},ec:function(e){var t=n.Gb(e.parent.id,e.name);e.cb=n.Ua[t],n.Ua[t]=e},fc:function(e){var t=n.Gb(e.parent.id,e.name);if(n.Ua[t]===e)n.Ua[t]=e.cb;else for(t=n.Ua[t];t;){if(t.cb===e){t.cb=e.cb;break}t=t.cb}},lookupNode:function(e,t){var r=n.Vc(e);if(r)throw new n.ErrnoError(r,e);for(r=n.Ua[n.Gb(e.id,t)];r;r=r.cb){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return n.lookup(e,t)},createNode:function(e,t,r,o){return e=new n.FSNode(e,t,r,o),n.ec(e),e},Ab:function(e){n.fc(e)},isRoot:function(e){return e===e.parent},ab:function(e){return!!e.lb},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},fb:function(e){return(e&61440)===40960},pb:function(e){return(e&61440)===8192},Rc:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},Mc:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Yc:function(e){var t=n.Mc[e];if(typeof t>"u")throw Error("Unknown file open mode: "+e);return t},$b:function(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},Za:function(e,t){if(n.hc)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Vc:function(e){var t=n.Za(e,"x");return t||(e.node_ops.lookup?0:2)},Lb:function(e,t){try{return n.lookupNode(e,t),20}catch{}return n.Za(e,"wx")},qb:function(e,t,r){try{var o=n.lookupNode(e,t)}catch(a){return a.Oa}if(e=n.Za(e,"wx"))return e;if(r){if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.Ya(o)===n.cwd())return 10}else if(n.isDir(o.mode))return 31;return 0},Wc:function(e,t){return e?n.fb(e.mode)?32:n.isDir(e.mode)&&(n.$b(t)!=="r"||t&512)?31:n.Za(e,n.$b(t)):44},oc:4096,$c:function(e,t){for(t=t||n.oc,e=e||0;e<=t;e++)if(!n.streams[e])return e;throw new n.ErrnoError(33)},$a:function(e){return n.streams[e]},Jc:function(e,t,r){n.ub||(n.ub=function(){},n.ub.prototype={object:{get:function(){return this.node},set:function(h){this.node=h}}});var o=new n.ub,a;for(a in e)o[a]=e[a];return e=o,t=n.$c(t,r),e.fd=t,n.streams[t]=e},Dc:function(e){n.streams[e]=null},Cc:{open:function(e){e.stream_ops=n.Oc(e.node.rdev).stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new n.ErrnoError(70)}},Kb:function(e){return e>>8},sd:function(e){return e&255},bb:function(e,t){return e<<8|t},Qb:function(e,t){n.Xb[e]={stream_ops:t}},Oc:function(e){return n.Xb[e]},bc:function(e){var t=[];for(e=[e];e.length;){var r=e.pop();t.push(r),e.push.apply(e,r.mb)}return t},mc:function(e,t){function r(E){return n.tb--,t(E)}function o(E){if(E){if(!o.Kc)return o.Kc=!0,r(E)}else++h>=a.length&&r(null)}typeof e=="function"&&(t=e,e=!1),n.tb++,1<n.tb&&W("warning: "+n.tb+" FS.syncfs operations in flight at once, probably just doing extra work");var a=n.bc(n.root.mount),h=0;a.forEach(function(E){if(!E.type.mc)return o(null);E.type.mc(E,e,o)})},mount:function(e,t,r){var o=r==="/",a=!r;if(o&&n.root)throw new n.ErrnoError(10);if(!o&&!a){var h=n.lookupPath(r,{Cb:!1});if(r=h.path,h=h.node,n.ab(h))throw new n.ErrnoError(10);if(!n.isDir(h.mode))throw new n.ErrnoError(54)}return t={type:e,vd:t,jc:r,mb:[]},e=e.mount(t),e.mount=t,t.root=e,o?n.root=e:h&&(h.lb=t,h.mount&&h.mount.mb.push(t)),e},yd:function(e){if(e=n.lookupPath(e,{Cb:!1}),!n.ab(e.node))throw new n.ErrnoError(28);e=e.node;var t=e.lb,r=n.bc(t);Object.keys(n.Ua).forEach(function(o){for(o=n.Ua[o];o;){var a=o.cb;r.includes(o.mount)&&n.Ab(o),o=a}}),e.lb=null,e.mount.mb.splice(e.mount.mb.indexOf(t),1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var o=n.lookupPath(e,{parent:!0}).node;if(e=ce(e),!e||e==="."||e==="..")throw new n.ErrnoError(28);var a=n.Lb(o,e);if(a)throw new n.ErrnoError(a);if(!o.node_ops.mknod)throw new n.ErrnoError(63);return o.node_ops.mknod(o,e,t,r)},create:function(e,t){return n.mknod(e,(t!==void 0?t:438)&4095|32768,0)},mkdir:function(e,t){return n.mknod(e,(t!==void 0?t:511)&1023|16384,0)},td:function(e,t){e=e.split("/");for(var r="",o=0;o<e.length;++o)if(e[o]){r+="/"+e[o];try{n.mkdir(r,t)}catch(a){if(a.Oa!=20)throw a}}},rb:function(e,t,r){return typeof r>"u"&&(r=t,t=438),n.mknod(e,t|8192,r)},symlink:function(e,t){if(!Le(e))throw new n.ErrnoError(44);var r=n.lookupPath(t,{parent:!0}).node;if(!r)throw new n.ErrnoError(44);t=ce(t);var o=n.Lb(r,t);if(o)throw new n.ErrnoError(o);if(!r.node_ops.symlink)throw new n.ErrnoError(63);return r.node_ops.symlink(r,t,e)},rename:function(e,t){var r=Qe(e),o=Qe(t),a=ce(e),h=ce(t),E=n.lookupPath(e,{parent:!0}),A=E.node;if(E=n.lookupPath(t,{parent:!0}),E=E.node,!A||!E)throw new n.ErrnoError(44);if(A.mount!==E.mount)throw new n.ErrnoError(75);var w=n.lookupNode(A,a);if(o=Zt(e,o),o.charAt(0)!==".")throw new n.ErrnoError(28);if(o=Zt(t,r),o.charAt(0)!==".")throw new n.ErrnoError(55);try{var b=n.lookupNode(E,h)}catch{}if(w!==b){if(r=n.isDir(w.mode),a=n.qb(A,a,r))throw new n.ErrnoError(a);if(a=b?n.qb(E,h,r):n.Lb(E,h))throw new n.ErrnoError(a);if(!A.node_ops.rename)throw new n.ErrnoError(63);if(n.ab(w)||b&&n.ab(b))throw new n.ErrnoError(10);if(E!==A&&(a=n.Za(A,"w")))throw new n.ErrnoError(a);try{n.Sa.willMovePath&&n.Sa.willMovePath(e,t)}catch(N){W("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+N.message)}n.fc(w);try{A.node_ops.rename(w,E,h)}catch(N){throw N}finally{n.ec(w)}try{n.Sa.onMovePath&&n.Sa.onMovePath(e,t)}catch(N){W("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+N.message)}}},rmdir:function(e){var t=n.lookupPath(e,{parent:!0}).node,r=ce(e),o=n.lookupNode(t,r),a=n.qb(t,r,!0);if(a)throw new n.ErrnoError(a);if(!t.node_ops.rmdir)throw new n.ErrnoError(63);if(n.ab(o))throw new n.ErrnoError(10);try{n.Sa.willDeletePath&&n.Sa.willDeletePath(e)}catch(h){W("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+h.message)}t.node_ops.rmdir(t,r),n.Ab(o);try{n.Sa.onDeletePath&&n.Sa.onDeletePath(e)}catch(h){W("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+h.message)}},readdir:function(e){if(e=n.lookupPath(e,{Ta:!0}).node,!e.node_ops.readdir)throw new n.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(e){var t=n.lookupPath(e,{parent:!0}).node,r=ce(e),o=n.lookupNode(t,r),a=n.qb(t,r,!1);if(a)throw new n.ErrnoError(a);if(!t.node_ops.unlink)throw new n.ErrnoError(63);if(n.ab(o))throw new n.ErrnoError(10);try{n.Sa.willDeletePath&&n.Sa.willDeletePath(e)}catch(h){W("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+h.message)}t.node_ops.unlink(t,r),n.Ab(o);try{n.Sa.onDeletePath&&n.Sa.onDeletePath(e)}catch(h){W("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+h.message)}},readlink:function(e){if(e=n.lookupPath(e).node,!e)throw new n.ErrnoError(44);if(!e.node_ops.readlink)throw new n.ErrnoError(28);return Le(n.Ya(e.parent),e.node_ops.readlink(e))},stat:function(e,t){if(e=n.lookupPath(e,{Ta:!t}).node,!e)throw new n.ErrnoError(44);if(!e.node_ops.getattr)throw new n.ErrnoError(63);return e.node_ops.getattr(e)},lstat:function(e){return n.stat(e,!0)},chmod:function(e,t,r){if(e=typeof e=="string"?n.lookupPath(e,{Ta:!r}).node:e,!e.node_ops.setattr)throw new n.ErrnoError(63);e.node_ops.setattr(e,{mode:t&4095|e.mode&-4096,timestamp:Date.now()})},lchmod:function(e,t){n.chmod(e,t,!0)},fchmod:function(e,t){if(e=n.$a(e),!e)throw new n.ErrnoError(8);n.chmod(e.node,t)},chown:function(e,t,r,o){if(e=typeof e=="string"?n.lookupPath(e,{Ta:!o}).node:e,!e.node_ops.setattr)throw new n.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,t,r){n.chown(e,t,r,!0)},fchown:function(e,t,r){if(e=n.$a(e),!e)throw new n.ErrnoError(8);n.chown(e.node,t,r)},truncate:function(e,t){if(0>t)throw new n.ErrnoError(28);if(e=typeof e=="string"?n.lookupPath(e,{Ta:!0}).node:e,!e.node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(e.mode))throw new n.ErrnoError(31);if(!n.isFile(e.mode))throw new n.ErrnoError(28);var r=n.Za(e,"w");if(r)throw new n.ErrnoError(r);e.node_ops.setattr(e,{size:t,timestamp:Date.now()})},Nc:function(e,t){if(e=n.$a(e),!e)throw new n.ErrnoError(8);if(!(e.flags&2097155))throw new n.ErrnoError(28);n.truncate(e.node,t)},kd:function(e,t,r){e=n.lookupPath(e,{Ta:!0}).node,e.node_ops.setattr(e,{timestamp:Math.max(t,r)})},open:function(e,t,r,o,a){if(e==="")throw new n.ErrnoError(44);if(t=typeof t=="string"?n.Yc(t):t,r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var h=e;else{e=ge(e);try{h=n.lookupPath(e,{Ta:!(t&131072)}).node}catch{}}var E=!1;if(t&64)if(h){if(t&128)throw new n.ErrnoError(20)}else h=n.mknod(e,r,0),E=!0;if(!h)throw new n.ErrnoError(44);if(n.pb(h.mode)&&(t&=-513),t&65536&&!n.isDir(h.mode))throw new n.ErrnoError(54);if(!E&&(r=n.Wc(h,t)))throw new n.ErrnoError(r);t&512&&n.truncate(h,0),t&=-131713,o=n.Jc({node:h,path:n.Ya(h),flags:t,seekable:!0,position:0,stream_ops:h.stream_ops,jd:[],error:!1},o,a),o.stream_ops.open&&o.stream_ops.open(o),!u.logReadFiles||t&1||(n.Ob||(n.Ob={}),e in n.Ob||(n.Ob[e]=1,W("FS.trackingDelegate error on read file: "+e)));try{n.Sa.onOpenFile&&(a=0,(t&2097155)!==1&&(a|=n.nc.kc.qc),t&2097155&&(a|=n.nc.kc.rc),n.Sa.onOpenFile(e,a))}catch(A){W("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+A.message)}return o},close:function(e){if(n.kb(e))throw new n.ErrnoError(8);e.Fb&&(e.Fb=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{n.Dc(e.fd)}e.fd=null},kb:function(e){return e.fd===null},llseek:function(e,t,r){if(n.kb(e))throw new n.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new n.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new n.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.jd=[],e.position},read:function(e,t,r,o,a){if(0>o||0>a)throw new n.ErrnoError(28);if(n.kb(e))throw new n.ErrnoError(8);if((e.flags&2097155)===1)throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.read)throw new n.ErrnoError(28);var h=typeof a<"u";if(!h)a=e.position;else if(!e.seekable)throw new n.ErrnoError(70);return t=e.stream_ops.read(e,t,r,o,a),h||(e.position+=t),t},write:function(e,t,r,o,a,h){if(0>o||0>a)throw new n.ErrnoError(28);if(n.kb(e))throw new n.ErrnoError(8);if(!(e.flags&2097155))throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.write)throw new n.ErrnoError(28);e.seekable&&e.flags&1024&&n.llseek(e,0,2);var E=typeof a<"u";if(!E)a=e.position;else if(!e.seekable)throw new n.ErrnoError(70);t=e.stream_ops.write(e,t,r,o,a,h),E||(e.position+=t);try{e.path&&n.Sa.onWriteToFile&&n.Sa.onWriteToFile(e.path)}catch(A){W("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+A.message)}return t},allocate:function(e,t,r){if(n.kb(e))throw new n.ErrnoError(8);if(0>t||0>=r)throw new n.ErrnoError(28);if(!(e.flags&2097155))throw new n.ErrnoError(8);if(!n.isFile(e.node.mode)&&!n.isDir(e.node.mode))throw new n.ErrnoError(43);if(!e.stream_ops.allocate)throw new n.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,o,a,h){if(a&2&&!(h&2)&&(e.flags&2097155)!==2)throw new n.ErrnoError(2);if((e.flags&2097155)===1)throw new n.ErrnoError(2);if(!e.stream_ops.mmap)throw new n.ErrnoError(43);return e.stream_ops.mmap(e,t,r,o,a,h)},msync:function(e,t,r,o,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,o,a):0},ud:function(){return 0},ic:function(e,t,r){if(!e.stream_ops.ic)throw new n.ErrnoError(59);return e.stream_ops.ic(e,t,r)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw Error('Invalid encoding type "'+t.encoding+'"');var r,o=n.open(e,t.flags);e=n.stat(e).size;var a=new Uint8Array(e);return n.read(o,a,0,e,0),t.encoding==="utf8"?r=ye(a,0):t.encoding==="binary"&&(r=a),n.close(o),r},writeFile:function(e,t,r){if(r=r||{},r.flags=r.flags||577,e=n.open(e,r.flags,r.mode),typeof t=="string"){var o=new Uint8Array(Ae(t)+1);t=fe(t,o,0,o.length),n.write(e,o,0,t,void 0,r.Bc)}else if(ArrayBuffer.isView(t))n.write(e,t,0,t.byteLength,void 0,r.Bc);else throw Error("Unsupported data type");n.close(e)},cwd:function(){return n.Wb},chdir:function(e){if(e=n.lookupPath(e,{Ta:!0}),e.node===null)throw new n.ErrnoError(44);if(!n.isDir(e.node.mode))throw new n.ErrnoError(54);var t=n.Za(e.node,"x");if(t)throw new n.ErrnoError(t);n.Wb=e.path},Fc:function(){n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},Ec:function(){n.mkdir("/dev"),n.Qb(n.bb(1,3),{read:function(){return 0},write:function(t,r,o,a){return a}}),n.rb("/dev/null",n.bb(1,3)),Jt(n.bb(5,0),Kr),Jt(n.bb(6,0),Yr),n.rb("/dev/tty",n.bb(5,0)),n.rb("/dev/tty1",n.bb(6,0));var e=zr();n.Wa("/dev","random",e),n.Wa("/dev","urandom",e),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},Hc:function(){n.mkdir("/proc");var e=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount:function(){var t=n.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(r,o){var a=n.$a(+o);if(!a)throw new n.ErrnoError(8);return r={parent:null,mount:{jc:"fake"},node_ops:{readlink:function(){return a.path}}},r.parent=r}},t}},{},"/proc/self/fd")},Ic:function(){u.stdin?n.Wa("/dev","stdin",u.stdin):n.symlink("/dev/tty","/dev/stdin"),u.stdout?n.Wa("/dev","stdout",null,u.stdout):n.symlink("/dev/tty","/dev/stdout"),u.stderr?n.Wa("/dev","stderr",null,u.stderr):n.symlink("/dev/tty1","/dev/stderr"),n.open("/dev/stdin",0),n.open("/dev/stdout",1),n.open("/dev/stderr",1)},Yb:function(){n.ErrnoError||(n.ErrnoError=function(e,t){this.node=t,this.hd=function(r){this.Oa=r},this.hd(e),this.message="FS error"},n.ErrnoError.prototype=Error(),n.ErrnoError.prototype.constructor=n.ErrnoError,[44].forEach(function(e){n.Db[e]=new n.ErrnoError(e),n.Db[e].stack="<generic error, no stack>"}))},lc:function(){n.Yb(),n.Ua=Array(4096),n.mount(v,{},"/"),n.Fc(),n.Ec(),n.Hc(),n.Lc={MEMFS:v}},jb:function(e,t,r){n.jb.Hb=!0,n.Yb(),u.stdin=e||u.stdin,u.stdout=t||u.stdout,u.stderr=r||u.stderr,n.Ic()},wd:function(){n.jb.Hb=!1;var e=u._fflush;for(e&&e(0),e=0;e<n.streams.length;e++){var t=n.streams[e];t&&n.close(t)}},Eb:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},od:function(e,t){return e=n.xb(e,t),e.exists?e.object:null},xb:function(e,t){try{var r=n.lookupPath(e,{Ta:!t});e=r.path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,ad:!1,cd:null,bd:null};try{r=n.lookupPath(e,{parent:!0}),o.ad=!0,o.cd=r.path,o.bd=r.node,o.name=ce(e),r=n.lookupPath(e,{Ta:!t}),o.exists=!0,o.path=r.path,o.object=r.node,o.name=r.node.name,o.isRoot=r.path==="/"}catch(a){o.error=a.Oa}return o},md:function(e,t){for(e=typeof e=="string"?e:n.Ya(e),t=t.split("/").reverse();t.length;){var r=t.pop();if(r){var o=ve(e,r);try{n.mkdir(o)}catch{}e=o}}return o},Gc:function(e,t,r,o,a){return e=ve(typeof e=="string"?e:n.Ya(e),t),n.create(e,n.Eb(o,a))},zb:function(e,t,r,o,a,h){if(e=t?ve(typeof e=="string"?e:n.Ya(e),t):e,o=n.Eb(o,a),a=n.create(e,o),r){if(typeof r=="string"){e=Array(r.length),t=0;for(var E=r.length;t<E;++t)e[t]=r.charCodeAt(t);r=e}n.chmod(a,o|146),e=n.open(a,577),n.write(e,r,0,r.length,0,h),n.close(e),n.chmod(a,o)}return a},Wa:function(e,t,r,o){e=ve(typeof e=="string"?e:n.Ya(e),t),t=n.Eb(!!r,!!o),n.Wa.Kb||(n.Wa.Kb=64);var a=n.bb(n.Wa.Kb++,0);return n.Qb(a,{open:function(h){h.seekable=!1},close:function(){o&&o.buffer&&o.buffer.length&&o(10)},read:function(h,E,A,w){for(var b=0,N=0;N<w;N++){try{var M=r()}catch{throw new n.ErrnoError(29)}if(M===void 0&&b===0)throw new n.ErrnoError(6);if(M==null)break;b++,E[A+N]=M}return b&&(h.node.timestamp=Date.now()),b},write:function(h,E,A,w){for(var b=0;b<w;b++)try{o(E[A+b])}catch{throw new n.ErrnoError(29)}return w&&(h.node.timestamp=Date.now()),b}}),n.rb(e,t,a)},ac:function(e){if(e.Ib||e.Sc||e.link||e.Na)return!0;if(typeof XMLHttpRequest<"u")throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(se)try{e.Na=Ze(se(e.url),!0),e.Ra=e.Na.length}catch{throw new n.ErrnoError(29)}else throw Error("Cannot load without read() or XMLHttpRequest.")},ld:function(e,t,r,o,a){function h(){this.Jb=!1,this.ob=[]}if(h.prototype.get=function(b){if(!(b>this.length-1||0>b)){var N=b%this.chunkSize;return this.dc(b/this.chunkSize|0)[N]}},h.prototype.pc=function(b){this.dc=b},h.prototype.Ub=function(){var b=new XMLHttpRequest;if(b.open("HEAD",r,!1),b.send(null),!(200<=b.status&&300>b.status||b.status===304))throw Error("Couldn't load "+r+". Status: "+b.status);var N=Number(b.getResponseHeader("Content-length")),M,x=(M=b.getResponseHeader("Accept-Ranges"))&&M==="bytes";b=(M=b.getResponseHeader("Content-Encoding"))&&M==="gzip";var H=1048576;x||(H=N);var G=this;G.pc(function(Y){var Re=Y*H,de=(Y+1)*H-1;if(de=Math.min(de,N-1),typeof G.ob[Y]>"u"){var It=G.ob;if(Re>de)throw Error("invalid range ("+Re+", "+de+") or no bytes requested!");if(de>N-1)throw Error("only "+N+" bytes available! programmer error!");var z=new XMLHttpRequest;if(z.open("GET",r,!1),N!==H&&z.setRequestHeader("Range","bytes="+Re+"-"+de),typeof Uint8Array<"u"&&(z.responseType="arraybuffer"),z.overrideMimeType&&z.overrideMimeType("text/plain; charset=x-user-defined"),z.send(null),!(200<=z.status&&300>z.status||z.status===304))throw Error("Couldn't load "+r+". Status: "+z.status);Re=z.response!==void 0?new Uint8Array(z.response||[]):Ze(z.responseText||"",!0),It[Y]=Re}if(typeof G.ob[Y]>"u")throw Error("doXHR failed!");return G.ob[Y]}),(b||!N)&&(H=N=1,H=N=this.dc(0).length,We("LazyFiles on gzip forces download of the whole file when length is accessed")),this.tc=N,this.sc=H,this.Jb=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new h;Object.defineProperties(E,{length:{get:function(){return this.Jb||this.Ub(),this.tc}},chunkSize:{get:function(){return this.Jb||this.Ub(),this.sc}}}),E={Ib:!1,Na:E}}else E={Ib:!1,url:r};var A=n.Gc(e,t,E,o,a);E.Na?A.Na=E.Na:E.url&&(A.Na=null,A.url=E.url),Object.defineProperties(A,{Ra:{get:function(){return this.Na.length}}});var w={};return Object.keys(A.stream_ops).forEach(function(b){var N=A.stream_ops[b];w[b]=function(){return n.ac(A),N.apply(null,arguments)}}),w.read=function(b,N,M,x,H){if(n.ac(A),b=b.node.Na,H>=b.length)return 0;if(x=Math.min(b.length-H,x),b.slice)for(var G=0;G<x;G++)N[M+G]=b[H+G];else for(G=0;G<x;G++)N[M+G]=b.get(H+G);return x},A.stream_ops=w,A},nd:function(e,t,r,o,a,h,E,A,w,b){function N(x){function H(Y){b&&b(),A||n.zb(e,t,Y,o,a,w),h&&h(),ze()}var G=!1;u.preloadPlugins.forEach(function(Y){!G&&Y.canHandle(M)&&(Y.handle(x,M,H,function(){E&&E(),ze()}),G=!0)}),G||H(x)}Xr.jb();var M=t?Le(ve(e,t)):e;dt(),typeof r=="string"?Zr(r,function(x){N(x)},E):N(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Rb:function(){return"EM_FS_"+window.location.pathname},Sb:20,ib:"FILE_DATA",xd:function(e,t,r){t=t||function(){},r=r||function(){};var o=n.indexedDB();try{var a=o.open(n.Rb(),n.Sb)}catch(h){return r(h)}a.onupgradeneeded=function(){We("creating db"),a.result.createObjectStore(n.ib)},a.onsuccess=function(){var h=a.result.transaction([n.ib],"readwrite"),E=h.objectStore(n.ib),A=0,w=0,b=e.length;e.forEach(function(N){N=E.put(n.xb(N).object.Na,N),N.onsuccess=function(){A++,A+w==b&&(w==0?t():r())},N.onerror=function(){w++,A+w==b&&(w==0?t():r())}}),h.onerror=r},a.onerror=r},rd:function(e,t,r){t=t||function(){},r=r||function(){};var o=n.indexedDB();try{var a=o.open(n.Rb(),n.Sb)}catch(h){return r(h)}a.onupgradeneeded=r,a.onsuccess=function(){var h=a.result;try{var E=h.transaction([n.ib],"readonly")}catch(M){r(M);return}var A=E.objectStore(n.ib),w=0,b=0,N=e.length;e.forEach(function(M){var x=A.get(M);x.onsuccess=function(){n.xb(M).exists&&n.unlink(M),n.zb(Qe(M),ce(M),x.result,!0,!0,!0),w++,w+b==N&&(b==0?t():r())},x.onerror=function(){b++,w+b==N&&(b==0?t():r())}}),E.onerror=r},a.onerror=r}},mt={};function Tt(e,t,r){try{var o=e(t)}catch(a){if(a&&a.node&&ge(t)!==ge(n.Ya(a.node)))return-54;throw a}return R[r>>2]=o.dev,R[r+4>>2]=0,R[r+8>>2]=o.ino,R[r+12>>2]=o.mode,R[r+16>>2]=o.nlink,R[r+20>>2]=o.uid,R[r+24>>2]=o.gid,R[r+28>>2]=o.rdev,R[r+32>>2]=0,ee=[o.size>>>0,(F=o.size,1<=+Math.abs(F)?0<F?(Math.min(+Math.floor(F/4294967296),4294967295)|0)>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],R[r+40>>2]=ee[0],R[r+44>>2]=ee[1],R[r+48>>2]=4096,R[r+52>>2]=o.blocks,R[r+56>>2]=o.atime.getTime()/1e3|0,R[r+60>>2]=0,R[r+64>>2]=o.mtime.getTime()/1e3|0,R[r+68>>2]=0,R[r+72>>2]=o.ctime.getTime()/1e3|0,R[r+76>>2]=0,ee=[o.ino>>>0,(F=o.ino,1<=+Math.abs(F)?0<F?(Math.min(+Math.floor(F/4294967296),4294967295)|0)>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],R[r+80>>2]=ee[0],R[r+84>>2]=ee[1],0}var Ke=void 0;function Ye(){return Ke+=4,R[Ke-4>>2]}function he(e){if(e=n.$a(e),!e)throw new n.ErrnoError(8);return e}var At;At=te?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var bt={};function tr(){if(!Lt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:C||"./this.program"},t;for(t in bt)bt[t]===void 0?delete e[t]:e[t]=bt[t];var r=[];for(t in e)r.push(t+"="+e[t]);Lt=r}return Lt}var Lt;function rr(e,t,r,o){e||(e=this),this.parent=e,this.mount=e.mount,this.lb=null,this.id=n.Zc++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=o}Object.defineProperties(rr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}},Sc:{get:function(){return n.isDir(this.mode)}},Ib:{get:function(){return n.pb(this.mode)}}}),n.FSNode=rr,n.lc();var Xr;function Ze(e,t){var r=Array(Ae(e)+1);return e=fe(e,r,0,r.length),t&&(r.length=e),r}var Jr={a:function(e,t,r,o){O("Assertion failed: "+$(e)+", at: "+[t?$(t):"unknown filename",r,o?$(o):"unknown function"])},u:function(e,t){jr(),e=new Date(1e3*R[e>>2]),R[t>>2]=e.getSeconds(),R[t+4>>2]=e.getMinutes(),R[t+8>>2]=e.getHours(),R[t+12>>2]=e.getDate(),R[t+16>>2]=e.getMonth(),R[t+20>>2]=e.getFullYear()-1900,R[t+24>>2]=e.getDay();var r=new Date(e.getFullYear(),0,1);R[t+28>>2]=(e.getTime()-r.getTime())/864e5|0,R[t+36>>2]=-(60*e.getTimezoneOffset());var o=new Date(e.getFullYear(),6,1).getTimezoneOffset();return r=r.getTimezoneOffset(),e=(o!=r&&e.getTimezoneOffset()==Math.min(r,o))|0,R[t+32>>2]=e,e=R[Se()+(e?4:0)>>2],R[t+40>>2]=e,t},m:function(e,t){try{if(e=$(e),t&-8)var r=-28;else{var o;(o=n.lookupPath(e,{Ta:!0}).node)?(e="",t&4&&(e+="r"),t&2&&(e+="w"),t&1&&(e+="x"),r=e&&n.Za(o,e)?-2:0):r=-44}return r}catch(a){return typeof n<"u"&&a instanceof n.ErrnoError||O(a),-a.Oa}},A:function(e,t){try{return e=$(e),n.chmod(e,t),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),-r.Oa}},H:function(e,t,r){try{return e=$(e),n.chown(e,t,r),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||O(o),-o.Oa}},B:function(e,t){try{return n.fchmod(e,t),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),-r.Oa}},I:function(e,t,r){try{return n.fchown(e,t,r),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||O(o),-o.Oa}},b:function(e,t,r){Ke=r;try{var o=he(e);switch(t){case 0:var a=Ye();return 0>a?-28:n.open(o.path,o.flags,0,a).fd;case 1:case 2:return 0;case 3:return o.flags;case 4:return a=Ye(),o.flags|=a,0;case 12:return a=Ye(),je[a+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return R[Rt()>>2]=28,-1;default:return-28}}catch(h){return typeof n<"u"&&h instanceof n.ErrnoError||O(h),-h.Oa}},E:function(e,t){try{var r=he(e);return Tt(n.stat,r.path,t)}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||O(o),-o.Oa}},n:function(e,t,r){try{return n.Nc(e,r),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||O(o),-o.Oa}},l:function(e,t){try{if(t===0)return-28;var r=n.cwd();return t<Ae(r)+1?-68:(fe(r,X,e,t),e)}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||O(o),-o.Oa}},G:function(){return 0},d:function(){return 42},z:function(e,t){try{return e=$(e),Tt(n.lstat,e,t)}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),-r.Oa}},C:function(e,t){try{return e=$(e),e=ge(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),n.mkdir(e,t,0),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),-r.Oa}},y:function(e,t,r,o,a,h){try{e:{h<<=12;var E=!1;if(o&16&&e%65536!==0)var A=-28;else{if(o&32){var w=er(t);if(!w){A=-48;break e}E=!0}else{var b=n.$a(a);if(!b){A=-8;break e}var N=n.mmap(b,e,t,h,r,o);w=N.ed,E=N.vb}mt[w]={Uc:w,Tc:t,vb:E,fd:a,dd:r,flags:o,offset:h},A=w}}return A}catch(M){return typeof n<"u"&&M instanceof n.ErrnoError||O(M),-M.Oa}},x:function(e,t){try{var r=mt[e];if(t!==0&&r){if(t===r.Tc){var o=n.$a(r.fd);if(o&&r.dd&2){var a=r.flags,h=r.offset,E=X.slice(e,e+t);n.msync(o,E,h,t,a)}mt[e]=null,r.vb&&Be(r.Uc)}var A=0}else A=-28;return A}catch(w){return typeof n<"u"&&w instanceof n.ErrnoError||O(w),-w.Oa}},w:function(e,t,r){Ke=r;try{var o=$(e),a=r?Ye():0;return n.open(o,t,a).fd}catch(h){return typeof n<"u"&&h instanceof n.ErrnoError||O(h),-h.Oa}},J:function(e,t,r){try{if(e=$(e),0>=r)var o=-28;else{var a=n.readlink(e),h=Math.min(r,Ae(a)),E=V[t+h];fe(a,X,t,r+1),V[t+h]=E,o=h}return o}catch(A){return typeof n<"u"&&A instanceof n.ErrnoError||O(A),-A.Oa}},F:function(e){try{return e=$(e),n.rmdir(e),0}catch(t){return typeof n<"u"&&t instanceof n.ErrnoError||O(t),-t.Oa}},e:function(e,t){try{return e=$(e),Tt(n.stat,e,t)}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),-r.Oa}},i:function(e){try{return e=$(e),n.unlink(e),0}catch(t){return typeof n<"u"&&t instanceof n.ErrnoError||O(t),-t.Oa}},v:function(){return 2147483648},p:function(e,t,r){X.copyWithin(e,t,t+r)},c:function(e){var t=X.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296),o=Math.max(e,o),0<o%65536&&(o+=65536-o%65536);e:{try{at.grow(Math.min(2147483648,o)-ct.byteLength+65535>>>16),Vt();var a=1;break e}catch{}a=void 0}if(a)return!0}return!1},t:function(e){for(var t=At();At()-t<e;);},r:function(e,t){try{var r=0;return tr().forEach(function(o,a){var h=t+r;for(a=R[e+4*a>>2]=h,h=0;h<o.length;++h)V[a++>>0]=o.charCodeAt(h);V[a>>0]=0,r+=o.length+1}),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||O(o),o.Oa}},s:function(e,t){try{var r=tr();R[e>>2]=r.length;var o=0;return r.forEach(function(a){o+=a.length+1}),R[t>>2]=o,0}catch(a){return typeof n<"u"&&a instanceof n.ErrnoError||O(a),a.Oa}},f:function(e){try{var t=he(e);return n.close(t),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),r.Oa}},q:function(e,t){try{var r=he(e),o=r.tty?2:n.isDir(r.mode)?3:n.fb(r.mode)?7:4;return V[t>>0]=o,0}catch(a){return typeof n<"u"&&a instanceof n.ErrnoError||O(a),a.Oa}},j:function(e,t,r,o){try{e:{for(var a=he(e),h=e=0;h<r;h++){var E=R[t+(8*h+4)>>2],A=n.read(a,V,R[t+8*h>>2],E,void 0);if(0>A){var w=-1;break e}if(e+=A,A<E)break}w=e}return R[o>>2]=w,0}catch(b){return typeof n<"u"&&b instanceof n.ErrnoError||O(b),b.Oa}},o:function(e,t,r,o,a){try{var h=he(e);return e=4294967296*r+(t>>>0),-9007199254740992>=e||9007199254740992<=e?-61:(n.llseek(h,e,o),ee=[h.position>>>0,(F=h.position,1<=+Math.abs(F)?0<F?(Math.min(+Math.floor(F/4294967296),4294967295)|0)>>>0:~~+Math.ceil((F-+(~~F>>>0))/4294967296)>>>0:0)],R[a>>2]=ee[0],R[a+4>>2]=ee[1],h.Fb&&e===0&&o===0&&(h.Fb=null),0)}catch(E){return typeof n<"u"&&E instanceof n.ErrnoError||O(E),E.Oa}},k:function(e){try{var t=he(e);return t.stream_ops&&t.stream_ops.fsync?-t.stream_ops.fsync(t):0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||O(r),r.Oa}},g:function(e,t,r,o){try{e:{for(var a=he(e),h=e=0;h<r;h++){var E=n.write(a,V,R[t+8*h>>2],R[t+(8*h+4)>>2],void 0);if(0>E){var A=-1;break e}e+=E}A=e}return R[o>>2]=A,0}catch(w){return typeof n<"u"&&w instanceof n.ErrnoError||O(w),w.Oa}},h:function(e){var t=Date.now();return R[e>>2]=t/1e3|0,R[e+4>>2]=t%1e3*1e3|0,0},K:function(e){var t=Date.now()/1e3|0;return e&&(R[e>>2]=t),t},D:function(e,t){if(t){var r=t+8;t=1e3*R[r>>2],t+=R[r+4>>2]/1e3}else t=Date.now();e=$(e);try{n.kd(e,t,t);var o=0}catch(a){if(!(a instanceof n.ErrnoError)){e:{if(o=Error(),!o.stack){try{throw Error()}catch(h){o=h}if(!o.stack){o="(no stack trace available)";break e}}o=o.stack.toString()}throw u.extraStackTrace&&(o+=`
`+u.extraStackTrace()),o=Hr(o),a+" : "+o}o=a.Oa,R[Rt()>>2]=o,o=-1}return o}};(function(){function e(a){u.asm=a.exports,at=u.asm.L,Vt(),re=u.asm.Da,Ht.unshift(u.asm.M),ze()}function t(a){e(a.instance)}function r(a){return Wr().then(function(h){return WebAssembly.instantiate(h,o)}).then(a,function(h){W("failed to asynchronously prepare wasm: "+h),O(h)})}var o={a:Jr};if(dt(),u.instantiateWasm)try{return u.instantiateWasm(o,e)}catch(a){return W("Module.instantiateWasm callback failed with error: "+a),!1}return function(){return Ue||typeof WebAssembly.instantiateStreaming!="function"||zt()||J.startsWith("file://")||typeof fetch!="function"?r(t):fetch(J,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,o).then(t,function(h){return W("wasm streaming compile failed: "+h),W("falling back to ArrayBuffer instantiation"),r(t)})})}(),{}})(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.M).apply(null,arguments)},u._sqlite3_vfs_find=function(){return(u._sqlite3_vfs_find=u.asm.N).apply(null,arguments)},u._sqlite3_free=function(){return(u._sqlite3_free=u.asm.O).apply(null,arguments)};var Rt=u.___errno_location=function(){return(Rt=u.___errno_location=u.asm.P).apply(null,arguments)};u._sqlite3_finalize=function(){return(u._sqlite3_finalize=u.asm.Q).apply(null,arguments)},u._sqlite3_reset=function(){return(u._sqlite3_reset=u.asm.R).apply(null,arguments)},u._sqlite3_clear_bindings=function(){return(u._sqlite3_clear_bindings=u.asm.S).apply(null,arguments)},u._sqlite3_value_blob=function(){return(u._sqlite3_value_blob=u.asm.T).apply(null,arguments)},u._sqlite3_value_text=function(){return(u._sqlite3_value_text=u.asm.U).apply(null,arguments)},u._sqlite3_value_bytes=function(){return(u._sqlite3_value_bytes=u.asm.V).apply(null,arguments)},u._sqlite3_value_double=function(){return(u._sqlite3_value_double=u.asm.W).apply(null,arguments)},u._sqlite3_value_int=function(){return(u._sqlite3_value_int=u.asm.X).apply(null,arguments)},u._sqlite3_value_type=function(){return(u._sqlite3_value_type=u.asm.Y).apply(null,arguments)},u._sqlite3_result_blob=function(){return(u._sqlite3_result_blob=u.asm.Z).apply(null,arguments)},u._sqlite3_result_double=function(){return(u._sqlite3_result_double=u.asm._).apply(null,arguments)},u._sqlite3_result_error=function(){return(u._sqlite3_result_error=u.asm.$).apply(null,arguments)},u._sqlite3_result_int=function(){return(u._sqlite3_result_int=u.asm.aa).apply(null,arguments)},u._sqlite3_result_int64=function(){return(u._sqlite3_result_int64=u.asm.ba).apply(null,arguments)},u._sqlite3_result_null=function(){return(u._sqlite3_result_null=u.asm.ca).apply(null,arguments)},u._sqlite3_result_text=function(){return(u._sqlite3_result_text=u.asm.da).apply(null,arguments)},u._sqlite3_step=function(){return(u._sqlite3_step=u.asm.ea).apply(null,arguments)},u._sqlite3_column_count=function(){return(u._sqlite3_column_count=u.asm.fa).apply(null,arguments)},u._sqlite3_data_count=function(){return(u._sqlite3_data_count=u.asm.ga).apply(null,arguments)},u._sqlite3_column_blob=function(){return(u._sqlite3_column_blob=u.asm.ha).apply(null,arguments)},u._sqlite3_column_bytes=function(){return(u._sqlite3_column_bytes=u.asm.ia).apply(null,arguments)},u._sqlite3_column_double=function(){return(u._sqlite3_column_double=u.asm.ja).apply(null,arguments)},u._sqlite3_column_text=function(){return(u._sqlite3_column_text=u.asm.ka).apply(null,arguments)},u._sqlite3_column_type=function(){return(u._sqlite3_column_type=u.asm.la).apply(null,arguments)},u._sqlite3_column_name=function(){return(u._sqlite3_column_name=u.asm.ma).apply(null,arguments)},u._sqlite3_bind_blob=function(){return(u._sqlite3_bind_blob=u.asm.na).apply(null,arguments)},u._sqlite3_bind_double=function(){return(u._sqlite3_bind_double=u.asm.oa).apply(null,arguments)},u._sqlite3_bind_int=function(){return(u._sqlite3_bind_int=u.asm.pa).apply(null,arguments)},u._sqlite3_bind_text=function(){return(u._sqlite3_bind_text=u.asm.qa).apply(null,arguments)},u._sqlite3_bind_parameter_index=function(){return(u._sqlite3_bind_parameter_index=u.asm.ra).apply(null,arguments)},u._sqlite3_sql=function(){return(u._sqlite3_sql=u.asm.sa).apply(null,arguments)},u._sqlite3_normalized_sql=function(){return(u._sqlite3_normalized_sql=u.asm.ta).apply(null,arguments)},u._sqlite3_errmsg=function(){return(u._sqlite3_errmsg=u.asm.ua).apply(null,arguments)},u._sqlite3_exec=function(){return(u._sqlite3_exec=u.asm.va).apply(null,arguments)},u._sqlite3_prepare_v2=function(){return(u._sqlite3_prepare_v2=u.asm.wa).apply(null,arguments)},u._sqlite3_changes=function(){return(u._sqlite3_changes=u.asm.xa).apply(null,arguments)},u._sqlite3_close_v2=function(){return(u._sqlite3_close_v2=u.asm.ya).apply(null,arguments)},u._sqlite3_create_function_v2=function(){return(u._sqlite3_create_function_v2=u.asm.za).apply(null,arguments)},u._sqlite3_open=function(){return(u._sqlite3_open=u.asm.Aa).apply(null,arguments)};var Xe=u._malloc=function(){return(Xe=u._malloc=u.asm.Ba).apply(null,arguments)},Be=u._free=function(){return(Be=u._free=u.asm.Ca).apply(null,arguments)};u._RegisterExtensionFunctions=function(){return(u._RegisterExtensionFunctions=u.asm.Ea).apply(null,arguments)},u._register_for_idb=function(){return(u._register_for_idb=u.asm.Fa).apply(null,arguments)};var Se=u.__get_tzname=function(){return(Se=u.__get_tzname=u.asm.Ga).apply(null,arguments)},nr=u.__get_daylight=function(){return(nr=u.__get_daylight=u.asm.Ha).apply(null,arguments)},ir=u.__get_timezone=function(){return(ir=u.__get_timezone=u.asm.Ia).apply(null,arguments)},Ge=u.stackSave=function(){return(Ge=u.stackSave=u.asm.Ja).apply(null,arguments)},qe=u.stackRestore=function(){return(qe=u.stackRestore=u.asm.Ka).apply(null,arguments)},_e=u.stackAlloc=function(){return(_e=u.stackAlloc=u.asm.La).apply(null,arguments)},or=u._memalign=function(){return(or=u._memalign=u.asm.Ma).apply(null,arguments)};u.cwrap=function(e,t,r,o){r=r||[];var a=r.every(function(h){return h==="number"});return t!=="string"&&a&&!o?qt(e):function(){return $r(e,t,r,arguments)}},u.UTF8ToString=$,u.FS=n,u.stackSave=Ge,u.stackRestore=qe,u.stackAlloc=_e;var Je;Pe=function e(){Je||wt(),Je||(Pe=e)};function wt(){function e(){if(!Je&&(Je=!0,u.calledRun=!0,!Gt)){if(u.noFSInit||n.jb.Hb||n.jb(),n.hc=!1,Et(Ht),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();jt.unshift(t)}Et(jt)}}if(!(0<be)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Vr();Et(Wt),0<be||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),e()},1)):e())}}if(u.run=wt,u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return wt(),u}),f)};i.exports=c,i.exports.default=c})(Nt);var _r=Nt.exports,dr=lr(_r);const yt={EPERM:63,ENOENT:44};class Er{constructor(s,f){this.FS=s,this.backend=f,this.node_ops={getattr:c=>{let l=s.isFile(c.mode)?c.contents.getattr():null,d={};return d.dev=1,d.ino=c.id,d.mode=l?l.mode:c.mode,d.nlink=1,d.uid=0,d.gid=0,d.rdev=c.rdev,d.size=l?l.size:s.isDir(c.mode)?4096:0,d.atime=new Date(0),d.mtime=new Date(0),d.ctime=new Date(0),d.blksize=l?l.blockSize:4096,d.blocks=Math.ceil(d.size/d.blksize),d},setattr:(c,l)=>{this.FS.isFile(c.mode)?c.contents.setattr(l):(l.mode!=null&&(c.mode=l.mode),l.size!=null&&(c.size=l.size))},lookup:(c,l)=>{throw new this.FS.ErrnoError(yt.ENOENT)},mknod:(c,l,d,T)=>{if(l.endsWith(".lock"))throw new Error("Locking via lockfiles is not supported");return this.createNode(c,l,d,T)},rename:(c,l,d)=>{throw new Error("rename not implemented")},unlink:(c,l)=>{this.FS.lookupNode(c,l).contents.delete(l)},readdir:c=>{throw new Error("readdir not implemented")},symlink:(c,l,d)=>{throw new Error("symlink not implemented")},readlink:c=>{throw new Error("symlink not implemented")}},this.stream_ops={open:c=>{this.FS.isFile(c.node.mode)&&c.node.contents.open()},close:c=>{this.FS.isFile(c.node.mode)&&c.node.contents.close()},read:(c,l,d,T,I)=>c.node.contents.read(l,d,T,I),write:(c,l,d,T,I)=>c.node.contents.write(l,d,T,I),llseek:(c,l,d)=>{var T=l;if(d===1?T+=c.position:d===2&&s.isFile(c.node.mode)&&(T+=c.node.contents.getattr().size),T<0)throw new this.FS.ErrnoError(28);return T},allocate:(c,l,d)=>{c.node.contents.setattr({size:l+d})},mmap:(c,l,d,T,I,u)=>{throw new Error("mmap not implemented")},msync:(c,l,d,T,I)=>{throw new Error("msync not implemented")},fsync:(c,l,d,T,I)=>{c.node.contents.fsync()}}}mount(){return this.createNode(null,"/",16895,0)}lock(s,f){let{node:c}=this.FS.lookupPath(s);return c&&c.contents?c.contents.lock(f):!0}unlock(s,f){let{node:c}=this.FS.lookupPath(s);return c&&c.contents?c.contents.unlock(f):!0}createNode(s,f,c,l){if(!(this.FS.isDir(c)||this.FS.isFile(c)))throw new this.FS.ErrnoError(yt.EPERM);var d=this.FS.createNode(s,f,c,l);return this.FS.isDir(d.mode)?(d.node_ops={mknod:this.node_ops.mknod,lookup:this.node_ops.lookup,unlink:this.node_ops.unlink,setattr:this.node_ops.setattr},d.stream_ops={},d.contents={}):this.FS.isFile(d.mode)&&(d.node_ops=this.node_ops,d.stream_ops=this.stream_ops,d.contents=this.backend.createFile(f)),s&&(s.contents[f]=d,s.timestamp=d.timestamp),d}}const pr=Er;let Me={NONE:0,SHARED:1,RESERVED:2,PENDING:3,EXCLUSIVE:4};function tt(i){let s=i[16],f=i[17];return(s<<8)+f}function mr(i,s){if(i!=null&&s!=null){let f=new Uint8Array(i),c=new Uint8Array(s);for(let l=24;l<40;l++)if(f[l]!==c[l])return!1;return!0}return i==null&&s==null}function Tr(i,s,f){let c=[];for(let l=i;l<=s;l+=f)c.push(l);return c}function gt(i,s,f){let c=s-s%i,l=f-1-(f-1)%i;return Tr(c,l,i)}function Ar(i,s,f){let c=new ArrayBuffer(f-s),l=new Uint8Array(c);for(let d=0;d<i.length;d++){let T=i[d];if(T.data.constructor.name!=="ArrayBuffer")throw new Error("Chunk data is not an ArrayBuffer");let I=0,u=T.data.byteLength;if(s>T.pos&&(I=s-T.pos),f<T.pos+T.data.byteLength&&(u=f-T.pos),I>T.data.byteLength||u<0)continue;let g=u-I;l.set(new Uint8Array(T.data,I,g),T.pos-s+I)}return c}function vt(i,s,f,c){let l=gt(s,f,c),d=0;return l.map(T=>{let I=0,u=s;f>T&&f<T+s&&(I=f-T),c>T&&c<T+s&&(u=c-T);let g=u-I,U=new ArrayBuffer(s);if(f>T+s||c<=T)return null;let C=i.byteOffset+d,B=i.buffer.byteLength-C;if(B<=0)return null;let q=Math.min(g,B);return new Uint8Array(U).set(new Uint8Array(i.buffer,C,q),I),d+=q,{pos:T,data:U,offset:I,length:q}}).filter(Boolean)}class br{constructor(s,f,c=null){this.filename=s,this.buffer=new Map,this.ops=f,this.meta=c,this._metaDirty=!1,this.writeLock=!1,this.openHandles=0}bufferChunks(s){for(let f=0;f<s.length;f++){let c=s[f];this.buffer.set(c.pos,c)}}open(){if(this.openHandles++,this.openHandles===1){this.ops.open();let s=this.ops.readMeta();this.meta==null&&(s==null&&(s={size:0}),this.meta=s)}return this.meta}close(){this.fsync(),this.openHandles=Math.max(this.openHandles-1,0),this.openHandles===0&&this.ops.close()}delete(){this.ops.delete()}load(s){let f=s.reduce((l,d)=>{let T=this.buffer.get(d);return T?l.chunks.push(T):l.missing.push(d),l},{chunks:[],missing:[]}),c=[];return f.missing.length>0&&(c=this.ops.readBlocks(f.missing,this.meta.blockSize)),f.chunks.concat(c)}read(s,f,c,l){let d=s.buffer;if(c<=0||l<0)return 0;if(l>=this.meta.size){let q=new Uint8Array(d,f);for(let te=0;te<c;te++)q[te]=0;return c}l=Math.max(l,0);let T=Math.min(c,this.meta.size-l),I=l,u=l+T,g=gt(this.meta.blockSize,I,u),U=this.load(g),C=Ar(U,I,u);if(d.byteLength-f<C.byteLength)throw new Error("Buffer given to `read` is too small");let B=new Uint8Array(d);B.set(new Uint8Array(C),f);for(let q=T;q<c;q++)B[f+q]=0;return c}write(s,f,c,l){if(this.meta.blockSize==null){let C=tt(new Uint8Array(s.buffer,s.byteOffset+f));if(![512,1024,2048,4096,8192,16384,32768,65536].includes(C))throw new Error("File has invalid page size. (the first block of a new file must be written first)");this.setattr({blockSize:C})}let d=s.buffer;if(c<=0||l<0||d.byteLength===0)return 0;c=Math.min(c,d.byteLength-f);let T=vt(new Uint8Array(d,f,c),this.meta.blockSize,l,l+c),{partialWrites:I,fullWrites:u}=T.reduce((C,B)=>(B.length!==this.meta.blockSize?C.partialWrites.push(B):C.fullWrites.push({pos:B.pos,data:B.data}),C),{fullWrites:[],partialWrites:[]}),g=[];I.length>0&&(g=this.load(I.map(C=>C.pos)));let U=u.concat(g.map(C=>{let B=I.find(q=>q.pos===C.pos);return new Uint8Array(C.data).set(new Uint8Array(B.data,B.offset,B.length),B.offset,B.length),C}));return this.bufferChunks(U),l+c>this.meta.size&&this.setattr({size:l+c}),c}async readIfFallback(){if(this.ops.readIfFallback){let s=await this.ops.readIfFallback();this.meta=s||{size:0}}}lock(s){return this._recordingLock||(this._recordingLock=!0),this.ops.lock(s)?(s>=Me.RESERVED&&(this.writeLock=!0),!0):!1}unlock(s){return s===0&&(this._recordingLock=!1),this.writeLock&&(this.fsync(),this.writeLock=!1),this.ops.unlock(s)}fsync(){if(this.buffer.size>0){let s=this.buffer.get(0);if(s){let f=tt(new Uint8Array(s.data));if(f!==this.meta.blockSize){let c=this.buffer;this.buffer=new Map;let l=[...c.values()],d=l.length*this.meta.blockSize,T=new ArrayBuffer(d),I=new Uint8Array(T);for(let u of l)I.set(new Uint8Array(u.data),u.pos);this.bufferChunks(vt(I,f,0,d)),this.setattr({blockSize:f})}}this.ops.writeBlocks([...this.buffer.values()],this.meta.blockSize)}this._metaDirty&&(this.ops.writeMeta({size:this.meta.size}),this._metaDirty=!1),this.buffer=new Map}setattr(s){this.meta==null&&(this.meta={}),s.mode!==void 0&&(this.meta.mode=s.mode),s.blockSize!==void 0&&(this.meta.blockSize=s.blockSize),s.size!==void 0&&(this.meta.size=s.size,this._metaDirty=!0)}getattr(){return this.meta}}let St=3735928559,ie=0,Ee=1;class Lr{constructor(s,{initialOffset:f=4,useAtomics:c=!0,stream:l=!0,debug:d,name:T}={}){this.buffer=s,this.atomicView=new Int32Array(s),this.offset=f,this.useAtomics=c,this.stream=l,this.debug=d,this.name=T}log(...s){this.debug&&console.log(`[reader: ${this.name}]`,...s)}waitWrite(s,f=null){if(this.useAtomics){for(this.log(`waiting for ${s}`);Atomics.load(this.atomicView,0)===ie;){if(f!=null&&Atomics.wait(this.atomicView,0,ie,f)==="timed-out")throw new Error("timeout");Atomics.wait(this.atomicView,0,ie,500)}this.log(`resumed for ${s}`)}else if(this.atomicView[0]!==Ee)throw new Error("`waitWrite` expected array to be readable")}flip(){if(this.log("flip"),this.useAtomics){if(Atomics.compareExchange(this.atomicView,0,Ee,ie)!==Ee)throw new Error("Read data out of sync! This is disastrous");Atomics.notify(this.atomicView,0)}else this.atomicView[0]=ie;this.offset=4}done(){this.waitWrite("done");let f=new DataView(this.buffer,this.offset).getUint32(0)===St;return f&&(this.log("done"),this.flip()),f}peek(s){this.peekOffset=this.offset;let f=s();return this.offset=this.peekOffset,this.peekOffset=null,f}string(s){this.waitWrite("string",s);let f=this._int32(),c=f/2,l=new DataView(this.buffer,this.offset,f),d=[];for(let I=0;I<c;I++)d.push(l.getUint16(I*2));let T=String.fromCharCode.apply(null,d);return this.log("string",T),this.offset+=f,this.peekOffset==null&&this.flip(),T}_int32(){let s=4,c=new DataView(this.buffer,this.offset).getInt32();return this.log("_int32",c),this.offset+=s,c}int32(){this.waitWrite("int32");let s=this._int32();return this.log("int32",s),this.peekOffset==null&&this.flip(),s}bytes(){this.waitWrite("bytes");let s=this._int32(),f=new ArrayBuffer(s);return new Uint8Array(f).set(new Uint8Array(this.buffer,this.offset,s)),this.log("bytes",f),this.offset+=s,this.peekOffset==null&&this.flip(),f}}class Rr{constructor(s,{initialOffset:f=4,useAtomics:c=!0,stream:l=!0,debug:d,name:T}={}){this.buffer=s,this.atomicView=new Int32Array(s),this.offset=f,this.useAtomics=c,this.stream=l,this.debug=d,this.name=T,this.useAtomics?Atomics.store(this.atomicView,0,ie):this.atomicView[0]=ie}log(...s){this.debug&&console.log(`[writer: ${this.name}]`,...s)}waitRead(s){if(this.useAtomics){if(this.log(`waiting for ${s}`),Atomics.compareExchange(this.atomicView,0,ie,Ee)!==ie)throw new Error("Wrote something into unwritable buffer! This is disastrous");for(Atomics.notify(this.atomicView,0);Atomics.load(this.atomicView,0)===Ee;)Atomics.wait(this.atomicView,0,Ee,500);this.log(`resumed for ${s}`)}else this.atomicView[0]=Ee;this.offset=4}finalize(){this.log("finalizing"),new DataView(this.buffer,this.offset).setUint32(0,St),this.waitRead("finalize")}string(s){this.log("string",s);let f=s.length*2;this._int32(f);let c=new DataView(this.buffer,this.offset,f);for(let l=0;l<s.length;l++)c.setUint16(l*2,s.charCodeAt(l));this.offset+=f,this.waitRead("string")}_int32(s){let f=4;new DataView(this.buffer,this.offset).setInt32(0,s),this.offset+=f}int32(s){this.log("int32",s),this._int32(s),this.waitRead("int32")}bytes(s){this.log("bytes",s);let f=s.byteLength;this._int32(f),new Uint8Array(this.buffer,this.offset).set(new Uint8Array(s)),this.offset+=f,this.waitRead("bytes")}}function kt(i,s){return Math.round(i/s)}function wr(i,s){self.postMessage({type:"__absurd:spawn-idb-worker",argBuffer:s.buffer,resultBuffer:i.buffer}),self.addEventListener("message",f=>{switch(f.data.type){case"__perf-deets:start-profile":s.string("profile-start"),s.finalize(),i.int32(),i.done();break;case"__perf-deets:stop-profile":s.string("profile-stop"),s.finalize(),i.int32(),i.done();break}})}class Ir{constructor(s){this.filename=s}getStoreName(){return this.filename.replace(/\//g,"-")}invokeWorker(s,f){if(this.reader==null||this.writer==null)throw new Error(`Attempted ${s} on ${this.filename} but file not open`);let c=this.reader,l=this.writer;switch(s){case"readBlocks":{let{name:d,positions:T,blockSize:I}=f,u=[];for(let g of T){l.string("readBlock"),l.string(d),l.int32(kt(g,I)),l.finalize();let U=c.bytes();c.done(),u.push({pos:g,data:U.byteLength===0?new ArrayBuffer(I):U})}return u}case"writeBlocks":{let{name:d,writes:T,blockSize:I}=f;l.string("writeBlocks"),l.string(d);for(let g of T)l.int32(kt(g.pos,I)),l.bytes(g.data);l.finalize();let u=c.int32();return c.done(),u}case"readMeta":{l.string("readMeta"),l.string(f.name),l.finalize();let d=c.int32(),T=c.int32();return c.done(),d===-1?null:{size:d,blockSize:T}}case"writeMeta":{let{name:d,meta:T}=f;l.string("writeMeta"),l.string(d),l.int32(T.size),l.finalize();let I=c.int32();return c.done(),I}case"closeFile":{l.string("closeFile"),l.string(f.name),l.finalize();let d=c.int32();return c.done(),d}case"lockFile":{l.string("lockFile"),l.string(f.name),l.int32(f.lockType),l.finalize();let d=c.int32();return c.done(),d===0}case"unlockFile":{l.string("unlockFile"),l.string(f.name),l.int32(f.lockType),l.finalize();let d=c.int32();return c.done(),d===0}}}lock(s){return this.invokeWorker("lockFile",{name:this.getStoreName(),lockType:s})}unlock(s){return this.invokeWorker("unlockFile",{name:this.getStoreName(),lockType:s})}delete(){(this.reader||this.writer)&&this.close();let s=globalThis.indexedDB.deleteDatabase(this.getStoreName());s.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},s.onsuccess=()=>{}}open(){let s=new SharedArrayBuffer(36864);this.writer=new Rr(s,{name:"args (backend)",debug:!1});let f=new SharedArrayBuffer(4096*9);this.reader=new Lr(f,{name:"results",debug:!1}),wr(this.reader,this.writer)}close(){this.invokeWorker("closeFile",{name:this.getStoreName()}),this.reader=null,this.writer=null,this.worker=null}readMeta(){return this.invokeWorker("readMeta",{name:this.getStoreName()})}writeMeta(s){return this.invokeWorker("writeMeta",{name:this.getStoreName(),meta:s})}readBlocks(s,f){return this.stats&&(this.stats.read+=s.length),this.invokeWorker("readBlocks",{name:this.getStoreName(),positions:s,blockSize:f})}writeBlocks(s,f){return this.stats&&(this.stats.writes+=s.length),this.invokeWorker("writeBlocks",{name:this.getStoreName(),writes:s,blockSize:f})}}function Nr(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let s;return new Promise(f=>{const c=()=>indexedDB.databases().finally(f);s=setInterval(c,100),c()}).finally(()=>clearInterval(s))}function Ot(i,s){return Math.round(i/s)}async function yr(i){return await Nr(),new Promise((s,f)=>{let c=globalThis.indexedDB.open(i,2);c.onsuccess=l=>{let d=l.target.result;d.onversionchange=()=>{console.log("closing because version changed"),d.close()},d.onclose=()=>{},s(d)},c.onupgradeneeded=l=>{let d=l.target.result;d.objectStoreNames.contains("data")||d.createObjectStore("data")},c.onblocked=l=>console.log("blocked",l),c.onerror=c.onabort=l=>f(l.target.error)})}class gr{constructor(s,f){this.dbName=s,this._openDb=null,this.hasAlertedFailure=!1,this.onFallbackFailure=f}async getDb(){return this._openDb?this._openDb:(this._openDb=await yr(this.dbName),this._openDb)}closeDb(){this._openDb&&(this._openDb.close(),this._openDb=null)}async readAll(){let s=await this.getDb(this.dbName),f=new Map,l=s.transaction(["data"],"readonly").objectStore("data");return new Promise((d,T)=>{let I=l.openCursor(IDBKeyRange.lowerBound(-1));I.onerror=T,I.onsuccess=u=>{let g=u.target.result;g?(f.set(g.key,g.value),g.continue()):d(f)}})}async write(s,f,c){let d=(await this.getDb(this.dbName)).transaction(["data"],"readwrite"),T=d.objectStore("data");await new Promise((I,u)=>{let g=T.get(0);g.onsuccess=U=>{if(c&&!mr(g.result,f)){this.onFallbackFailure&&!this.hasAlertedFailure&&(this.hasAlertedFailure=!0,this.onFallbackFailure()),u(new Error("Fallback mode unable to write file changes"));return}for(let C of s)T.put(C.value,C.key);d.onsuccess=()=>I(),d.onerror=()=>u()},g.onerror=u})}}class vr{constructor(s,f){this.filename=s,this.dbName=this.filename.replace(/\//g,"-"),this.cachedFirstBlock=null,this.writeQueue=null,this.blocks=new Map,this.lockType=0,this.transferBlockOwnership=!1,this.persistance=new gr(this.dbName,f)}async readIfFallback(){return this.transferBlockOwnership=!0,this.blocks=await this.persistance.readAll(),this.readMeta()}lock(s){return this.cachedFirstBlock=this.blocks.get(0),this.lockType=s,!0}unlock(s){return this.lockType>Me.SHARED&&s===Me.SHARED&&this.flush(),this.lockType=s,!0}delete(){let s=globalThis.indexedDB.deleteDatabase(this.dbName);s.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},s.onsuccess=()=>{}}open(){this.writeQueue=[],this.lockType=0}close(){this.flush(),this.transferBlockOwnership?this.transferBlockOwnership=!1:this.blocks=new Map,this.persistance.closeDb()}readMeta(){let s=this.blocks.get(-1);if(s){let f=this.blocks.get(0);return{size:s.size,blockSize:tt(new Uint8Array(f))}}return null}writeMeta(s){this.blocks.set(-1,s),this.queueWrite(-1,s)}readBlocks(s,f){let c=[];for(let l of s)c.push({pos:l,data:this.blocks.get(Ot(l,f))});return c}writeBlocks(s,f){for(let c of s){let l=Ot(c.pos,f);this.blocks.set(l,c.data),this.queueWrite(l,c.data)}this.lockType<=Me.SHARED&&this.flush()}queueWrite(s,f){this.writeQueue.push({key:s,value:f})}flush(){this.writeQueue.length>0&&(this.persistance.write(this.writeQueue,this.cachedFirstBlock,this.lockType>Me.SHARED),this.writeQueue=[]),this.cachedFirstBlock=null}}class Sr{constructor(s){this.onFallbackFailure=s}createFile(s){let f;typeof SharedArrayBuffer<"u"?f=new Ir(s):f=new vr(s,this.onFallbackFailure);let c=new br(s,f);return{}.PERF_BUILD&&(this._files==null&&(this._files=new Set),this._files.add(c)),c}startProfile(){for(let s of this._files)if(s.ops.writer){let f=s.ops.writer,c=s.ops.reader;f.string("profile-start"),f.finalize(),c.int32(),c.done()}}stopProfile(){for(let s of this._files)if(s.ops.writer){let f=s.ops.writer,c=s.ops.reader;f.string("profile-stop"),f.finalize(),c.int32(),c.done()}}}const kr=(i,s,f,c)=>{switch(s){case"startsWith":return`${i} LIKE '${f}%'`;case"contains":return`${i} LIKE '%${f}%'`;case"notContains":return`${i} NOT LIKE '%${f}%'`;case"endsWith":return`${i} LIKE '%${f}'`;case"equals":return`${i} = '${f}'`;case"notEquals":return`${i} <> '${f}'`;case"in":const l=f.map(d=>`'${d}'`).join(", ");return`${i} IN (${l})`;case"lt":return`${i} < '${f}'`;case"lte":return`${i} <= '${f}'`;case"gt":return`${i} > '${f}'`;case"gte":return`${i} >= '${f}'`;case"between":return`${i} BETWEEN '${f}' AND '${c}'`;case"dateIs":case"dateIsNot":case"dateBefore":case"dateAfter":if(s==="dateIs")return`${i} = ${f}`;if(s==="dateIsNot")return`${i} <> ${f}`;if(s==="dateBefore")return`${i} < ${f}`;if(s==="dateAfter")return`${i} > ${f}`;break;default:return""}},Or=(i,s)=>`${i} ${s}`;var Mr=(i,s)=>{const f=i.exec(s);if(f[0]){const c=f[0].columns;return f[0].values.map(T=>{const I={};return T.forEach((u,g)=>{I[c[g]]=u}),I})}else return[]},m;(function(i){i[i.BACKSPACE=8]="BACKSPACE",i[i.FORM_FEED=12]="FORM_FEED",i[i.NEWLINE=10]="NEWLINE",i[i.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",i[i.TAB=9]="TAB",i[i.SPACE=32]="SPACE",i[i.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",i[i.QUOTATION_MARK=34]="QUOTATION_MARK",i[i.NUMBER_SIGN=35]="NUMBER_SIGN",i[i.DOLLAR_SIGN=36]="DOLLAR_SIGN",i[i.PERCENT_SIGN=37]="PERCENT_SIGN",i[i.AMPERSAND=38]="AMPERSAND",i[i.APOSTROPHE=39]="APOSTROPHE",i[i.LEFT_PARENTHESIS=40]="LEFT_PARENTHESIS",i[i.RIGHT_PARENTHESIS=41]="RIGHT_PARENTHESIS",i[i.ASTERISK=42]="ASTERISK",i[i.PLUS_SIGN=43]="PLUS_SIGN",i[i.COMMA=44]="COMMA",i[i.HYPHEN_MINUS=45]="HYPHEN_MINUS",i[i.FULL_STOP=46]="FULL_STOP",i[i.SOLIDUS=47]="SOLIDUS",i[i.DIGIT_ZERO=48]="DIGIT_ZERO",i[i.DIGIT_ONE=49]="DIGIT_ONE",i[i.DIGIT_TWO=50]="DIGIT_TWO",i[i.DIGIT_THREE=51]="DIGIT_THREE",i[i.DIGIT_FOUR=52]="DIGIT_FOUR",i[i.DIGIT_FIVE=53]="DIGIT_FIVE",i[i.DIGIT_SIX=54]="DIGIT_SIX",i[i.DIGIT_SEVEN=55]="DIGIT_SEVEN",i[i.DIGIT_EIGHT=56]="DIGIT_EIGHT",i[i.DIGIT_NINE=57]="DIGIT_NINE",i[i.COLON=58]="COLON",i[i.SEMICOLON=59]="SEMICOLON",i[i.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",i[i.EQUALS_SIGN=61]="EQUALS_SIGN",i[i.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",i[i.QUESTION_MARK=63]="QUESTION_MARK",i[i.COMMERCIAL_AT=64]="COMMERCIAL_AT",i[i.LATIN_CAPITAL_LETTER_A=65]="LATIN_CAPITAL_LETTER_A",i[i.LATIN_CAPITAL_LETTER_B=66]="LATIN_CAPITAL_LETTER_B",i[i.LATIN_CAPITAL_LETTER_C=67]="LATIN_CAPITAL_LETTER_C",i[i.LATIN_CAPITAL_LETTER_D=68]="LATIN_CAPITAL_LETTER_D",i[i.LATIN_CAPITAL_LETTER_E=69]="LATIN_CAPITAL_LETTER_E",i[i.LATIN_CAPITAL_LETTER_F=70]="LATIN_CAPITAL_LETTER_F",i[i.LATIN_CAPITAL_LETTER_G=71]="LATIN_CAPITAL_LETTER_G",i[i.LATIN_CAPITAL_LETTER_H=72]="LATIN_CAPITAL_LETTER_H",i[i.LATIN_CAPITAL_LETTER_I=73]="LATIN_CAPITAL_LETTER_I",i[i.LATIN_CAPITAL_LETTER_J=74]="LATIN_CAPITAL_LETTER_J",i[i.LATIN_CAPITAL_LETTER_K=75]="LATIN_CAPITAL_LETTER_K",i[i.LATIN_CAPITAL_LETTER_L=76]="LATIN_CAPITAL_LETTER_L",i[i.LATIN_CAPITAL_LETTER_M=77]="LATIN_CAPITAL_LETTER_M",i[i.LATIN_CAPITAL_LETTER_N=78]="LATIN_CAPITAL_LETTER_N",i[i.LATIN_CAPITAL_LETTER_O=79]="LATIN_CAPITAL_LETTER_O",i[i.LATIN_CAPITAL_LETTER_P=80]="LATIN_CAPITAL_LETTER_P",i[i.LATIN_CAPITAL_LETTER_Q=81]="LATIN_CAPITAL_LETTER_Q",i[i.LATIN_CAPITAL_LETTER_R=82]="LATIN_CAPITAL_LETTER_R",i[i.LATIN_CAPITAL_LETTER_S=83]="LATIN_CAPITAL_LETTER_S",i[i.LATIN_CAPITAL_LETTER_T=84]="LATIN_CAPITAL_LETTER_T",i[i.LATIN_CAPITAL_LETTER_U=85]="LATIN_CAPITAL_LETTER_U",i[i.LATIN_CAPITAL_LETTER_V=86]="LATIN_CAPITAL_LETTER_V",i[i.LATIN_CAPITAL_LETTER_W=87]="LATIN_CAPITAL_LETTER_W",i[i.LATIN_CAPITAL_LETTER_X=88]="LATIN_CAPITAL_LETTER_X",i[i.LATIN_CAPITAL_LETTER_Y=89]="LATIN_CAPITAL_LETTER_Y",i[i.LATIN_CAPITAL_LETTER_Z=90]="LATIN_CAPITAL_LETTER_Z",i[i.LEFT_SQUARE_BRACKET=91]="LEFT_SQUARE_BRACKET",i[i.REVERSE_SOLIDUS=92]="REVERSE_SOLIDUS",i[i.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",i[i.CIRCUMFLEX_ACCENT=94]="CIRCUMFLEX_ACCENT",i[i.LOW_LINE=95]="LOW_LINE",i[i.GRAVE_ACCENT=96]="GRAVE_ACCENT",i[i.LATIN_SMALL_LETTER_A=97]="LATIN_SMALL_LETTER_A",i[i.LATIN_SMALL_LETTER_B=98]="LATIN_SMALL_LETTER_B",i[i.LATIN_SMALL_LETTER_C=99]="LATIN_SMALL_LETTER_C",i[i.LATIN_SMALL_LETTER_D=100]="LATIN_SMALL_LETTER_D",i[i.LATIN_SMALL_LETTER_E=101]="LATIN_SMALL_LETTER_E",i[i.LATIN_SMALL_LETTER_F=102]="LATIN_SMALL_LETTER_F",i[i.LATIN_SMALL_LETTER_G=103]="LATIN_SMALL_LETTER_G",i[i.LATIN_SMALL_LETTER_H=104]="LATIN_SMALL_LETTER_H",i[i.LATIN_SMALL_LETTER_I=105]="LATIN_SMALL_LETTER_I",i[i.LATIN_SMALL_LETTER_J=106]="LATIN_SMALL_LETTER_J",i[i.LATIN_SMALL_LETTER_K=107]="LATIN_SMALL_LETTER_K",i[i.LATIN_SMALL_LETTER_L=108]="LATIN_SMALL_LETTER_L",i[i.LATIN_SMALL_LETTER_M=109]="LATIN_SMALL_LETTER_M",i[i.LATIN_SMALL_LETTER_N=110]="LATIN_SMALL_LETTER_N",i[i.LATIN_SMALL_LETTER_O=111]="LATIN_SMALL_LETTER_O",i[i.LATIN_SMALL_LETTER_P=112]="LATIN_SMALL_LETTER_P",i[i.LATIN_SMALL_LETTER_Q=113]="LATIN_SMALL_LETTER_Q",i[i.LATIN_SMALL_LETTER_R=114]="LATIN_SMALL_LETTER_R",i[i.LATIN_SMALL_LETTER_S=115]="LATIN_SMALL_LETTER_S",i[i.LATIN_SMALL_LETTER_T=116]="LATIN_SMALL_LETTER_T",i[i.LATIN_SMALL_LETTER_U=117]="LATIN_SMALL_LETTER_U",i[i.LATIN_SMALL_LETTER_V=118]="LATIN_SMALL_LETTER_V",i[i.LATIN_SMALL_LETTER_W=119]="LATIN_SMALL_LETTER_W",i[i.LATIN_SMALL_LETTER_X=120]="LATIN_SMALL_LETTER_X",i[i.LATIN_SMALL_LETTER_Y=121]="LATIN_SMALL_LETTER_Y",i[i.LATIN_SMALL_LETTER_Z=122]="LATIN_SMALL_LETTER_Z",i[i.LEFT_CURLY_BRACKET=123]="LEFT_CURLY_BRACKET",i[i.VERTICAL_LINE=124]="VERTICAL_LINE",i[i.RIGHT_CURLY_BRACKET=125]="RIGHT_CURLY_BRACKET",i[i.TILDE=126]="TILDE"})(m||(m={}));const Cr={[m.QUOTATION_MARK]:m.QUOTATION_MARK,[m.REVERSE_SOLIDUS]:m.REVERSE_SOLIDUS,[m.SOLIDUS]:m.SOLIDUS,[m.LATIN_SMALL_LETTER_B]:m.BACKSPACE,[m.LATIN_SMALL_LETTER_F]:m.FORM_FEED,[m.LATIN_SMALL_LETTER_N]:m.NEWLINE,[m.LATIN_SMALL_LETTER_R]:m.CARRIAGE_RETURN,[m.LATIN_SMALL_LETTER_T]:m.TAB};class Mt{constructor(){this.decoder=new TextDecoder("utf-8"),this.strings=[],this.byteLength=0}appendChar(s){this.strings.push(String.fromCharCode(s)),this.byteLength+=1}appendBuf(s,f=0,c=s.length){this.strings.push(this.decoder.decode(s.subarray(f,c))),this.byteLength+=c-f}reset(){this.strings=[],this.byteLength=0}toString(){return this.strings.join("")}}class Ct{constructor(s){this.decoder=new TextDecoder("utf-8"),this.bufferOffset=0,this.string="",this.byteLength=0,this.buffer=new Uint8Array(s)}appendChar(s){this.bufferOffset>=this.buffer.length&&this.flushStringBuffer(),this.buffer[this.bufferOffset++]=s,this.byteLength+=1}appendBuf(s,f=0,c=s.length){const l=c-f;this.bufferOffset+l>this.buffer.length&&this.flushStringBuffer(),this.buffer.set(s.subarray(f,c),this.bufferOffset),this.bufferOffset+=l,this.byteLength+=l}flushStringBuffer(){this.string+=this.decoder.decode(this.buffer.subarray(0,this.bufferOffset)),this.bufferOffset=0}reset(){this.string="",this.bufferOffset=0,this.byteLength=0}toString(){return this.flushStringBuffer(),this.string}}var rt;(function(i){i[i.LEFT_BRACE=0]="LEFT_BRACE",i[i.RIGHT_BRACE=1]="RIGHT_BRACE",i[i.LEFT_BRACKET=2]="LEFT_BRACKET",i[i.RIGHT_BRACKET=3]="RIGHT_BRACKET",i[i.COLON=4]="COLON",i[i.COMMA=5]="COMMA",i[i.TRUE=6]="TRUE",i[i.FALSE=7]="FALSE",i[i.NULL=8]="NULL",i[i.STRING=9]="STRING",i[i.NUMBER=10]="NUMBER",i[i.SEPARATOR=11]="SEPARATOR"})(rt||(rt={}));var k=rt,p;(function(i){i[i.START=0]="START",i[i.ENDED=1]="ENDED",i[i.ERROR=2]="ERROR",i[i.TRUE1=3]="TRUE1",i[i.TRUE2=4]="TRUE2",i[i.TRUE3=5]="TRUE3",i[i.FALSE1=6]="FALSE1",i[i.FALSE2=7]="FALSE2",i[i.FALSE3=8]="FALSE3",i[i.FALSE4=9]="FALSE4",i[i.NULL1=10]="NULL1",i[i.NULL2=11]="NULL2",i[i.NULL3=12]="NULL3",i[i.STRING_DEFAULT=13]="STRING_DEFAULT",i[i.STRING_AFTER_BACKSLASH=14]="STRING_AFTER_BACKSLASH",i[i.STRING_UNICODE_DIGIT_1=15]="STRING_UNICODE_DIGIT_1",i[i.STRING_UNICODE_DIGIT_2=16]="STRING_UNICODE_DIGIT_2",i[i.STRING_UNICODE_DIGIT_3=17]="STRING_UNICODE_DIGIT_3",i[i.STRING_UNICODE_DIGIT_4=18]="STRING_UNICODE_DIGIT_4",i[i.STRING_INCOMPLETE_CHAR=19]="STRING_INCOMPLETE_CHAR",i[i.NUMBER_AFTER_INITIAL_MINUS=20]="NUMBER_AFTER_INITIAL_MINUS",i[i.NUMBER_AFTER_INITIAL_ZERO=21]="NUMBER_AFTER_INITIAL_ZERO",i[i.NUMBER_AFTER_INITIAL_NON_ZERO=22]="NUMBER_AFTER_INITIAL_NON_ZERO",i[i.NUMBER_AFTER_FULL_STOP=23]="NUMBER_AFTER_FULL_STOP",i[i.NUMBER_AFTER_DECIMAL=24]="NUMBER_AFTER_DECIMAL",i[i.NUMBER_AFTER_E=25]="NUMBER_AFTER_E",i[i.NUMBER_AFTER_E_AND_SIGN=26]="NUMBER_AFTER_E_AND_SIGN",i[i.NUMBER_AFTER_E_AND_DIGIT=27]="NUMBER_AFTER_E_AND_DIGIT",i[i.SEPARATOR=28]="SEPARATOR",i[i.BOM_OR_START=29]="BOM_OR_START",i[i.BOM=30]="BOM"})(p||(p={}));function Dt(i){return["START","ENDED","ERROR","TRUE1","TRUE2","TRUE3","FALSE1","FALSE2","FALSE3","FALSE4","NULL1","NULL2","NULL3","STRING_DEFAULT","STRING_AFTER_BACKSLASH","STRING_UNICODE_DIGIT_1","STRING_UNICODE_DIGIT_2","STRING_UNICODE_DIGIT_3","STRING_UNICODE_DIGIT_4","STRING_INCOMPLETE_CHAR","NUMBER_AFTER_INITIAL_MINUS","NUMBER_AFTER_INITIAL_ZERO","NUMBER_AFTER_INITIAL_NON_ZERO","NUMBER_AFTER_FULL_STOP","NUMBER_AFTER_DECIMAL","NUMBER_AFTER_E","NUMBER_AFTER_E_AND_SIGN","NUMBER_AFTER_E_AND_DIGIT","SEPARATOR","BOM_OR_START","BOM"][i]}const Dr={stringBufferSize:0,numberBufferSize:0,separator:void 0,emitPartialTokens:!1};class Ce extends Error{constructor(s){super(s),Object.setPrototypeOf(this,Ce.prototype)}}class Ur{constructor(s){this.state=p.BOM_OR_START,this.bomIndex=0,this.separatorIndex=0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.char_split_buffer=new Uint8Array(4),this.encoder=new TextEncoder,this.offset=-1,s=Object.assign(Object.assign({},Dr),s),this.emitPartialTokens=s.emitPartialTokens===!0,this.bufferedString=s.stringBufferSize&&s.stringBufferSize>4?new Ct(s.stringBufferSize):new Mt,this.bufferedNumber=s.numberBufferSize&&s.numberBufferSize>0?new Ct(s.numberBufferSize):new Mt,this.separator=s.separator,this.separatorBytes=s.separator?this.encoder.encode(s.separator):void 0}get isEnded(){return this.state===p.ENDED}write(s){try{let f;if(s instanceof Uint8Array)f=s;else if(typeof s=="string")f=this.encoder.encode(s);else if(Array.isArray(s))f=Uint8Array.from(s);else if(ArrayBuffer.isView(s))f=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);else throw new TypeError("Unexpected type. The `write` function only accepts Arrays, TypedArrays and Strings.");for(let c=0;c<f.length;c+=1){const l=f[c];switch(this.state){case p.BOM_OR_START:if(s instanceof Uint8Array&&l===239){this.bom=[239,187,191],this.bomIndex+=1,this.state=p.BOM;continue}if(s instanceof Uint16Array){if(l===254){this.bom=[254,255],this.bomIndex+=1,this.state=p.BOM;continue}if(l===255){this.bom=[255,254],this.bomIndex+=1,this.state=p.BOM;continue}}if(s instanceof Uint32Array){if(l===0){this.bom=[0,0,254,255],this.bomIndex+=1,this.state=p.BOM;continue}if(l===255){this.bom=[255,254,0,0],this.bomIndex+=1,this.state=p.BOM;continue}}case p.START:if(this.offset+=1,this.separatorBytes&&l===this.separatorBytes[0]){if(this.separatorBytes.length===1){this.state=p.START,this.onToken({token:k.SEPARATOR,value:this.separator,offset:this.offset+this.separatorBytes.length-1});continue}this.state=p.SEPARATOR;continue}if(l===m.SPACE||l===m.NEWLINE||l===m.CARRIAGE_RETURN||l===m.TAB)continue;if(l===m.LEFT_CURLY_BRACKET){this.onToken({token:k.LEFT_BRACE,value:"{",offset:this.offset});continue}if(l===m.RIGHT_CURLY_BRACKET){this.onToken({token:k.RIGHT_BRACE,value:"}",offset:this.offset});continue}if(l===m.LEFT_SQUARE_BRACKET){this.onToken({token:k.LEFT_BRACKET,value:"[",offset:this.offset});continue}if(l===m.RIGHT_SQUARE_BRACKET){this.onToken({token:k.RIGHT_BRACKET,value:"]",offset:this.offset});continue}if(l===m.COLON){this.onToken({token:k.COLON,value:":",offset:this.offset});continue}if(l===m.COMMA){this.onToken({token:k.COMMA,value:",",offset:this.offset});continue}if(l===m.LATIN_SMALL_LETTER_T){this.state=p.TRUE1;continue}if(l===m.LATIN_SMALL_LETTER_F){this.state=p.FALSE1;continue}if(l===m.LATIN_SMALL_LETTER_N){this.state=p.NULL1;continue}if(l===m.QUOTATION_MARK){this.bufferedString.reset(),this.state=p.STRING_DEFAULT;continue}if(l>=m.DIGIT_ONE&&l<=m.DIGIT_NINE){this.bufferedNumber.reset(),this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_INITIAL_NON_ZERO;continue}if(l===m.DIGIT_ZERO){this.bufferedNumber.reset(),this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_INITIAL_ZERO;continue}if(l===m.HYPHEN_MINUS){this.bufferedNumber.reset(),this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_INITIAL_MINUS;continue}break;case p.STRING_DEFAULT:if(l===m.QUOTATION_MARK){const T=this.bufferedString.toString();this.state=p.START,this.onToken({token:k.STRING,value:T,offset:this.offset}),this.offset+=this.bufferedString.byteLength+1;continue}if(l===m.REVERSE_SOLIDUS){this.state=p.STRING_AFTER_BACKSLASH;continue}if(l>=128){if(l>=194&&l<=223?this.bytes_in_sequence=2:l<=239?this.bytes_in_sequence=3:this.bytes_in_sequence=4,this.bytes_in_sequence<=f.length-c){this.bufferedString.appendBuf(f,c,c+this.bytes_in_sequence),c+=this.bytes_in_sequence-1;continue}this.bytes_remaining=c+this.bytes_in_sequence-f.length,this.char_split_buffer.set(f.subarray(c)),c=f.length-1,this.state=p.STRING_INCOMPLETE_CHAR;continue}if(l>=m.SPACE){this.bufferedString.appendChar(l);continue}break;case p.STRING_INCOMPLETE_CHAR:this.char_split_buffer.set(f.subarray(c,c+this.bytes_remaining),this.bytes_in_sequence-this.bytes_remaining),this.bufferedString.appendBuf(this.char_split_buffer,0,this.bytes_in_sequence),c=this.bytes_remaining-1,this.state=p.STRING_DEFAULT;continue;case p.STRING_AFTER_BACKSLASH:const d=Cr[l];if(d){this.bufferedString.appendChar(d),this.state=p.STRING_DEFAULT;continue}if(l===m.LATIN_SMALL_LETTER_U){this.unicode="",this.state=p.STRING_UNICODE_DIGIT_1;continue}break;case p.STRING_UNICODE_DIGIT_1:case p.STRING_UNICODE_DIGIT_2:case p.STRING_UNICODE_DIGIT_3:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE||l>=m.LATIN_CAPITAL_LETTER_A&&l<=m.LATIN_CAPITAL_LETTER_F||l>=m.LATIN_SMALL_LETTER_A&&l<=m.LATIN_SMALL_LETTER_F){this.unicode+=String.fromCharCode(l),this.state+=1;continue}break;case p.STRING_UNICODE_DIGIT_4:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE||l>=m.LATIN_CAPITAL_LETTER_A&&l<=m.LATIN_CAPITAL_LETTER_F||l>=m.LATIN_SMALL_LETTER_A&&l<=m.LATIN_SMALL_LETTER_F){const T=parseInt(this.unicode+String.fromCharCode(l),16);this.highSurrogate===void 0?T>=55296&&T<=56319?this.highSurrogate=T:this.bufferedString.appendBuf(this.encoder.encode(String.fromCharCode(T))):(T>=56320&&T<=57343?this.bufferedString.appendBuf(this.encoder.encode(String.fromCharCode(this.highSurrogate,T))):this.bufferedString.appendBuf(this.encoder.encode(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.state=p.STRING_DEFAULT;continue}break;case p.NUMBER_AFTER_INITIAL_MINUS:if(l===m.DIGIT_ZERO){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_INITIAL_ZERO;continue}if(l>=m.DIGIT_ONE&&l<=m.DIGIT_NINE){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_INITIAL_NON_ZERO;continue}break;case p.NUMBER_AFTER_INITIAL_ZERO:if(l===m.FULL_STOP){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_FULL_STOP;continue}if(l===m.LATIN_SMALL_LETTER_E||l===m.LATIN_CAPITAL_LETTER_E){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_E;continue}c-=1,this.state=p.START,this.emitNumber();continue;case p.NUMBER_AFTER_INITIAL_NON_ZERO:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE){this.bufferedNumber.appendChar(l);continue}if(l===m.FULL_STOP){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_FULL_STOP;continue}if(l===m.LATIN_SMALL_LETTER_E||l===m.LATIN_CAPITAL_LETTER_E){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_E;continue}c-=1,this.state=p.START,this.emitNumber();continue;case p.NUMBER_AFTER_FULL_STOP:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_DECIMAL;continue}break;case p.NUMBER_AFTER_DECIMAL:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE){this.bufferedNumber.appendChar(l);continue}if(l===m.LATIN_SMALL_LETTER_E||l===m.LATIN_CAPITAL_LETTER_E){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_E;continue}c-=1,this.state=p.START,this.emitNumber();continue;case p.NUMBER_AFTER_E:if(l===m.PLUS_SIGN||l===m.HYPHEN_MINUS){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_E_AND_SIGN;continue}case p.NUMBER_AFTER_E_AND_SIGN:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE){this.bufferedNumber.appendChar(l),this.state=p.NUMBER_AFTER_E_AND_DIGIT;continue}break;case p.NUMBER_AFTER_E_AND_DIGIT:if(l>=m.DIGIT_ZERO&&l<=m.DIGIT_NINE){this.bufferedNumber.appendChar(l);continue}c-=1,this.state=p.START,this.emitNumber();continue;case p.TRUE1:if(l===m.LATIN_SMALL_LETTER_R){this.state=p.TRUE2;continue}break;case p.TRUE2:if(l===m.LATIN_SMALL_LETTER_U){this.state=p.TRUE3;continue}break;case p.TRUE3:if(l===m.LATIN_SMALL_LETTER_E){this.state=p.START,this.onToken({token:k.TRUE,value:!0,offset:this.offset}),this.offset+=3;continue}break;case p.FALSE1:if(l===m.LATIN_SMALL_LETTER_A){this.state=p.FALSE2;continue}break;case p.FALSE2:if(l===m.LATIN_SMALL_LETTER_L){this.state=p.FALSE3;continue}break;case p.FALSE3:if(l===m.LATIN_SMALL_LETTER_S){this.state=p.FALSE4;continue}break;case p.FALSE4:if(l===m.LATIN_SMALL_LETTER_E){this.state=p.START,this.onToken({token:k.FALSE,value:!1,offset:this.offset}),this.offset+=4;continue}break;case p.NULL1:if(l===m.LATIN_SMALL_LETTER_U){this.state=p.NULL2;continue}break;case p.NULL2:if(l===m.LATIN_SMALL_LETTER_L){this.state=p.NULL3;continue}break;case p.NULL3:if(l===m.LATIN_SMALL_LETTER_L){this.state=p.START,this.onToken({token:k.NULL,value:null,offset:this.offset}),this.offset+=3;continue}break;case p.SEPARATOR:if(this.separatorIndex+=1,!this.separatorBytes||l!==this.separatorBytes[this.separatorIndex])break;this.separatorIndex===this.separatorBytes.length-1&&(this.state=p.START,this.onToken({token:k.SEPARATOR,value:this.separator,offset:this.offset+this.separatorIndex}),this.separatorIndex=0);continue;case p.BOM:if(l===this.bom[this.bomIndex]){if(this.bomIndex===this.bom.length-1){this.state=p.START,this.bom=void 0,this.bomIndex=0;continue}this.bomIndex+=1;continue}break;case p.ENDED:if(l===m.SPACE||l===m.NEWLINE||l===m.CARRIAGE_RETURN||l===m.TAB)continue}throw new Ce(`Unexpected "${String.fromCharCode(l)}" at position "${c}" in state ${Dt(this.state)}`)}if(this.emitPartialTokens)switch(this.state){case p.TRUE1:case p.TRUE2:case p.TRUE3:this.onToken({token:k.TRUE,value:!0,offset:this.offset,partial:!0});break;case p.FALSE1:case p.FALSE2:case p.FALSE3:case p.FALSE4:this.onToken({token:k.FALSE,value:!1,offset:this.offset,partial:!0});break;case p.NULL1:case p.NULL2:case p.NULL3:this.onToken({token:k.NULL,value:null,offset:this.offset,partial:!0});break;case p.STRING_DEFAULT:{const c=this.bufferedString.toString();this.onToken({token:k.STRING,value:c,offset:this.offset,partial:!0});break}case p.NUMBER_AFTER_INITIAL_ZERO:case p.NUMBER_AFTER_INITIAL_NON_ZERO:case p.NUMBER_AFTER_DECIMAL:case p.NUMBER_AFTER_E_AND_DIGIT:try{this.onToken({token:k.NUMBER,value:this.parseNumber(this.bufferedNumber.toString()),offset:this.offset,partial:!0})}catch{}}}catch(f){this.error(f)}}emitNumber(){this.onToken({token:k.NUMBER,value:this.parseNumber(this.bufferedNumber.toString()),offset:this.offset}),this.offset+=this.bufferedNumber.byteLength-1}parseNumber(s){return Number(s)}error(s){this.state!==p.ENDED&&(this.state=p.ERROR),this.onError(s)}end(){switch(this.state){case p.NUMBER_AFTER_INITIAL_ZERO:case p.NUMBER_AFTER_INITIAL_NON_ZERO:case p.NUMBER_AFTER_DECIMAL:case p.NUMBER_AFTER_E_AND_DIGIT:this.state=p.ENDED,this.emitNumber(),this.onEnd();break;case p.BOM_OR_START:case p.START:case p.ERROR:case p.SEPARATOR:this.state=p.ENDED,this.onEnd();break;default:this.error(new Ce(`Tokenizer ended in the middle of a token (state: ${Dt(this.state)}). Either not all the data was received or the data was invalid.`))}}onToken(s){throw new Ce(`Can't emit tokens before the "onToken" callback has been set up.`)}onError(s){throw s}onEnd(){}}var j;(function(i){i[i.OBJECT=0]="OBJECT",i[i.ARRAY=1]="ARRAY"})(j||(j={}));var D;(function(i){i[i.VALUE=0]="VALUE",i[i.KEY=1]="KEY",i[i.COLON=2]="COLON",i[i.COMMA=3]="COMMA",i[i.ENDED=4]="ENDED",i[i.ERROR=5]="ERROR",i[i.SEPARATOR=6]="SEPARATOR"})(D||(D={}));function Ut(i){return["VALUE","KEY","COLON","COMMA","ENDED","ERROR","SEPARATOR"][i]}const Fr={paths:void 0,keepStack:!0,separator:void 0,emitPartialValues:!1};class Ie extends Error{constructor(s){super(s),Object.setPrototypeOf(this,Ie.prototype)}}class Pr{constructor(s){this.state=D.VALUE,this.mode=void 0,this.key=void 0,this.value=void 0,this.stack=[],s=Object.assign(Object.assign({},Fr),s),s.paths&&(this.paths=s.paths.map(f=>{if(f===void 0||f==="$*")return;if(!f.startsWith("$"))throw new Ie(`Invalid selector "${f}". Should start with "$".`);const c=f.split(".").slice(1);if(c.includes(""))throw new Ie(`Invalid selector "${f}". ".." syntax not supported.`);return c})),this.keepStack=s.keepStack||!1,this.separator=s.separator,s.emitPartialValues||(this.emitPartial=()=>{})}shouldEmit(){return this.paths?this.paths.some(s=>{var f;if(s===void 0)return!0;if(s.length!==this.stack.length)return!1;for(let l=0;l<s.length-1;l++){const d=s[l],T=this.stack[l+1].key;if(d!=="*"&&d!==T)return!1}const c=s[s.length-1];return c==="*"?!0:c===((f=this.key)===null||f===void 0?void 0:f.toString())}):!0}push(){this.stack.push({key:this.key,value:this.value,mode:this.mode,emit:this.shouldEmit()})}pop(){const s=this.value;let f;({key:this.key,value:this.value,mode:this.mode,emit:f}=this.stack.pop()),this.state=this.mode!==void 0?D.COMMA:D.VALUE,this.emit(s,f)}emit(s,f){!this.keepStack&&this.value&&this.stack.every(c=>!c.emit)&&delete this.value[this.key],f&&this.onValue({value:s,key:this.key,parent:this.value,stack:this.stack}),this.stack.length===0&&(this.separator?this.state=D.SEPARATOR:this.separator===void 0&&this.end())}emitPartial(s){if(this.shouldEmit()){if(this.state===D.KEY){this.onValue({value:void 0,key:s,parent:this.value,stack:this.stack,partial:!0});return}this.onValue({value:s,key:this.key,parent:this.value,stack:this.stack,partial:!0})}}get isEnded(){return this.state===D.ENDED}write({token:s,value:f,partial:c}){try{if(c){this.emitPartial(f);return}if(this.state===D.VALUE){if(s===k.STRING||s===k.NUMBER||s===k.TRUE||s===k.FALSE||s===k.NULL){this.mode===j.OBJECT?(this.value[this.key]=f,this.state=D.COMMA):this.mode===j.ARRAY&&(this.value.push(f),this.state=D.COMMA),this.emit(f,this.shouldEmit());return}if(s===k.LEFT_BRACE){if(this.push(),this.mode===j.OBJECT)this.value=this.value[this.key]={};else if(this.mode===j.ARRAY){const l={};this.value.push(l),this.value=l}else this.value={};this.mode=j.OBJECT,this.state=D.KEY,this.key=void 0,this.emitPartial();return}if(s===k.LEFT_BRACKET){if(this.push(),this.mode===j.OBJECT)this.value=this.value[this.key]=[];else if(this.mode===j.ARRAY){const l=[];this.value.push(l),this.value=l}else this.value=[];this.mode=j.ARRAY,this.state=D.VALUE,this.key=0,this.emitPartial();return}if(this.mode===j.ARRAY&&s===k.RIGHT_BRACKET&&this.value.length===0){this.pop();return}}if(this.state===D.KEY){if(s===k.STRING){this.key=f,this.state=D.COLON,this.emitPartial();return}if(s===k.RIGHT_BRACE&&Object.keys(this.value).length===0){this.pop();return}}if(this.state===D.COLON&&s===k.COLON){this.state=D.VALUE;return}if(this.state===D.COMMA){if(s===k.COMMA){if(this.mode===j.ARRAY){this.state=D.VALUE,this.key+=1;return}if(this.mode===j.OBJECT){this.state=D.KEY;return}}if(s===k.RIGHT_BRACE&&this.mode===j.OBJECT||s===k.RIGHT_BRACKET&&this.mode===j.ARRAY){this.pop();return}}if(this.state===D.SEPARATOR&&s===k.SEPARATOR&&f===this.separator){this.state=D.VALUE;return}throw new Ie(`Unexpected ${k[s]} (${JSON.stringify(f)}) in state ${Ut(this.state)}`)}catch(l){this.error(l)}}error(s){this.state!==D.ENDED&&(this.state=D.ERROR),this.onError(s)}end(){this.state!==D.VALUE&&this.state!==D.SEPARATOR||this.stack.length>0?this.error(new Error(`Parser ended in mid-parsing (state: ${Ut(this.state)}). Either not all the data was received or the data was invalid.`)):(this.state=D.ENDED,this.onEnd())}onValue(s){throw new Ie(`Can't emit data before the "onValue" callback has been set up.`)}onError(s){throw s}onEnd(){}}class Br{constructor(s={}){this.tokenizer=new Ur(s),this.tokenParser=new Pr(s),this.tokenizer.onToken=this.tokenParser.write.bind(this.tokenParser),this.tokenizer.onEnd=()=>{this.tokenParser.isEnded||this.tokenParser.end()},this.tokenParser.onError=this.tokenizer.error.bind(this.tokenizer),this.tokenParser.onEnd=()=>{this.tokenizer.isEnded||this.tokenizer.end()}}get isEnded(){return this.tokenizer.isEnded&&this.tokenParser.isEnded}write(s){this.tokenizer.write(s)}end(){this.tokenizer.end()}set onToken(s){this.tokenizer.onToken=f=>{s(f),this.tokenParser.write(f)}}set onValue(s){this.tokenParser.onValue=s}set onError(s){this.tokenizer.onError=s}set onEnd(s){this.tokenParser.onEnd=()=>{this.tokenizer.isEnded||this.tokenizer.end(),s.call(this.tokenParser)}}}const Ft=new Br;let oe,le,nt,pe="test10",Pt=null;const $e=new Promise(i=>Pt=i),Gr=async()=>{le=await dr({locateFile:s=>s}),nt=new pr(le.FS,new Sr),le.register_for_idb(nt),le.FS.mkdir("/sql"),le.FS.mount(nt,{},"/sql");const i=`/sql/db${pe}.sqlite`;if(typeof SharedArrayBuffer>"u"){let s=le.FS.open(i,"a+");await s.node.contents.readIfFallback(),le.FS.close(s)}oe=new le.Database(i,{filename:!0}),oe.exec(`
    PRAGMA journal_mode=MEMORY;
    PRAGMA synchronous=OFF;
    PRAGMA page_size=32768;
    PRAGMA cache_size=32000;
    PRAGMA temp_store=MEMORY;
  `),Pt()},it=[],ot=["companyId","companyName","orderId","itemId","saleNo","saleName","lClassCode","lclassName","customerId","orderType","orderTypeNm","orderQty","notInvoiceAmount","taxAmount","invoiceAmount","orderAmount","orderStatus","invoiceDate","invoiceCode","invoiceNo","invoiceType","invoiceTypeNm","returnWarehouseDate","invoiceReturnDate","returnId","returnStatus","returnStatusNm","invoiceStatus","invoiceStatusNm","eInvoice","eInvoiceNm","debitnoteAmount","cancelDate","returnType","netCost","cost","subChannelId","subChannelName","reportClassCode","reportClass","prodSource","orderSource","takeOrderClassCode","takeOrderClass","reportDeptId","reportDeptName"],qr=["companyId","companyName","itemId","saleNo","saleName","lClassCode","lclassName","customerId","orderType","orderTypeNm","orderQty","notInvoiceAmount","taxAmount","invoiceAmount","orderAmount","orderStatus","invoiceDate","invoiceCode","invoiceNo","invoiceType","invoiceTypeNm","returnWarehouseDate","invoiceReturnDate","returnStatus","returnStatusNm","invoiceStatus","invoiceStatusNm","eInvoice","eInvoiceNm","debitnoteAmount","cancelDate","returnType","netCost","subChannelId","subChannelName","reportClassCode","reportClass","prodSource","orderSource","takeOrderClassCode","takeOrderClass","reportDeptId","reportDeptName"],xr=["returnId","cost","orderId"];Ft.onValue=({value:i})=>{i&&typeof i=="object"&&it.push(i)};const Bt={MAIN:async()=>{await Gr()},DELETE_TABLE:async()=>{await $e,oe.exec(`DROP TABLE ${pe}`),postMessage({type:"DELETE_TABLE"})},CREATE_TABLE:async()=>{await $e;try{let i=`${qr.map(s=>`${s} TEXT`).join(", ")}, ${xr.map(s=>`${s} INTEGER`).join(", ")}`;console.log(pe),oe.exec(`CREATE TABLE ${pe} (${i})`)}catch(i){console.log(i)}postMessage({type:"CREATE_TABLE"})},PROGRESS:i=>{Ft.write(i)},END:async()=>{console.time("INSERT"),oe.exec("BEGIN TRANSACTION");let i=oe.prepare(`INSERT INTO ${pe} (${ot.join(",")}) VALUES (${ot.map(s=>"?").join(",")})`);for(const s of it)i.run([...ot.map(f=>s[f]??"")]);i.free(),oe.exec("COMMIT"),console.timeEnd("INSERT"),postMessage({type:"SQLITE_READY",count:it.length})},CMD:async i=>{await $e,console.log(i);try{const s=oe[i.action](i.sql);postMessage({type:"CMD",result:{...s},meta:i.meta??{}})}finally{postMessage({type:"ERROR"})}},CHANGE_DB:async i=>{pe=i.dbname},QUERY:async i=>{var I,u;await $e,i=i||{};let s="",f="";if(i.filters){const g=" AND";Object.entries(i.filters).forEach(([U,C])=>{let{value:B,matchMode:q,value1:te}=C;B=((Z,se)=>(Z==="reueqstDate"&&(se=Number(new Date(Number(se)))),se))(U,B),s+=kr(U,q,B,te)+`${g}`}),s&&(s="WHERE "+s.split(`${g}`).filter(Boolean).join(`${g} `))}if(i.sort){const g=i.sort.filter(U=>U.order);console.log(g),g.length&&(g.forEach(({field:U,order:C})=>{f+=Or(U,C)+","}),f="ORDER BY "+f.split(",").filter(Boolean).join(","))}const c={page:((I=i.page)==null?void 0:I.page)??1,size:((u=i.page)==null?void 0:u.size)??100},l=(c.page-1)*c.size,d=`SELECT * FROM ${pe} ${s} ${f} LIMIT ${c.size} OFFSET ${l}`;console.log(d),console.time("QUERY");const T=Mr(oe,d);for(const g of T)g.reueqstDate=new Date(Number(g.reueqstDate));postMessage({type:"QUERY",statment:d,results:[...T],page:{...c}}),console.timeEnd("QUERY")}};addEventListener("message",async function(i){console.time("WORKER"),console.log(`Worker Receive data type: ${i.data.type}`),i.data.type?Bt[i.data.type](i.data.queryArgs):Bt.PROGRESS(i.data),console.timeEnd("WORKER")})})();
