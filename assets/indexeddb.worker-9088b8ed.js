(function(){"use strict";function Zt(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}function Kt(p){if(p.__esModule)return p;var a=p.default;if(typeof a=="function"){var u=function f(){return this instanceof f?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};u.prototype=a.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(p).forEach(function(f){var c=Object.getOwnPropertyDescriptor(p,f);Object.defineProperty(u,f,c.get?c:{enumerable:!0,get:function(){return p[f]}})}),u}var yt={exports:{}},Jt={},er=Object.freeze({__proto__:null,default:Jt}),be=Kt(er);(function(p,a){var u=void 0,f=function(c){return u||(u=new Promise(function(m,g){var i=typeof c<"u"?c:{},v=i.onAbort;i.onAbort=function(e){g(new Error(e)),v&&v(e)},i.postRun=i.postRun||[],i.postRun.push(function(){m(i)}),p=void 0;var i;i||(i=typeof i<"u"?i:{}),i.onRuntimeInitialized=function(){function e(h,y){this.Qa=h,this.db=y,this.Pa=1,this.wb=[]}function t(h,y){if(this.db=y,y=de(h)+1,this.hb=He(y),this.hb===null)throw Error("Unable to allocate memory for the SQL string");oe(h,Q,this.hb,y),this.sb=this.hb,this.eb=this.Mb=null}function r(h,{filename:y=!1}={}){y===!1?(this.filename="dbfile_"+(4294967295*Math.random()>>>0),this.Xc=!0,h!=null&&n.zb("/",this.filename,h,!0,!0)):this.filename=h,this.handleError(l(this.filename,o)),this.db=te(o,"i32"),rn(this.db),this.nb={},this.Xa={}}var o=ae(4),s=i.cwrap,l=s("sqlite3_open","number",["string","number"]),d=s("sqlite3_close_v2","number",["number"]),w=s("sqlite3_exec","number",["number","string","number","number","number"]),E=s("sqlite3_changes","number",["number"]),b=s("sqlite3_prepare_v2","number",["number","string","number","number","number"]),k=s("sqlite3_sql","string",["number"]),R=s("sqlite3_normalized_sql","string",["number"]),x=s("sqlite3_prepare_v2","number",["number","number","number","number","number"]),$=s("sqlite3_bind_text","number",["number","number","number","number","number"]),z=s("sqlite3_bind_blob","number",["number","number","number","number","number"]),X=s("sqlite3_bind_double","number",["number","number","number"]),we=s("sqlite3_bind_int","number",["number","number","number"]),ue=s("sqlite3_bind_parameter_index","number",["number","string"]),bt=s("sqlite3_step","number",["number"]),C=s("sqlite3_errmsg","string",["number"]),zr=s("sqlite3_column_count","number",["number"]),Br=s("sqlite3_data_count","number",["number"]),xr=s("sqlite3_column_double","number",["number","number"]),Lr=s("sqlite3_column_text","string",["number","number"]),Ur=s("sqlite3_column_blob","number",["number","number"]),Ir=s("sqlite3_column_bytes","number",["number","number"]),$r=s("sqlite3_column_type","number",["number","number"]),Cr=s("sqlite3_column_name","string",["number","number"]),Wr=s("sqlite3_reset","number",["number"]),jr=s("sqlite3_clear_bindings","number",["number"]),Vr=s("sqlite3_finalize","number",["number"]),Xr=s("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Qr=s("sqlite3_value_type","number",["number"]),Hr=s("sqlite3_value_bytes","number",["number"]),Yr=s("sqlite3_value_text","string",["number"]),Gr=s("sqlite3_value_blob","number",["number"]),Zr=s("sqlite3_value_double","number",["number"]),Kr=s("sqlite3_result_double","",["number","number"]),Ht=s("sqlite3_result_null","",["number"]),Jr=s("sqlite3_result_text","",["number","string","number","number"]),en=s("sqlite3_result_blob","",["number","number","number","number"]),tn=s("sqlite3_result_int","",["number","number"]),Yt=s("sqlite3_result_error","",["number","string","number"]),rn=s("RegisterExtensionFunctions","number",["number"]);e.prototype.bind=function(h){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(h)?this.vc(h):h!=null&&typeof h=="object"?this.wc(h):!0},e.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Pa=1;var h=bt(this.Qa);switch(h){case 100:return!0;case 101:return!1;default:throw this.db.handleError(h)}},e.prototype.Pc=function(h){return h==null&&(h=this.Pa,this.Pa+=1),xr(this.Qa,h)},e.prototype.Qc=function(h){return h==null&&(h=this.Pa,this.Pa+=1),Lr(this.Qa,h)},e.prototype.getBlob=function(h){h==null&&(h=this.Pa,this.Pa+=1);var y=Ir(this.Qa,h);h=Ur(this.Qa,h);for(var A=new Uint8Array(y),T=0;T<y;T+=1)A[T]=U[h+T];return A},e.prototype.get=function(h){h!=null&&this.bind(h)&&this.step(),h=[];for(var y=Br(this.Qa),A=0;A<y;A+=1)switch($r(this.Qa,A)){case 1:case 2:h.push(this.Pc(A));break;case 3:h.push(this.Qc(A));break;case 4:h.push(this.getBlob(A));break;default:h.push(null)}return h},e.prototype.getColumnNames=function(){for(var h=[],y=zr(this.Qa),A=0;A<y;A+=1)h.push(Cr(this.Qa,A));return h},e.prototype.getAsObject=function(h){h=this.get(h);for(var y=this.getColumnNames(),A={},T=0;T<y.length;T+=1)A[y[T]]=h[T];return A},e.prototype.getSQL=function(){return k(this.Qa)},e.prototype.getNormalizedSQL=function(){return R(this.Qa)},e.prototype.run=function(h){return h!=null&&this.bind(h),this.step(),this.reset()},e.prototype.zc=function(h,y){y==null&&(y=this.Pa,this.Pa+=1),h=Qe(h);var A=nt(h);this.wb.push(A),this.db.handleError($(this.Qa,y,A,h.length-1,0))},e.prototype.uc=function(h,y){y==null&&(y=this.Pa,this.Pa+=1);var A=nt(h);this.wb.push(A),this.db.handleError(z(this.Qa,y,A,h.length,0))},e.prototype.yc=function(h,y){y==null&&(y=this.Pa,this.Pa+=1),this.db.handleError((h===(h|0)?we:X)(this.Qa,y,h))},e.prototype.xc=function(h){h==null&&(h=this.Pa,this.Pa+=1),z(this.Qa,h,0,0,0)},e.prototype.Tb=function(h,y){switch(y==null&&(y=this.Pa,this.Pa+=1),typeof h){case"string":this.zc(h,y);return;case"number":case"boolean":this.yc(h+0,y);return;case"object":if(h===null){this.xc(y);return}if(h.length!=null){this.uc(h,y);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+h+")."},e.prototype.wc=function(h){var y=this;return Object.keys(h).forEach(function(A){var T=ue(y.Qa,A);T!==0&&y.Tb(h[A],T)}),!0},e.prototype.vc=function(h){for(var y=0;y<h.length;y+=1)this.Tb(h[y],y+1);return!0},e.prototype.reset=function(){return jr(this.Qa)===0&&Wr(this.Qa)===0},e.prototype.freemem=function(){for(var h;(h=this.wb.pop())!==void 0;)Oe(h)},e.prototype.free=function(){var h=Vr(this.Qa)===0;return delete this.db.nb[this.Qa],this.Qa=0,h},t.prototype.next=function(){if(this.hb===null)return{done:!0};if(this.eb!==null&&(this.eb.free(),this.eb=null),!this.db.db)throw this.Bb(),Error("Database closed");var h=Pe(),y=ae(4);Fe(o),Fe(y);try{this.db.handleError(x(this.db.db,this.sb,-1,o,y)),this.sb=te(y,"i32");var A=te(o,"i32");return A===0?(this.Bb(),{done:!0}):(this.eb=new e(A,this.db),this.db.nb[A]=this.eb,{value:this.eb,done:!1})}catch(T){throw this.Mb=L(this.sb),this.Bb(),T}finally{ze(h)}},t.prototype.Bb=function(){Oe(this.hb),this.hb=null},t.prototype.getRemainingSQL=function(){return this.Mb!==null?this.Mb:L(this.sb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(t.prototype[Symbol.iterator]=function(){return this}),r.prototype.run=function(h,y){if(!this.db)throw"Database closed";if(y){h=this.prepare(h,y);try{h.step()}finally{h.free()}}else this.handleError(w(this.db,h,0,0,o));return this},r.prototype.exec=function(h,y){if(!this.db)throw"Database closed";var A=Pe(),T=null;try{var O=de(h)+1,K=ae(O);oe(h,U,K,O);var j=K,Ae=ae(4);for(h=[];te(j,"i8")!==0;){Fe(o),Fe(Ae),this.handleError(x(this.db,j,-1,o,Ae));var Se=te(o,"i32");if(j=te(Ae,"i32"),Se!==0){for(O=null,T=new e(Se,this),y!=null&&T.bind(y);T.step();)O===null&&(O={columns:T.getColumnNames(),values:[]},h.push(O)),O.values.push(T.get());T.free()}}return h}catch(V){throw T&&T.free(),V}finally{ze(A)}},r.prototype.each=function(h,y,A,T){typeof y=="function"&&(T=A,A=y,y=void 0),h=this.prepare(h,y);try{for(;h.step();)A(h.getAsObject())}finally{h.free()}if(typeof T=="function")return T()},r.prototype.prepare=function(h,y){if(Fe(o),this.handleError(b(this.db,h,-1,o,0)),h=te(o,"i32"),h===0)throw"Nothing to prepare";var A=new e(h,this);return y!=null&&A.bind(y),this.nb[h]=A},r.prototype.iterateStatements=function(h){return new t(h,this)},r.prototype.export=function(){Object.values(this.nb).forEach(function(y){y.free()}),Object.values(this.Xa).forEach(et),this.Xa={},this.handleError(d(this.db));var h=n.readFile(this.filename,{encoding:"binary"});return this.handleError(l(this.filename,o)),this.db=te(o,"i32"),h},r.prototype.close=function(){this.db!==null&&(Object.values(this.nb).forEach(function(h){h.free()}),Object.values(this.Xa).forEach(et),this.Xa={},this.handleError(d(this.db)),this.Xc&&n.unlink("/"+this.filename),this.db=null)},r.prototype.handleError=function(h){if(h===0)return null;throw h=C(this.db),Error(h)},r.prototype.getRowsModified=function(){return E(this.db)},r.prototype.create_function=function(h,y){Object.prototype.hasOwnProperty.call(this.Xa,h)&&(et(this.Xa[h]),delete this.Xa[h]);var A=$e(function(T,O,K){for(var j,Ae=[],Se=0;Se<O;Se+=1){var V=te(K+4*Se,"i32"),re=Qr(V);if(re===1||re===2)V=Zr(V);else if(re===3)V=Yr(V);else if(re===4){re=V,V=Hr(re),re=Gr(re);for(var Gt=new Uint8Array(V),Ge=0;Ge<V;Ge+=1)Gt[Ge]=U[re+Ge];V=Gt}else V=null;Ae.push(V)}try{j=y.apply(null,Ae)}catch(nn){Yt(T,nn,-1);return}switch(typeof j){case"boolean":tn(T,j?1:0);break;case"number":Kr(T,j);break;case"string":Jr(T,j,-1,-1);break;case"object":j===null?Ht(T):j.length!=null?(O=nt(j),en(T,O,j.length,-1),Oe(O)):Yt(T,"Wrong API use : tried to return a value of an unknown type ("+j+").",-1);break;default:Ht(T)}},"viii");return this.Xa[h]=A,this.handleError(Xr(this.db,h,y.length,1,0,A,0,0,0)),this},i.Database=r;var Be=new Map;i.register_for_idb=h=>{let y=$e(function(O,K){return O=Be.get(O),h.lock(O,K)?0:5},"iii"),A=$e(function(O,K){return O=Be.get(O),h.unlock(O,K),0},"iii"),T=$e(function(O,K){O=L(O),Be.set(K,O)},"vii");i._register_for_idb(y,A,T)},i.cleanup_file=h=>{let y=[...Be.entries()].find(A=>A[1]===h);Be.delete(y[0])},i.reset_filesystem=()=>{n.root=null,n.lc()}};var S={},F;for(F in i)i.hasOwnProperty(F)&&(S[F]=i[F]);var N="./this.program",P=typeof window=="object",B=typeof importScripts=="function",G=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",W="",De,Re,Ue,ce,ge;G?(W=B?be.dirname(W)+"/":__dirname+"/",De=function(e,t){return ce||(ce=be),ge||(ge=be),e=ge.normalize(e),ce.readFileSync(e,t?null:"utf8")},Ue=function(e){return e=De(e,!0),e.buffer||(e=new Uint8Array(e)),rt(e.buffer),e},Re=function(e,t,r){ce||(ce=be),ge||(ge=be),e=ge.normalize(e),ce.readFile(e,function(o,s){o?r(o):t(s.buffer)})},1<process.argv.length&&(N=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),p.exports=i,i.inspect=function(){return"[Emscripten Module object]"}):(P||B)&&(B?W=self.location.href:typeof document<"u"&&document.currentScript&&(W=document.currentScript.src),W=W.indexOf("blob:")!==0?W.substr(0,W.lastIndexOf("/")+1):"",De=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},B&&(Ue=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Re=function(e,t,r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)});var Ie=i.print||console.log.bind(console),I=i.printErr||console.warn.bind(console);for(F in S)S.hasOwnProperty(F)&&(i[F]=S[F]);S=null,i.thisProgram&&(N=i.thisProgram);var Je=[],he;function et(e){he.delete(Z.get(e)),Je.push(e)}function $e(e,t){if(!he){he=new WeakMap;for(var r=0;r<Z.length;r++){var o=Z.get(r);o&&he.set(o,r)}}if(he.has(e))e=he.get(e);else{if(Je.length)r=Je.pop();else{try{Z.grow(1)}catch(w){throw w instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":w}r=Z.length-1}try{Z.set(r,e)}catch(w){if(!(w instanceof TypeError))throw w;if(typeof WebAssembly.Function=="function"){var s={i:"i32",j:"i64",f:"f32",d:"f64"},l={parameters:[],results:t[0]=="v"?[]:[s[t[0]]]};for(o=1;o<t.length;++o)l.parameters.push(s[t[o]]);t=new WebAssembly.Function(l,e)}else{s=[1,0,1,96],l=t.slice(0,1),t=t.slice(1);var d={i:127,j:126,f:125,d:124};for(s.push(t.length),o=0;o<t.length;++o)s.push(d[t[o]]);l=="v"?s.push(0):s=s.concat([1,d[l]]),s[1]=s.length-2,t=new Uint8Array([0,97,115,109,1,0,0,0].concat(s,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),t=new WebAssembly.Module(t),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}Z.set(r,t)}he.set(e,r),e=r}return e}var Ne;i.wasmBinary&&(Ne=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&D("no native wasm support detected");function Fe(e){var t="i32";switch(t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":U[e>>0]=0;break;case"i8":U[e>>0]=0;break;case"i16":Ce[e>>1]=0;break;case"i32":_[e>>2]=0;break;case"i64":Y=[0,(M=0,1<=+Math.abs(M)?0<M?(Math.min(+Math.floor(M/4294967296),4294967295)|0)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],_[e>>2]=Y[0],_[e+4>>2]=Y[1];break;case"float":it[e>>2]=0;break;case"double":st[e>>3]=0;break;default:D("invalid type for setValue: "+t)}}function te(e,t){switch(t=t||"i8",t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":return U[e>>0];case"i8":return U[e>>0];case"i16":return Ce[e>>1];case"i32":return _[e>>2];case"i64":return _[e>>2];case"float":return it[e>>2];case"double":return st[e>>3];default:D("invalid type for getValue: "+t)}return null}var tt,Tt=!1;function rt(e,t){e||D("Assertion failed: "+t)}function Dt(e){var t=i["_"+e];return rt(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function kr(e,t,r,o){var s={string:function(b){var k=0;if(b!=null&&b!==0){var R=(b.length<<2)+1;k=ae(R),oe(b,Q,k,R)}return k},array:function(b){var k=ae(b.length);return U.set(b,k),k}},l=Dt(e),d=[];if(e=0,o)for(var w=0;w<o.length;w++){var E=s[r[w]];E?(e===0&&(e=Pe()),d[w]=E(o[w])):d[w]=o[w]}return r=l.apply(null,d),r=function(b){return t==="string"?L(b):t==="boolean"?!!b:b}(r),e!==0&&ze(e),r}function nt(e){var t=He(e.length);return e.subarray||e.slice?Q.set(e,t):Q.set(new Uint8Array(e),t),t}var Rt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _e(e,t,r){var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.subarray&&Rt)return Rt.decode(e.subarray(t,r));for(o="";t<r;){var s=e[t++];if(s&128){var l=e[t++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|l);else{var d=e[t++]&63;s=(s&240)==224?(s&15)<<12|l<<6|d:(s&7)<<18|l<<12|d<<6|e[t++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o}function L(e,t){return e?_e(Q,e,t):""}function oe(e,t,r,o){if(!(0<o))return 0;var s=r;o=r+o-1;for(var l=0;l<e.length;++l){var d=e.charCodeAt(l);if(55296<=d&&57343>=d){var w=e.charCodeAt(++l);d=65536+((d&1023)<<10)|w&1023}if(127>=d){if(r>=o)break;t[r++]=d}else{if(2047>=d){if(r+1>=o)break;t[r++]=192|d>>6}else{if(65535>=d){if(r+2>=o)break;t[r++]=224|d>>12}else{if(r+3>=o)break;t[r++]=240|d>>18,t[r++]=128|d>>12&63}t[r++]=128|d>>6&63}t[r++]=128|d&63}}return t[r]=0,r-s}function de(e){for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&(o=65536+((o&1023)<<10)|e.charCodeAt(++r)&1023),127>=o?++t:t=2047>=o?t+2:65535>=o?t+3:t+4}return t}function Nt(e){var t=de(e)+1,r=He(t);return r&&oe(e,U,r,t),r}var ot,U,Q,Ce,_,it,st;function Ft(){var e=tt.buffer;ot=e,i.HEAP8=U=new Int8Array(e),i.HEAP16=Ce=new Int16Array(e),i.HEAP32=_=new Int32Array(e),i.HEAPU8=Q=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=it=new Float32Array(e),i.HEAPF64=st=new Float64Array(e)}var Z,Mt=[],Ot=[],Pt=[];function Ar(){var e=i.preRun.shift();Mt.unshift(e)}var pe=0,Me=null;function at(){pe++,i.monitorRunDependencies&&i.monitorRunDependencies(pe)}function We(){if(pe--,i.monitorRunDependencies&&i.monitorRunDependencies(pe),pe==0&&Me){var e=Me;Me=null,e()}}i.preloadedImages={},i.preloadedAudios={};function D(e){throw i.onAbort&&i.onAbort(e),I(e),Tt=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function zt(){return H.startsWith("data:application/octet-stream;base64,")}var H;if(H="sql-wasm.wasm",!zt()){var Bt=H;H=i.locateFile?i.locateFile(Bt,W):W+Bt}function xt(){var e=H;try{if(e==H&&Ne)return new Uint8Array(Ne);if(Ue)return Ue(e);throw"both async and sync fetching of the wasm failed"}catch(t){D(t)}}function Sr(){if(!Ne&&(P||B)){if(typeof fetch=="function"&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+H+"'";return e.arrayBuffer()}).catch(function(){return xt()});if(Re)return new Promise(function(e,t){Re(H,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return xt()})}var M,Y;function ut(e){for(;0<e.length;){var t=e.shift();if(typeof t=="function")t(i);else{var r=t.pd;typeof r=="number"?t.yb===void 0?Z.get(r)():Z.get(r)(t.yb):r(t.yb===void 0?null:t.yb)}}}function qr(e){return e.replace(/\b_Z[\w\d_]+/g,function(t){return t===t?t:t+" ["+t+"]"})}function Tr(){function e(d){return(d=d.toTimeString().match(/\(([A-Za-z ]+)\)$/))?d[1]:"GMT"}if(!Lt){Lt=!0;var t=new Date().getFullYear(),r=new Date(t,0,1),o=new Date(t,6,1);t=r.getTimezoneOffset();var s=o.getTimezoneOffset(),l=Math.max(t,s);_[Xt()>>2]=60*l,_[Vt()>>2]=+(t!=s),r=e(r),o=e(o),r=Nt(r),o=Nt(o),s<t?(_[ke()>>2]=r,_[ke()+4>>2]=o):(_[ke()>>2]=o,_[ke()+4>>2]=r)}}var Lt;function lt(e,t){for(var r=0,o=e.length-1;0<=o;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r;r--)e.unshift("..");return e}function Ee(e){var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=lt(e.split("/").filter(function(o){return!!o}),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function je(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)}function ie(e){if(e==="/")return"/";e=Ee(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)}function ve(e,t){return Ee(e+"/"+t)}function Dr(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(G)try{var t=be;return function(){return t.randomBytes(1)[0]}}catch{}return function(){D("randomDevice")}}function me(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:n.cwd(),typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=lt(e.split("/").filter(function(o){return!!o}),!t).join("/"),(t?"/":"")+e||"."}function Ut(e,t){function r(d){for(var w=0;w<d.length&&d[w]==="";w++);for(var E=d.length-1;0<=E&&d[E]==="";E--);return w>E?[]:d.slice(w,E-w+1)}e=me(e).substr(1),t=me(t).substr(1),e=r(e.split("/")),t=r(t.split("/"));for(var o=Math.min(e.length,t.length),s=o,l=0;l<o;l++)if(e[l]!==t[l]){s=l;break}for(o=[],l=s;l<e.length;l++)o.push("..");return o=o.concat(t.slice(s)),o.join("/")}var It=[];function $t(e,t){It[e]={input:[],output:[],gb:t},n.Qb(e,Rr)}var Rr={open:function(e){var t=It[e.node.rdev];if(!t)throw new n.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.gb.flush(e.tty)},flush:function(e){e.tty.gb.flush(e.tty)},read:function(e,t,r,o){if(!e.tty||!e.tty.gb.cc)throw new n.ErrnoError(60);for(var s=0,l=0;l<o;l++){try{var d=e.tty.gb.cc(e.tty)}catch{throw new n.ErrnoError(29)}if(d===void 0&&s===0)throw new n.ErrnoError(6);if(d==null)break;s++,t[r+l]=d}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o){if(!e.tty||!e.tty.gb.Nb)throw new n.ErrnoError(60);try{for(var s=0;s<o;s++)e.tty.gb.Nb(e.tty,t[r+s])}catch{throw new n.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),s}},Nr={cc:function(e){if(!e.input.length){var t=null;if(G){var r=Buffer.alloc(256),o=0;try{o=ce.readSync(process.stdin.fd,r,0,256,null)}catch(s){if(s.toString().includes("EOF"))o=0;else throw s}0<o?t=r.slice(0,o).toString("utf-8"):t=null}else typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`));if(!t)return null;e.input=Qe(t,!0)}return e.input.shift()},Nb:function(e,t){t===null||t===10?(Ie(_e(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(Ie(_e(e.output,0)),e.output=[])}},Fr={Nb:function(e,t){t===null||t===10?(I(_e(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(I(_e(e.output,0)),e.output=[])}};function Ct(e){e=65536*Math.ceil(e/65536);var t=Qt(65536,e);return t?(Q.fill(0,t,t+e),t):0}var q={Va:null,mount:function(){return q.createNode(null,"/",16895,0)},createNode:function(e,t,r,o){if(n.Rc(r)||n.isFIFO(r))throw new n.ErrnoError(63);return q.Va||(q.Va={dir:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr,lookup:q.node_ops.lookup,mknod:q.node_ops.mknod,rename:q.node_ops.rename,unlink:q.node_ops.unlink,rmdir:q.node_ops.rmdir,readdir:q.node_ops.readdir,symlink:q.node_ops.symlink},stream:{llseek:q.stream_ops.llseek}},file:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr},stream:{llseek:q.stream_ops.llseek,read:q.stream_ops.read,write:q.stream_ops.write,allocate:q.stream_ops.allocate,mmap:q.stream_ops.mmap,msync:q.stream_ops.msync}},link:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr,readlink:q.node_ops.readlink},stream:{}},Vb:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr},stream:n.Cc}}),r=n.createNode(e,t,r,o),n.isDir(r.mode)?(r.node_ops=q.Va.dir.node,r.stream_ops=q.Va.dir.stream,r.Na={}):n.isFile(r.mode)?(r.node_ops=q.Va.file.node,r.stream_ops=q.Va.file.stream,r.Ra=0,r.Na=null):n.fb(r.mode)?(r.node_ops=q.Va.link.node,r.stream_ops=q.Va.link.stream):n.pb(r.mode)&&(r.node_ops=q.Va.Vb.node,r.stream_ops=q.Va.Vb.stream),r.timestamp=Date.now(),e&&(e.Na[t]=r,e.timestamp=r.timestamp),r},qd:function(e){return e.Na?e.Na.subarray?e.Na.subarray(0,e.Ra):new Uint8Array(e.Na):new Uint8Array(0)},Zb:function(e,t){var r=e.Na?e.Na.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.Na,e.Na=new Uint8Array(t),0<e.Ra&&e.Na.set(r.subarray(0,e.Ra),0))},gd:function(e,t){if(e.Ra!=t)if(t==0)e.Na=null,e.Ra=0;else{var r=e.Na;e.Na=new Uint8Array(t),r&&e.Na.set(r.subarray(0,Math.min(t,e.Ra))),e.Ra=t}},node_ops:{getattr:function(e){var t={};return t.dev=n.pb(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,n.isDir(e.mode)?t.size=4096:n.isFile(e.mode)?t.size=e.Ra:n.fb(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Ac=4096,t.blocks=Math.ceil(t.size/t.Ac),t},setattr:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&q.gd(e,t.size)},lookup:function(){throw n.Db[44]},mknod:function(e,t,r,o){return q.createNode(e,t,r,o)},rename:function(e,t,r){if(n.isDir(e.mode)){try{var o=n.lookupNode(t,r)}catch{}if(o)for(var s in o.Na)throw new n.ErrnoError(55)}delete e.parent.Na[e.name],e.parent.timestamp=Date.now(),e.name=r,t.Na[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.Na[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=n.lookupNode(e,t),o;for(o in r.Na)throw new n.ErrnoError(55);delete e.Na[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."],r;for(r in e.Na)e.Na.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){return e=q.createNode(e,t,41471,0),e.link=r,e},readlink:function(e){if(!n.fb(e.mode))throw new n.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,o,s){var l=e.node.Na;if(s>=e.node.Ra)return 0;if(e=Math.min(e.node.Ra-s,o),8<e&&l.subarray)t.set(l.subarray(s,s+e),r);else for(o=0;o<e;o++)t[r+o]=l[s+o];return e},write:function(e,t,r,o,s,l){if(t.buffer===U.buffer&&(l=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.Na||e.Na.subarray)){if(l)return e.Na=t.subarray(r,r+o),e.Ra=o;if(e.Ra===0&&s===0)return e.Na=t.slice(r,r+o),e.Ra=o;if(s+o<=e.Ra)return e.Na.set(t.subarray(r,r+o),s),o}if(q.Zb(e,s+o),e.Na.subarray&&t.subarray)e.Na.set(t.subarray(r,r+o),s);else for(l=0;l<o;l++)e.Na[s+l]=t[r+l];return e.Ra=Math.max(e.Ra,s+o),o},llseek:function(e,t,r){if(r===1?t+=e.position:r===2&&n.isFile(e.node.mode)&&(t+=e.node.Ra),0>t)throw new n.ErrnoError(28);return t},allocate:function(e,t,r){q.Zb(e.node,t+r),e.node.Ra=Math.max(e.node.Ra,t+r)},mmap:function(e,t,r,o,s,l){if(t!==0)throw new n.ErrnoError(28);if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);if(e=e.node.Na,l&2||e.buffer!==ot){if((0<o||o+r<e.length)&&(e.subarray?e=e.subarray(o,o+r):e=Array.prototype.slice.call(e,o,o+r)),o=!0,r=Ct(r),!r)throw new n.ErrnoError(48);U.set(e,r)}else o=!1,r=e.byteOffset;return{ed:r,vb:o}},msync:function(e,t,r,o,s){if(!n.isFile(e.node.mode))throw new n.ErrnoError(43);return s&2||q.stream_ops.write(e,t,0,o,r,!1),0}}};function Mr(e,t,r){var o="al "+e;Re(e,function(s){rt(s,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(s)),o&&We()},function(){if(r)r();else throw'Loading data file "'+e+'" failed.'}),o&&at()}var n={root:null,mb:[],Xb:{},streams:[],Zc:1,Ua:null,Wb:"/",Hb:!1,hc:!0,Sa:{},nc:{kc:{qc:1,rc:2}},ErrnoError:null,Db:{},Lc:null,tb:0,lookupPath:function(e,t){if(e=me(n.cwd(),e),t=t||{},!e)return{path:"",node:null};var r={Cb:!0,Pb:0},o;for(o in r)t[o]===void 0&&(t[o]=r[o]);if(8<t.Pb)throw new n.ErrnoError(32);e=lt(e.split("/").filter(function(d){return!!d}),!1);var s=n.root;for(r="/",o=0;o<e.length;o++){var l=o===e.length-1;if(l&&t.parent)break;if(s=n.lookupNode(s,e[o]),r=ve(r,e[o]),n.ab(s)&&(!l||l&&t.Cb)&&(s=s.lb.root),!l||t.Ta){for(l=0;n.fb(s.mode);)if(s=n.readlink(r),r=me(je(r),s),s=n.lookupPath(r,{Pb:t.Pb}).node,40<l++)throw new n.ErrnoError(32)}}return{path:r,node:s}},Ya:function(e){for(var t;;){if(n.isRoot(e))return e=e.mount.jc,t?e[e.length-1]!=="/"?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}},Gb:function(e,t){for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return(e+r>>>0)%n.Ua.length},ec:function(e){var t=n.Gb(e.parent.id,e.name);e.cb=n.Ua[t],n.Ua[t]=e},fc:function(e){var t=n.Gb(e.parent.id,e.name);if(n.Ua[t]===e)n.Ua[t]=e.cb;else for(t=n.Ua[t];t;){if(t.cb===e){t.cb=e.cb;break}t=t.cb}},lookupNode:function(e,t){var r=n.Vc(e);if(r)throw new n.ErrnoError(r,e);for(r=n.Ua[n.Gb(e.id,t)];r;r=r.cb){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return n.lookup(e,t)},createNode:function(e,t,r,o){return e=new n.FSNode(e,t,r,o),n.ec(e),e},Ab:function(e){n.fc(e)},isRoot:function(e){return e===e.parent},ab:function(e){return!!e.lb},isFile:function(e){return(e&61440)===32768},isDir:function(e){return(e&61440)===16384},fb:function(e){return(e&61440)===40960},pb:function(e){return(e&61440)===8192},Rc:function(e){return(e&61440)===24576},isFIFO:function(e){return(e&61440)===4096},isSocket:function(e){return(e&49152)===49152},Mc:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Yc:function(e){var t=n.Mc[e];if(typeof t>"u")throw Error("Unknown file open mode: "+e);return t},$b:function(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},Za:function(e,t){if(n.hc)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Vc:function(e){var t=n.Za(e,"x");return t||(e.node_ops.lookup?0:2)},Lb:function(e,t){try{return n.lookupNode(e,t),20}catch{}return n.Za(e,"wx")},qb:function(e,t,r){try{var o=n.lookupNode(e,t)}catch(s){return s.Oa}if(e=n.Za(e,"wx"))return e;if(r){if(!n.isDir(o.mode))return 54;if(n.isRoot(o)||n.Ya(o)===n.cwd())return 10}else if(n.isDir(o.mode))return 31;return 0},Wc:function(e,t){return e?n.fb(e.mode)?32:n.isDir(e.mode)&&(n.$b(t)!=="r"||t&512)?31:n.Za(e,n.$b(t)):44},oc:4096,$c:function(e,t){for(t=t||n.oc,e=e||0;e<=t;e++)if(!n.streams[e])return e;throw new n.ErrnoError(33)},$a:function(e){return n.streams[e]},Jc:function(e,t,r){n.ub||(n.ub=function(){},n.ub.prototype={object:{get:function(){return this.node},set:function(l){this.node=l}}});var o=new n.ub,s;for(s in e)o[s]=e[s];return e=o,t=n.$c(t,r),e.fd=t,n.streams[t]=e},Dc:function(e){n.streams[e]=null},Cc:{open:function(e){e.stream_ops=n.Oc(e.node.rdev).stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new n.ErrnoError(70)}},Kb:function(e){return e>>8},sd:function(e){return e&255},bb:function(e,t){return e<<8|t},Qb:function(e,t){n.Xb[e]={stream_ops:t}},Oc:function(e){return n.Xb[e]},bc:function(e){var t=[];for(e=[e];e.length;){var r=e.pop();t.push(r),e.push.apply(e,r.mb)}return t},mc:function(e,t){function r(d){return n.tb--,t(d)}function o(d){if(d){if(!o.Kc)return o.Kc=!0,r(d)}else++l>=s.length&&r(null)}typeof e=="function"&&(t=e,e=!1),n.tb++,1<n.tb&&I("warning: "+n.tb+" FS.syncfs operations in flight at once, probably just doing extra work");var s=n.bc(n.root.mount),l=0;s.forEach(function(d){if(!d.type.mc)return o(null);d.type.mc(d,e,o)})},mount:function(e,t,r){var o=r==="/",s=!r;if(o&&n.root)throw new n.ErrnoError(10);if(!o&&!s){var l=n.lookupPath(r,{Cb:!1});if(r=l.path,l=l.node,n.ab(l))throw new n.ErrnoError(10);if(!n.isDir(l.mode))throw new n.ErrnoError(54)}return t={type:e,vd:t,jc:r,mb:[]},e=e.mount(t),e.mount=t,t.root=e,o?n.root=e:l&&(l.lb=t,l.mount&&l.mount.mb.push(t)),e},yd:function(e){if(e=n.lookupPath(e,{Cb:!1}),!n.ab(e.node))throw new n.ErrnoError(28);e=e.node;var t=e.lb,r=n.bc(t);Object.keys(n.Ua).forEach(function(o){for(o=n.Ua[o];o;){var s=o.cb;r.includes(o.mount)&&n.Ab(o),o=s}}),e.lb=null,e.mount.mb.splice(e.mount.mb.indexOf(t),1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var o=n.lookupPath(e,{parent:!0}).node;if(e=ie(e),!e||e==="."||e==="..")throw new n.ErrnoError(28);var s=n.Lb(o,e);if(s)throw new n.ErrnoError(s);if(!o.node_ops.mknod)throw new n.ErrnoError(63);return o.node_ops.mknod(o,e,t,r)},create:function(e,t){return n.mknod(e,(t!==void 0?t:438)&4095|32768,0)},mkdir:function(e,t){return n.mknod(e,(t!==void 0?t:511)&1023|16384,0)},td:function(e,t){e=e.split("/");for(var r="",o=0;o<e.length;++o)if(e[o]){r+="/"+e[o];try{n.mkdir(r,t)}catch(s){if(s.Oa!=20)throw s}}},rb:function(e,t,r){return typeof r>"u"&&(r=t,t=438),n.mknod(e,t|8192,r)},symlink:function(e,t){if(!me(e))throw new n.ErrnoError(44);var r=n.lookupPath(t,{parent:!0}).node;if(!r)throw new n.ErrnoError(44);t=ie(t);var o=n.Lb(r,t);if(o)throw new n.ErrnoError(o);if(!r.node_ops.symlink)throw new n.ErrnoError(63);return r.node_ops.symlink(r,t,e)},rename:function(e,t){var r=je(e),o=je(t),s=ie(e),l=ie(t),d=n.lookupPath(e,{parent:!0}),w=d.node;if(d=n.lookupPath(t,{parent:!0}),d=d.node,!w||!d)throw new n.ErrnoError(44);if(w.mount!==d.mount)throw new n.ErrnoError(75);var E=n.lookupNode(w,s);if(o=Ut(e,o),o.charAt(0)!==".")throw new n.ErrnoError(28);if(o=Ut(t,r),o.charAt(0)!==".")throw new n.ErrnoError(55);try{var b=n.lookupNode(d,l)}catch{}if(E!==b){if(r=n.isDir(E.mode),s=n.qb(w,s,r))throw new n.ErrnoError(s);if(s=b?n.qb(d,l,r):n.Lb(d,l))throw new n.ErrnoError(s);if(!w.node_ops.rename)throw new n.ErrnoError(63);if(n.ab(E)||b&&n.ab(b))throw new n.ErrnoError(10);if(d!==w&&(s=n.Za(w,"w")))throw new n.ErrnoError(s);try{n.Sa.willMovePath&&n.Sa.willMovePath(e,t)}catch(k){I("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+k.message)}n.fc(E);try{w.node_ops.rename(E,d,l)}catch(k){throw k}finally{n.ec(E)}try{n.Sa.onMovePath&&n.Sa.onMovePath(e,t)}catch(k){I("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+k.message)}}},rmdir:function(e){var t=n.lookupPath(e,{parent:!0}).node,r=ie(e),o=n.lookupNode(t,r),s=n.qb(t,r,!0);if(s)throw new n.ErrnoError(s);if(!t.node_ops.rmdir)throw new n.ErrnoError(63);if(n.ab(o))throw new n.ErrnoError(10);try{n.Sa.willDeletePath&&n.Sa.willDeletePath(e)}catch(l){I("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+l.message)}t.node_ops.rmdir(t,r),n.Ab(o);try{n.Sa.onDeletePath&&n.Sa.onDeletePath(e)}catch(l){I("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+l.message)}},readdir:function(e){if(e=n.lookupPath(e,{Ta:!0}).node,!e.node_ops.readdir)throw new n.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(e){var t=n.lookupPath(e,{parent:!0}).node,r=ie(e),o=n.lookupNode(t,r),s=n.qb(t,r,!1);if(s)throw new n.ErrnoError(s);if(!t.node_ops.unlink)throw new n.ErrnoError(63);if(n.ab(o))throw new n.ErrnoError(10);try{n.Sa.willDeletePath&&n.Sa.willDeletePath(e)}catch(l){I("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+l.message)}t.node_ops.unlink(t,r),n.Ab(o);try{n.Sa.onDeletePath&&n.Sa.onDeletePath(e)}catch(l){I("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+l.message)}},readlink:function(e){if(e=n.lookupPath(e).node,!e)throw new n.ErrnoError(44);if(!e.node_ops.readlink)throw new n.ErrnoError(28);return me(n.Ya(e.parent),e.node_ops.readlink(e))},stat:function(e,t){if(e=n.lookupPath(e,{Ta:!t}).node,!e)throw new n.ErrnoError(44);if(!e.node_ops.getattr)throw new n.ErrnoError(63);return e.node_ops.getattr(e)},lstat:function(e){return n.stat(e,!0)},chmod:function(e,t,r){if(e=typeof e=="string"?n.lookupPath(e,{Ta:!r}).node:e,!e.node_ops.setattr)throw new n.ErrnoError(63);e.node_ops.setattr(e,{mode:t&4095|e.mode&-4096,timestamp:Date.now()})},lchmod:function(e,t){n.chmod(e,t,!0)},fchmod:function(e,t){if(e=n.$a(e),!e)throw new n.ErrnoError(8);n.chmod(e.node,t)},chown:function(e,t,r,o){if(e=typeof e=="string"?n.lookupPath(e,{Ta:!o}).node:e,!e.node_ops.setattr)throw new n.ErrnoError(63);e.node_ops.setattr(e,{timestamp:Date.now()})},lchown:function(e,t,r){n.chown(e,t,r,!0)},fchown:function(e,t,r){if(e=n.$a(e),!e)throw new n.ErrnoError(8);n.chown(e.node,t,r)},truncate:function(e,t){if(0>t)throw new n.ErrnoError(28);if(e=typeof e=="string"?n.lookupPath(e,{Ta:!0}).node:e,!e.node_ops.setattr)throw new n.ErrnoError(63);if(n.isDir(e.mode))throw new n.ErrnoError(31);if(!n.isFile(e.mode))throw new n.ErrnoError(28);var r=n.Za(e,"w");if(r)throw new n.ErrnoError(r);e.node_ops.setattr(e,{size:t,timestamp:Date.now()})},Nc:function(e,t){if(e=n.$a(e),!e)throw new n.ErrnoError(8);if(!(e.flags&2097155))throw new n.ErrnoError(28);n.truncate(e.node,t)},kd:function(e,t,r){e=n.lookupPath(e,{Ta:!0}).node,e.node_ops.setattr(e,{timestamp:Math.max(t,r)})},open:function(e,t,r,o,s){if(e==="")throw new n.ErrnoError(44);if(t=typeof t=="string"?n.Yc(t):t,r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var l=e;else{e=Ee(e);try{l=n.lookupPath(e,{Ta:!(t&131072)}).node}catch{}}var d=!1;if(t&64)if(l){if(t&128)throw new n.ErrnoError(20)}else l=n.mknod(e,r,0),d=!0;if(!l)throw new n.ErrnoError(44);if(n.pb(l.mode)&&(t&=-513),t&65536&&!n.isDir(l.mode))throw new n.ErrnoError(54);if(!d&&(r=n.Wc(l,t)))throw new n.ErrnoError(r);t&512&&n.truncate(l,0),t&=-131713,o=n.Jc({node:l,path:n.Ya(l),flags:t,seekable:!0,position:0,stream_ops:l.stream_ops,jd:[],error:!1},o,s),o.stream_ops.open&&o.stream_ops.open(o),!i.logReadFiles||t&1||(n.Ob||(n.Ob={}),e in n.Ob||(n.Ob[e]=1,I("FS.trackingDelegate error on read file: "+e)));try{n.Sa.onOpenFile&&(s=0,(t&2097155)!==1&&(s|=n.nc.kc.qc),t&2097155&&(s|=n.nc.kc.rc),n.Sa.onOpenFile(e,s))}catch(w){I("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+w.message)}return o},close:function(e){if(n.kb(e))throw new n.ErrnoError(8);e.Fb&&(e.Fb=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{n.Dc(e.fd)}e.fd=null},kb:function(e){return e.fd===null},llseek:function(e,t,r){if(n.kb(e))throw new n.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new n.ErrnoError(70);if(r!=0&&r!=1&&r!=2)throw new n.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.jd=[],e.position},read:function(e,t,r,o,s){if(0>o||0>s)throw new n.ErrnoError(28);if(n.kb(e))throw new n.ErrnoError(8);if((e.flags&2097155)===1)throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.read)throw new n.ErrnoError(28);var l=typeof s<"u";if(!l)s=e.position;else if(!e.seekable)throw new n.ErrnoError(70);return t=e.stream_ops.read(e,t,r,o,s),l||(e.position+=t),t},write:function(e,t,r,o,s,l){if(0>o||0>s)throw new n.ErrnoError(28);if(n.kb(e))throw new n.ErrnoError(8);if(!(e.flags&2097155))throw new n.ErrnoError(8);if(n.isDir(e.node.mode))throw new n.ErrnoError(31);if(!e.stream_ops.write)throw new n.ErrnoError(28);e.seekable&&e.flags&1024&&n.llseek(e,0,2);var d=typeof s<"u";if(!d)s=e.position;else if(!e.seekable)throw new n.ErrnoError(70);t=e.stream_ops.write(e,t,r,o,s,l),d||(e.position+=t);try{e.path&&n.Sa.onWriteToFile&&n.Sa.onWriteToFile(e.path)}catch(w){I("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+w.message)}return t},allocate:function(e,t,r){if(n.kb(e))throw new n.ErrnoError(8);if(0>t||0>=r)throw new n.ErrnoError(28);if(!(e.flags&2097155))throw new n.ErrnoError(8);if(!n.isFile(e.node.mode)&&!n.isDir(e.node.mode))throw new n.ErrnoError(43);if(!e.stream_ops.allocate)throw new n.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,o,s,l){if(s&2&&!(l&2)&&(e.flags&2097155)!==2)throw new n.ErrnoError(2);if((e.flags&2097155)===1)throw new n.ErrnoError(2);if(!e.stream_ops.mmap)throw new n.ErrnoError(43);return e.stream_ops.mmap(e,t,r,o,s,l)},msync:function(e,t,r,o,s){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,o,s):0},ud:function(){return 0},ic:function(e,t,r){if(!e.stream_ops.ic)throw new n.ErrnoError(59);return e.stream_ops.ic(e,t,r)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw Error('Invalid encoding type "'+t.encoding+'"');var r,o=n.open(e,t.flags);e=n.stat(e).size;var s=new Uint8Array(e);return n.read(o,s,0,e,0),t.encoding==="utf8"?r=_e(s,0):t.encoding==="binary"&&(r=s),n.close(o),r},writeFile:function(e,t,r){if(r=r||{},r.flags=r.flags||577,e=n.open(e,r.flags,r.mode),typeof t=="string"){var o=new Uint8Array(de(t)+1);t=oe(t,o,0,o.length),n.write(e,o,0,t,void 0,r.Bc)}else if(ArrayBuffer.isView(t))n.write(e,t,0,t.byteLength,void 0,r.Bc);else throw Error("Unsupported data type");n.close(e)},cwd:function(){return n.Wb},chdir:function(e){if(e=n.lookupPath(e,{Ta:!0}),e.node===null)throw new n.ErrnoError(44);if(!n.isDir(e.node.mode))throw new n.ErrnoError(54);var t=n.Za(e.node,"x");if(t)throw new n.ErrnoError(t);n.Wb=e.path},Fc:function(){n.mkdir("/tmp"),n.mkdir("/home"),n.mkdir("/home/web_user")},Ec:function(){n.mkdir("/dev"),n.Qb(n.bb(1,3),{read:function(){return 0},write:function(t,r,o,s){return s}}),n.rb("/dev/null",n.bb(1,3)),$t(n.bb(5,0),Nr),$t(n.bb(6,0),Fr),n.rb("/dev/tty",n.bb(5,0)),n.rb("/dev/tty1",n.bb(6,0));var e=Dr();n.Wa("/dev","random",e),n.Wa("/dev","urandom",e),n.mkdir("/dev/shm"),n.mkdir("/dev/shm/tmp")},Hc:function(){n.mkdir("/proc");var e=n.mkdir("/proc/self");n.mkdir("/proc/self/fd"),n.mount({mount:function(){var t=n.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(r,o){var s=n.$a(+o);if(!s)throw new n.ErrnoError(8);return r={parent:null,mount:{jc:"fake"},node_ops:{readlink:function(){return s.path}}},r.parent=r}},t}},{},"/proc/self/fd")},Ic:function(){i.stdin?n.Wa("/dev","stdin",i.stdin):n.symlink("/dev/tty","/dev/stdin"),i.stdout?n.Wa("/dev","stdout",null,i.stdout):n.symlink("/dev/tty","/dev/stdout"),i.stderr?n.Wa("/dev","stderr",null,i.stderr):n.symlink("/dev/tty1","/dev/stderr"),n.open("/dev/stdin",0),n.open("/dev/stdout",1),n.open("/dev/stderr",1)},Yb:function(){n.ErrnoError||(n.ErrnoError=function(e,t){this.node=t,this.hd=function(r){this.Oa=r},this.hd(e),this.message="FS error"},n.ErrnoError.prototype=Error(),n.ErrnoError.prototype.constructor=n.ErrnoError,[44].forEach(function(e){n.Db[e]=new n.ErrnoError(e),n.Db[e].stack="<generic error, no stack>"}))},lc:function(){n.Yb(),n.Ua=Array(4096),n.mount(q,{},"/"),n.Fc(),n.Ec(),n.Hc(),n.Lc={MEMFS:q}},jb:function(e,t,r){n.jb.Hb=!0,n.Yb(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=r||i.stderr,n.Ic()},wd:function(){n.jb.Hb=!1;var e=i._fflush;for(e&&e(0),e=0;e<n.streams.length;e++){var t=n.streams[e];t&&n.close(t)}},Eb:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},od:function(e,t){return e=n.xb(e,t),e.exists?e.object:null},xb:function(e,t){try{var r=n.lookupPath(e,{Ta:!t});e=r.path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,ad:!1,cd:null,bd:null};try{r=n.lookupPath(e,{parent:!0}),o.ad=!0,o.cd=r.path,o.bd=r.node,o.name=ie(e),r=n.lookupPath(e,{Ta:!t}),o.exists=!0,o.path=r.path,o.object=r.node,o.name=r.node.name,o.isRoot=r.path==="/"}catch(s){o.error=s.Oa}return o},md:function(e,t){for(e=typeof e=="string"?e:n.Ya(e),t=t.split("/").reverse();t.length;){var r=t.pop();if(r){var o=ve(e,r);try{n.mkdir(o)}catch{}e=o}}return o},Gc:function(e,t,r,o,s){return e=ve(typeof e=="string"?e:n.Ya(e),t),n.create(e,n.Eb(o,s))},zb:function(e,t,r,o,s,l){if(e=t?ve(typeof e=="string"?e:n.Ya(e),t):e,o=n.Eb(o,s),s=n.create(e,o),r){if(typeof r=="string"){e=Array(r.length),t=0;for(var d=r.length;t<d;++t)e[t]=r.charCodeAt(t);r=e}n.chmod(s,o|146),e=n.open(s,577),n.write(e,r,0,r.length,0,l),n.close(e),n.chmod(s,o)}return s},Wa:function(e,t,r,o){e=ve(typeof e=="string"?e:n.Ya(e),t),t=n.Eb(!!r,!!o),n.Wa.Kb||(n.Wa.Kb=64);var s=n.bb(n.Wa.Kb++,0);return n.Qb(s,{open:function(l){l.seekable=!1},close:function(){o&&o.buffer&&o.buffer.length&&o(10)},read:function(l,d,w,E){for(var b=0,k=0;k<E;k++){try{var R=r()}catch{throw new n.ErrnoError(29)}if(R===void 0&&b===0)throw new n.ErrnoError(6);if(R==null)break;b++,d[w+k]=R}return b&&(l.node.timestamp=Date.now()),b},write:function(l,d,w,E){for(var b=0;b<E;b++)try{o(d[w+b])}catch{throw new n.ErrnoError(29)}return E&&(l.node.timestamp=Date.now()),b}}),n.rb(e,t,s)},ac:function(e){if(e.Ib||e.Sc||e.link||e.Na)return!0;if(typeof XMLHttpRequest<"u")throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(De)try{e.Na=Qe(De(e.url),!0),e.Ra=e.Na.length}catch{throw new n.ErrnoError(29)}else throw Error("Cannot load without read() or XMLHttpRequest.")},ld:function(e,t,r,o,s){function l(){this.Jb=!1,this.ob=[]}if(l.prototype.get=function(b){if(!(b>this.length-1||0>b)){var k=b%this.chunkSize;return this.dc(b/this.chunkSize|0)[k]}},l.prototype.pc=function(b){this.dc=b},l.prototype.Ub=function(){var b=new XMLHttpRequest;if(b.open("HEAD",r,!1),b.send(null),!(200<=b.status&&300>b.status||b.status===304))throw Error("Couldn't load "+r+". Status: "+b.status);var k=Number(b.getResponseHeader("Content-length")),R,x=(R=b.getResponseHeader("Accept-Ranges"))&&R==="bytes";b=(R=b.getResponseHeader("Content-Encoding"))&&R==="gzip";var $=1048576;x||($=k);var z=this;z.pc(function(X){var we=X*$,ue=(X+1)*$-1;if(ue=Math.min(ue,k-1),typeof z.ob[X]>"u"){var bt=z.ob;if(we>ue)throw Error("invalid range ("+we+", "+ue+") or no bytes requested!");if(ue>k-1)throw Error("only "+k+" bytes available! programmer error!");var C=new XMLHttpRequest;if(C.open("GET",r,!1),k!==$&&C.setRequestHeader("Range","bytes="+we+"-"+ue),typeof Uint8Array<"u"&&(C.responseType="arraybuffer"),C.overrideMimeType&&C.overrideMimeType("text/plain; charset=x-user-defined"),C.send(null),!(200<=C.status&&300>C.status||C.status===304))throw Error("Couldn't load "+r+". Status: "+C.status);we=C.response!==void 0?new Uint8Array(C.response||[]):Qe(C.responseText||"",!0),bt[X]=we}if(typeof z.ob[X]>"u")throw Error("doXHR failed!");return z.ob[X]}),(b||!k)&&($=k=1,$=k=this.dc(0).length,Ie("LazyFiles on gzip forces download of the whole file when length is accessed")),this.tc=k,this.sc=$,this.Jb=!0},typeof XMLHttpRequest<"u"){if(!B)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var d=new l;Object.defineProperties(d,{length:{get:function(){return this.Jb||this.Ub(),this.tc}},chunkSize:{get:function(){return this.Jb||this.Ub(),this.sc}}}),d={Ib:!1,Na:d}}else d={Ib:!1,url:r};var w=n.Gc(e,t,d,o,s);d.Na?w.Na=d.Na:d.url&&(w.Na=null,w.url=d.url),Object.defineProperties(w,{Ra:{get:function(){return this.Na.length}}});var E={};return Object.keys(w.stream_ops).forEach(function(b){var k=w.stream_ops[b];E[b]=function(){return n.ac(w),k.apply(null,arguments)}}),E.read=function(b,k,R,x,$){if(n.ac(w),b=b.node.Na,$>=b.length)return 0;if(x=Math.min(b.length-$,x),b.slice)for(var z=0;z<x;z++)k[R+z]=b[$+z];else for(z=0;z<x;z++)k[R+z]=b.get($+z);return x},w.stream_ops=E,w},nd:function(e,t,r,o,s,l,d,w,E,b){function k(x){function $(X){b&&b(),w||n.zb(e,t,X,o,s,E),l&&l(),We()}var z=!1;i.preloadPlugins.forEach(function(X){!z&&X.canHandle(R)&&(X.handle(x,R,$,function(){d&&d(),We()}),z=!0)}),z||$(x)}Or.jb();var R=t?me(ve(e,t)):e;at(),typeof r=="string"?Mr(r,function(x){k(x)},d):k(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Rb:function(){return"EM_FS_"+window.location.pathname},Sb:20,ib:"FILE_DATA",xd:function(e,t,r){t=t||function(){},r=r||function(){};var o=n.indexedDB();try{var s=o.open(n.Rb(),n.Sb)}catch(l){return r(l)}s.onupgradeneeded=function(){Ie("creating db"),s.result.createObjectStore(n.ib)},s.onsuccess=function(){var l=s.result.transaction([n.ib],"readwrite"),d=l.objectStore(n.ib),w=0,E=0,b=e.length;e.forEach(function(k){k=d.put(n.xb(k).object.Na,k),k.onsuccess=function(){w++,w+E==b&&(E==0?t():r())},k.onerror=function(){E++,w+E==b&&(E==0?t():r())}}),l.onerror=r},s.onerror=r},rd:function(e,t,r){t=t||function(){},r=r||function(){};var o=n.indexedDB();try{var s=o.open(n.Rb(),n.Sb)}catch(l){return r(l)}s.onupgradeneeded=r,s.onsuccess=function(){var l=s.result;try{var d=l.transaction([n.ib],"readonly")}catch(R){r(R);return}var w=d.objectStore(n.ib),E=0,b=0,k=e.length;e.forEach(function(R){var x=w.get(R);x.onsuccess=function(){n.xb(R).exists&&n.unlink(R),n.zb(je(R),ie(R),x.result,!0,!0,!0),E++,E+b==k&&(b==0?t():r())},x.onerror=function(){b++,E+b==k&&(b==0?t():r())}}),d.onerror=r},s.onerror=r}},ft={};function ct(e,t,r){try{var o=e(t)}catch(s){if(s&&s.node&&Ee(t)!==Ee(n.Ya(s.node)))return-54;throw s}return _[r>>2]=o.dev,_[r+4>>2]=0,_[r+8>>2]=o.ino,_[r+12>>2]=o.mode,_[r+16>>2]=o.nlink,_[r+20>>2]=o.uid,_[r+24>>2]=o.gid,_[r+28>>2]=o.rdev,_[r+32>>2]=0,Y=[o.size>>>0,(M=o.size,1<=+Math.abs(M)?0<M?(Math.min(+Math.floor(M/4294967296),4294967295)|0)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],_[r+40>>2]=Y[0],_[r+44>>2]=Y[1],_[r+48>>2]=4096,_[r+52>>2]=o.blocks,_[r+56>>2]=o.atime.getTime()/1e3|0,_[r+60>>2]=0,_[r+64>>2]=o.mtime.getTime()/1e3|0,_[r+68>>2]=0,_[r+72>>2]=o.ctime.getTime()/1e3|0,_[r+76>>2]=0,Y=[o.ino>>>0,(M=o.ino,1<=+Math.abs(M)?0<M?(Math.min(+Math.floor(M/4294967296),4294967295)|0)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],_[r+80>>2]=Y[0],_[r+84>>2]=Y[1],0}var Ve=void 0;function Xe(){return Ve+=4,_[Ve-4>>2]}function se(e){if(e=n.$a(e),!e)throw new n.ErrnoError(8);return e}var ht;ht=G?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var dt={};function Wt(){if(!pt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"},t;for(t in dt)dt[t]===void 0?delete e[t]:e[t]=dt[t];var r=[];for(t in e)r.push(t+"="+e[t]);pt=r}return pt}var pt;function jt(e,t,r,o){e||(e=this),this.parent=e,this.mount=e.mount,this.lb=null,this.id=n.Zc++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=o}Object.defineProperties(jt.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}},Sc:{get:function(){return n.isDir(this.mode)}},Ib:{get:function(){return n.pb(this.mode)}}}),n.FSNode=jt,n.lc();var Or;function Qe(e,t){var r=Array(de(e)+1);return e=oe(e,r,0,r.length),t&&(r.length=e),r}var Pr={a:function(e,t,r,o){D("Assertion failed: "+L(e)+", at: "+[t?L(t):"unknown filename",r,o?L(o):"unknown function"])},u:function(e,t){Tr(),e=new Date(1e3*_[e>>2]),_[t>>2]=e.getSeconds(),_[t+4>>2]=e.getMinutes(),_[t+8>>2]=e.getHours(),_[t+12>>2]=e.getDate(),_[t+16>>2]=e.getMonth(),_[t+20>>2]=e.getFullYear()-1900,_[t+24>>2]=e.getDay();var r=new Date(e.getFullYear(),0,1);_[t+28>>2]=(e.getTime()-r.getTime())/864e5|0,_[t+36>>2]=-(60*e.getTimezoneOffset());var o=new Date(e.getFullYear(),6,1).getTimezoneOffset();return r=r.getTimezoneOffset(),e=(o!=r&&e.getTimezoneOffset()==Math.min(r,o))|0,_[t+32>>2]=e,e=_[ke()+(e?4:0)>>2],_[t+40>>2]=e,t},m:function(e,t){try{if(e=L(e),t&-8)var r=-28;else{var o;(o=n.lookupPath(e,{Ta:!0}).node)?(e="",t&4&&(e+="r"),t&2&&(e+="w"),t&1&&(e+="x"),r=e&&n.Za(o,e)?-2:0):r=-44}return r}catch(s){return typeof n<"u"&&s instanceof n.ErrnoError||D(s),-s.Oa}},A:function(e,t){try{return e=L(e),n.chmod(e,t),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),-r.Oa}},H:function(e,t,r){try{return e=L(e),n.chown(e,t,r),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||D(o),-o.Oa}},B:function(e,t){try{return n.fchmod(e,t),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),-r.Oa}},I:function(e,t,r){try{return n.fchown(e,t,r),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||D(o),-o.Oa}},b:function(e,t,r){Ve=r;try{var o=se(e);switch(t){case 0:var s=Xe();return 0>s?-28:n.open(o.path,o.flags,0,s).fd;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=Xe(),o.flags|=s,0;case 12:return s=Xe(),Ce[s+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return _[mt()>>2]=28,-1;default:return-28}}catch(l){return typeof n<"u"&&l instanceof n.ErrnoError||D(l),-l.Oa}},E:function(e,t){try{var r=se(e);return ct(n.stat,r.path,t)}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||D(o),-o.Oa}},n:function(e,t,r){try{return n.Nc(e,r),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||D(o),-o.Oa}},l:function(e,t){try{if(t===0)return-28;var r=n.cwd();return t<de(r)+1?-68:(oe(r,Q,e,t),e)}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||D(o),-o.Oa}},G:function(){return 0},d:function(){return 42},z:function(e,t){try{return e=L(e),ct(n.lstat,e,t)}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),-r.Oa}},C:function(e,t){try{return e=L(e),e=Ee(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),n.mkdir(e,t,0),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),-r.Oa}},y:function(e,t,r,o,s,l){try{e:{l<<=12;var d=!1;if(o&16&&e%65536!==0)var w=-28;else{if(o&32){var E=Ct(t);if(!E){w=-48;break e}d=!0}else{var b=n.$a(s);if(!b){w=-8;break e}var k=n.mmap(b,e,t,l,r,o);E=k.ed,d=k.vb}ft[E]={Uc:E,Tc:t,vb:d,fd:s,dd:r,flags:o,offset:l},w=E}}return w}catch(R){return typeof n<"u"&&R instanceof n.ErrnoError||D(R),-R.Oa}},x:function(e,t){try{var r=ft[e];if(t!==0&&r){if(t===r.Tc){var o=n.$a(r.fd);if(o&&r.dd&2){var s=r.flags,l=r.offset,d=Q.slice(e,e+t);n.msync(o,d,l,t,s)}ft[e]=null,r.vb&&Oe(r.Uc)}var w=0}else w=-28;return w}catch(E){return typeof n<"u"&&E instanceof n.ErrnoError||D(E),-E.Oa}},w:function(e,t,r){Ve=r;try{var o=L(e),s=r?Xe():0;return n.open(o,t,s).fd}catch(l){return typeof n<"u"&&l instanceof n.ErrnoError||D(l),-l.Oa}},J:function(e,t,r){try{if(e=L(e),0>=r)var o=-28;else{var s=n.readlink(e),l=Math.min(r,de(s)),d=U[t+l];oe(s,Q,t,r+1),U[t+l]=d,o=l}return o}catch(w){return typeof n<"u"&&w instanceof n.ErrnoError||D(w),-w.Oa}},F:function(e){try{return e=L(e),n.rmdir(e),0}catch(t){return typeof n<"u"&&t instanceof n.ErrnoError||D(t),-t.Oa}},e:function(e,t){try{return e=L(e),ct(n.stat,e,t)}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),-r.Oa}},i:function(e){try{return e=L(e),n.unlink(e),0}catch(t){return typeof n<"u"&&t instanceof n.ErrnoError||D(t),-t.Oa}},v:function(){return 2147483648},p:function(e,t,r){Q.copyWithin(e,t,t+r)},c:function(e){var t=Q.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296),o=Math.max(e,o),0<o%65536&&(o+=65536-o%65536);e:{try{tt.grow(Math.min(2147483648,o)-ot.byteLength+65535>>>16),Ft();var s=1;break e}catch{}s=void 0}if(s)return!0}return!1},t:function(e){for(var t=ht();ht()-t<e;);},r:function(e,t){try{var r=0;return Wt().forEach(function(o,s){var l=t+r;for(s=_[e+4*s>>2]=l,l=0;l<o.length;++l)U[s++>>0]=o.charCodeAt(l);U[s>>0]=0,r+=o.length+1}),0}catch(o){return typeof n<"u"&&o instanceof n.ErrnoError||D(o),o.Oa}},s:function(e,t){try{var r=Wt();_[e>>2]=r.length;var o=0;return r.forEach(function(s){o+=s.length+1}),_[t>>2]=o,0}catch(s){return typeof n<"u"&&s instanceof n.ErrnoError||D(s),s.Oa}},f:function(e){try{var t=se(e);return n.close(t),0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),r.Oa}},q:function(e,t){try{var r=se(e),o=r.tty?2:n.isDir(r.mode)?3:n.fb(r.mode)?7:4;return U[t>>0]=o,0}catch(s){return typeof n<"u"&&s instanceof n.ErrnoError||D(s),s.Oa}},j:function(e,t,r,o){try{e:{for(var s=se(e),l=e=0;l<r;l++){var d=_[t+(8*l+4)>>2],w=n.read(s,U,_[t+8*l>>2],d,void 0);if(0>w){var E=-1;break e}if(e+=w,w<d)break}E=e}return _[o>>2]=E,0}catch(b){return typeof n<"u"&&b instanceof n.ErrnoError||D(b),b.Oa}},o:function(e,t,r,o,s){try{var l=se(e);return e=4294967296*r+(t>>>0),-9007199254740992>=e||9007199254740992<=e?-61:(n.llseek(l,e,o),Y=[l.position>>>0,(M=l.position,1<=+Math.abs(M)?0<M?(Math.min(+Math.floor(M/4294967296),4294967295)|0)>>>0:~~+Math.ceil((M-+(~~M>>>0))/4294967296)>>>0:0)],_[s>>2]=Y[0],_[s+4>>2]=Y[1],l.Fb&&e===0&&o===0&&(l.Fb=null),0)}catch(d){return typeof n<"u"&&d instanceof n.ErrnoError||D(d),d.Oa}},k:function(e){try{var t=se(e);return t.stream_ops&&t.stream_ops.fsync?-t.stream_ops.fsync(t):0}catch(r){return typeof n<"u"&&r instanceof n.ErrnoError||D(r),r.Oa}},g:function(e,t,r,o){try{e:{for(var s=se(e),l=e=0;l<r;l++){var d=n.write(s,U,_[t+8*l>>2],_[t+(8*l+4)>>2],void 0);if(0>d){var w=-1;break e}e+=d}w=e}return _[o>>2]=w,0}catch(E){return typeof n<"u"&&E instanceof n.ErrnoError||D(E),E.Oa}},h:function(e){var t=Date.now();return _[e>>2]=t/1e3|0,_[e+4>>2]=t%1e3*1e3|0,0},K:function(e){var t=Date.now()/1e3|0;return e&&(_[e>>2]=t),t},D:function(e,t){if(t){var r=t+8;t=1e3*_[r>>2],t+=_[r+4>>2]/1e3}else t=Date.now();e=L(e);try{n.kd(e,t,t);var o=0}catch(s){if(!(s instanceof n.ErrnoError)){e:{if(o=Error(),!o.stack){try{throw Error()}catch(l){o=l}if(!o.stack){o="(no stack trace available)";break e}}o=o.stack.toString()}throw i.extraStackTrace&&(o+=`
`+i.extraStackTrace()),o=qr(o),s+" : "+o}o=s.Oa,_[mt()>>2]=o,o=-1}return o}};(function(){function e(s){i.asm=s.exports,tt=i.asm.L,Ft(),Z=i.asm.Da,Ot.unshift(i.asm.M),We()}function t(s){e(s.instance)}function r(s){return Sr().then(function(l){return WebAssembly.instantiate(l,o)}).then(s,function(l){I("failed to asynchronously prepare wasm: "+l),D(l)})}var o={a:Pr};if(at(),i.instantiateWasm)try{return i.instantiateWasm(o,e)}catch(s){return I("Module.instantiateWasm callback failed with error: "+s),!1}return function(){return Ne||typeof WebAssembly.instantiateStreaming!="function"||zt()||H.startsWith("file://")||typeof fetch!="function"?r(t):fetch(H,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,o).then(t,function(l){return I("wasm streaming compile failed: "+l),I("falling back to ArrayBuffer instantiation"),r(t)})})}(),{}})(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.M).apply(null,arguments)},i._sqlite3_vfs_find=function(){return(i._sqlite3_vfs_find=i.asm.N).apply(null,arguments)},i._sqlite3_free=function(){return(i._sqlite3_free=i.asm.O).apply(null,arguments)};var mt=i.___errno_location=function(){return(mt=i.___errno_location=i.asm.P).apply(null,arguments)};i._sqlite3_finalize=function(){return(i._sqlite3_finalize=i.asm.Q).apply(null,arguments)},i._sqlite3_reset=function(){return(i._sqlite3_reset=i.asm.R).apply(null,arguments)},i._sqlite3_clear_bindings=function(){return(i._sqlite3_clear_bindings=i.asm.S).apply(null,arguments)},i._sqlite3_value_blob=function(){return(i._sqlite3_value_blob=i.asm.T).apply(null,arguments)},i._sqlite3_value_text=function(){return(i._sqlite3_value_text=i.asm.U).apply(null,arguments)},i._sqlite3_value_bytes=function(){return(i._sqlite3_value_bytes=i.asm.V).apply(null,arguments)},i._sqlite3_value_double=function(){return(i._sqlite3_value_double=i.asm.W).apply(null,arguments)},i._sqlite3_value_int=function(){return(i._sqlite3_value_int=i.asm.X).apply(null,arguments)},i._sqlite3_value_type=function(){return(i._sqlite3_value_type=i.asm.Y).apply(null,arguments)},i._sqlite3_result_blob=function(){return(i._sqlite3_result_blob=i.asm.Z).apply(null,arguments)},i._sqlite3_result_double=function(){return(i._sqlite3_result_double=i.asm._).apply(null,arguments)},i._sqlite3_result_error=function(){return(i._sqlite3_result_error=i.asm.$).apply(null,arguments)},i._sqlite3_result_int=function(){return(i._sqlite3_result_int=i.asm.aa).apply(null,arguments)},i._sqlite3_result_int64=function(){return(i._sqlite3_result_int64=i.asm.ba).apply(null,arguments)},i._sqlite3_result_null=function(){return(i._sqlite3_result_null=i.asm.ca).apply(null,arguments)},i._sqlite3_result_text=function(){return(i._sqlite3_result_text=i.asm.da).apply(null,arguments)},i._sqlite3_step=function(){return(i._sqlite3_step=i.asm.ea).apply(null,arguments)},i._sqlite3_column_count=function(){return(i._sqlite3_column_count=i.asm.fa).apply(null,arguments)},i._sqlite3_data_count=function(){return(i._sqlite3_data_count=i.asm.ga).apply(null,arguments)},i._sqlite3_column_blob=function(){return(i._sqlite3_column_blob=i.asm.ha).apply(null,arguments)},i._sqlite3_column_bytes=function(){return(i._sqlite3_column_bytes=i.asm.ia).apply(null,arguments)},i._sqlite3_column_double=function(){return(i._sqlite3_column_double=i.asm.ja).apply(null,arguments)},i._sqlite3_column_text=function(){return(i._sqlite3_column_text=i.asm.ka).apply(null,arguments)},i._sqlite3_column_type=function(){return(i._sqlite3_column_type=i.asm.la).apply(null,arguments)},i._sqlite3_column_name=function(){return(i._sqlite3_column_name=i.asm.ma).apply(null,arguments)},i._sqlite3_bind_blob=function(){return(i._sqlite3_bind_blob=i.asm.na).apply(null,arguments)},i._sqlite3_bind_double=function(){return(i._sqlite3_bind_double=i.asm.oa).apply(null,arguments)},i._sqlite3_bind_int=function(){return(i._sqlite3_bind_int=i.asm.pa).apply(null,arguments)},i._sqlite3_bind_text=function(){return(i._sqlite3_bind_text=i.asm.qa).apply(null,arguments)},i._sqlite3_bind_parameter_index=function(){return(i._sqlite3_bind_parameter_index=i.asm.ra).apply(null,arguments)},i._sqlite3_sql=function(){return(i._sqlite3_sql=i.asm.sa).apply(null,arguments)},i._sqlite3_normalized_sql=function(){return(i._sqlite3_normalized_sql=i.asm.ta).apply(null,arguments)},i._sqlite3_errmsg=function(){return(i._sqlite3_errmsg=i.asm.ua).apply(null,arguments)},i._sqlite3_exec=function(){return(i._sqlite3_exec=i.asm.va).apply(null,arguments)},i._sqlite3_prepare_v2=function(){return(i._sqlite3_prepare_v2=i.asm.wa).apply(null,arguments)},i._sqlite3_changes=function(){return(i._sqlite3_changes=i.asm.xa).apply(null,arguments)},i._sqlite3_close_v2=function(){return(i._sqlite3_close_v2=i.asm.ya).apply(null,arguments)},i._sqlite3_create_function_v2=function(){return(i._sqlite3_create_function_v2=i.asm.za).apply(null,arguments)},i._sqlite3_open=function(){return(i._sqlite3_open=i.asm.Aa).apply(null,arguments)};var He=i._malloc=function(){return(He=i._malloc=i.asm.Ba).apply(null,arguments)},Oe=i._free=function(){return(Oe=i._free=i.asm.Ca).apply(null,arguments)};i._RegisterExtensionFunctions=function(){return(i._RegisterExtensionFunctions=i.asm.Ea).apply(null,arguments)},i._register_for_idb=function(){return(i._register_for_idb=i.asm.Fa).apply(null,arguments)};var ke=i.__get_tzname=function(){return(ke=i.__get_tzname=i.asm.Ga).apply(null,arguments)},Vt=i.__get_daylight=function(){return(Vt=i.__get_daylight=i.asm.Ha).apply(null,arguments)},Xt=i.__get_timezone=function(){return(Xt=i.__get_timezone=i.asm.Ia).apply(null,arguments)},Pe=i.stackSave=function(){return(Pe=i.stackSave=i.asm.Ja).apply(null,arguments)},ze=i.stackRestore=function(){return(ze=i.stackRestore=i.asm.Ka).apply(null,arguments)},ae=i.stackAlloc=function(){return(ae=i.stackAlloc=i.asm.La).apply(null,arguments)},Qt=i._memalign=function(){return(Qt=i._memalign=i.asm.Ma).apply(null,arguments)};i.cwrap=function(e,t,r,o){r=r||[];var s=r.every(function(l){return l==="number"});return t!=="string"&&s&&!o?Dt(e):function(){return kr(e,t,r,arguments)}},i.UTF8ToString=L,i.FS=n,i.stackSave=Pe,i.stackRestore=ze,i.stackAlloc=ae;var Ye;Me=function e(){Ye||wt(),Ye||(Me=e)};function wt(){function e(){if(!Ye&&(Ye=!0,i.calledRun=!0,!Tt)){if(i.noFSInit||n.jb.Hb||n.jb(),n.hc=!1,ut(Ot),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var t=i.postRun.shift();Pt.unshift(t)}ut(Pt)}}if(!(0<pe)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Ar();ut(Mt),0<pe||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.run=wt,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return wt(),i}),u)};p.exports=f,p.exports.default=f})(yt);var tr=yt.exports,rr=Zt(tr);const gt={EPERM:63,ENOENT:44};class nr{constructor(a,u){this.FS=a,this.backend=u,this.node_ops={getattr:f=>{let c=a.isFile(f.mode)?f.contents.getattr():null,m={};return m.dev=1,m.ino=f.id,m.mode=c?c.mode:f.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=f.rdev,m.size=c?c.size:a.isDir(f.mode)?4096:0,m.atime=new Date(0),m.mtime=new Date(0),m.ctime=new Date(0),m.blksize=c?c.blockSize:4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:(f,c)=>{this.FS.isFile(f.mode)?f.contents.setattr(c):(c.mode!=null&&(f.mode=c.mode),c.size!=null&&(f.size=c.size))},lookup:(f,c)=>{throw new this.FS.ErrnoError(gt.ENOENT)},mknod:(f,c,m,g)=>{if(c.endsWith(".lock"))throw new Error("Locking via lockfiles is not supported");return this.createNode(f,c,m,g)},rename:(f,c,m)=>{throw new Error("rename not implemented")},unlink:(f,c)=>{this.FS.lookupNode(f,c).contents.delete(c)},readdir:f=>{throw new Error("readdir not implemented")},symlink:(f,c,m)=>{throw new Error("symlink not implemented")},readlink:f=>{throw new Error("symlink not implemented")}},this.stream_ops={open:f=>{this.FS.isFile(f.node.mode)&&f.node.contents.open()},close:f=>{this.FS.isFile(f.node.mode)&&f.node.contents.close()},read:(f,c,m,g,v)=>f.node.contents.read(c,m,g,v),write:(f,c,m,g,v)=>f.node.contents.write(c,m,g,v),llseek:(f,c,m)=>{var g=c;if(m===1?g+=f.position:m===2&&a.isFile(f.node.mode)&&(g+=f.node.contents.getattr().size),g<0)throw new this.FS.ErrnoError(28);return g},allocate:(f,c,m)=>{f.node.contents.setattr({size:c+m})},mmap:(f,c,m,g,v,i)=>{throw new Error("mmap not implemented")},msync:(f,c,m,g,v)=>{throw new Error("msync not implemented")},fsync:(f,c,m,g,v)=>{f.node.contents.fsync()}}}mount(){return this.createNode(null,"/",16895,0)}lock(a,u){let{node:f}=this.FS.lookupPath(a);return f&&f.contents?f.contents.lock(u):!0}unlock(a,u){let{node:f}=this.FS.lookupPath(a);return f&&f.contents?f.contents.unlock(u):!0}createNode(a,u,f,c){if(!(this.FS.isDir(f)||this.FS.isFile(f)))throw new this.FS.ErrnoError(gt.EPERM);var m=this.FS.createNode(a,u,f,c);return this.FS.isDir(m.mode)?(m.node_ops={mknod:this.node_ops.mknod,lookup:this.node_ops.lookup,unlink:this.node_ops.unlink,setattr:this.node_ops.setattr},m.stream_ops={},m.contents={}):this.FS.isFile(m.mode)&&(m.node_ops=this.node_ops,m.stream_ops=this.stream_ops,m.contents=this.backend.createFile(u)),a&&(a.contents[u]=m,a.timestamp=m.timestamp),m}}const or=nr;let qe={NONE:0,SHARED:1,RESERVED:2,PENDING:3,EXCLUSIVE:4};function Ze(p){let a=p[16],u=p[17];return(a<<8)+u}function ir(p,a){if(p!=null&&a!=null){let u=new Uint8Array(p),f=new Uint8Array(a);for(let c=24;c<40;c++)if(u[c]!==f[c])return!1;return!0}return p==null&&a==null}function sr(p,a,u){let f=[];for(let c=p;c<=a;c+=u)f.push(c);return f}function _t(p,a,u){let f=a-a%p,c=u-1-(u-1)%p;return sr(f,c,p)}function ar(p,a,u){let f=new ArrayBuffer(u-a),c=new Uint8Array(f);for(let m=0;m<p.length;m++){let g=p[m];if(g.data.constructor.name!=="ArrayBuffer")throw new Error("Chunk data is not an ArrayBuffer");let v=0,i=g.data.byteLength;if(a>g.pos&&(v=a-g.pos),u<g.pos+g.data.byteLength&&(i=u-g.pos),v>g.data.byteLength||i<0)continue;let S=i-v;c.set(new Uint8Array(g.data,v,S),g.pos-a+v)}return f}function Et(p,a,u,f){let c=_t(a,u,f),m=0;return c.map(g=>{let v=0,i=a;u>g&&u<g+a&&(v=u-g),f>g&&f<g+a&&(i=f-g);let S=i-v,F=new ArrayBuffer(a);if(u>g+a||f<=g)return null;let N=p.byteOffset+m,P=p.buffer.byteLength-N;if(P<=0)return null;let B=Math.min(S,P);return new Uint8Array(F).set(new Uint8Array(p.buffer,N,B),v),m+=B,{pos:g,data:F,offset:v,length:B}}).filter(Boolean)}class ur{constructor(a,u,f=null){this.filename=a,this.buffer=new Map,this.ops=u,this.meta=f,this._metaDirty=!1,this.writeLock=!1,this.openHandles=0}bufferChunks(a){for(let u=0;u<a.length;u++){let f=a[u];this.buffer.set(f.pos,f)}}open(){if(this.openHandles++,this.openHandles===1){this.ops.open();let a=this.ops.readMeta();this.meta==null&&(a==null&&(a={size:0}),this.meta=a)}return this.meta}close(){this.fsync(),this.openHandles=Math.max(this.openHandles-1,0),this.openHandles===0&&this.ops.close()}delete(){this.ops.delete()}load(a){let u=a.reduce((c,m)=>{let g=this.buffer.get(m);return g?c.chunks.push(g):c.missing.push(m),c},{chunks:[],missing:[]}),f=[];return u.missing.length>0&&(f=this.ops.readBlocks(u.missing,this.meta.blockSize)),u.chunks.concat(f)}read(a,u,f,c){let m=a.buffer;if(f<=0||c<0)return 0;if(c>=this.meta.size){let B=new Uint8Array(m,u);for(let G=0;G<f;G++)B[G]=0;return f}c=Math.max(c,0);let g=Math.min(f,this.meta.size-c),v=c,i=c+g,S=_t(this.meta.blockSize,v,i),F=this.load(S),N=ar(F,v,i);if(m.byteLength-u<N.byteLength)throw new Error("Buffer given to `read` is too small");let P=new Uint8Array(m);P.set(new Uint8Array(N),u);for(let B=g;B<f;B++)P[u+B]=0;return f}write(a,u,f,c){if(this.meta.blockSize==null){let N=Ze(new Uint8Array(a.buffer,a.byteOffset+u));if(![512,1024,2048,4096,8192,16384,32768,65536].includes(N))throw new Error("File has invalid page size. (the first block of a new file must be written first)");this.setattr({blockSize:N})}let m=a.buffer;if(f<=0||c<0||m.byteLength===0)return 0;f=Math.min(f,m.byteLength-u);let g=Et(new Uint8Array(m,u,f),this.meta.blockSize,c,c+f),{partialWrites:v,fullWrites:i}=g.reduce((N,P)=>(P.length!==this.meta.blockSize?N.partialWrites.push(P):N.fullWrites.push({pos:P.pos,data:P.data}),N),{fullWrites:[],partialWrites:[]}),S=[];v.length>0&&(S=this.load(v.map(N=>N.pos)));let F=i.concat(S.map(N=>{let P=v.find(B=>B.pos===N.pos);return new Uint8Array(N.data).set(new Uint8Array(P.data,P.offset,P.length),P.offset,P.length),N}));return this.bufferChunks(F),c+f>this.meta.size&&this.setattr({size:c+f}),f}async readIfFallback(){if(this.ops.readIfFallback){let a=await this.ops.readIfFallback();this.meta=a||{size:0}}}lock(a){return this._recordingLock||(this._recordingLock=!0),this.ops.lock(a)?(a>=qe.RESERVED&&(this.writeLock=!0),!0):!1}unlock(a){return a===0&&(this._recordingLock=!1),this.writeLock&&(this.fsync(),this.writeLock=!1),this.ops.unlock(a)}fsync(){if(this.buffer.size>0){let a=this.buffer.get(0);if(a){let u=Ze(new Uint8Array(a.data));if(u!==this.meta.blockSize){let f=this.buffer;this.buffer=new Map;let c=[...f.values()],m=c.length*this.meta.blockSize,g=new ArrayBuffer(m),v=new Uint8Array(g);for(let i of c)v.set(new Uint8Array(i.data),i.pos);this.bufferChunks(Et(v,u,0,m)),this.setattr({blockSize:u})}}this.ops.writeBlocks([...this.buffer.values()],this.meta.blockSize)}this._metaDirty&&(this.ops.writeMeta({size:this.meta.size}),this._metaDirty=!1),this.buffer=new Map}setattr(a){this.meta==null&&(this.meta={}),a.mode!==void 0&&(this.meta.mode=a.mode),a.blockSize!==void 0&&(this.meta.blockSize=a.blockSize),a.size!==void 0&&(this.meta.size=a.size,this._metaDirty=!0)}getattr(){return this.meta}}let vt=3735928559,J=0,le=1;class lr{constructor(a,{initialOffset:u=4,useAtomics:f=!0,stream:c=!0,debug:m,name:g}={}){this.buffer=a,this.atomicView=new Int32Array(a),this.offset=u,this.useAtomics=f,this.stream=c,this.debug=m,this.name=g}log(...a){this.debug&&console.log(`[reader: ${this.name}]`,...a)}waitWrite(a,u=null){if(this.useAtomics){for(this.log(`waiting for ${a}`);Atomics.load(this.atomicView,0)===J;){if(u!=null&&Atomics.wait(this.atomicView,0,J,u)==="timed-out")throw new Error("timeout");Atomics.wait(this.atomicView,0,J,500)}this.log(`resumed for ${a}`)}else if(this.atomicView[0]!==le)throw new Error("`waitWrite` expected array to be readable")}flip(){if(this.log("flip"),this.useAtomics){if(Atomics.compareExchange(this.atomicView,0,le,J)!==le)throw new Error("Read data out of sync! This is disastrous");Atomics.notify(this.atomicView,0)}else this.atomicView[0]=J;this.offset=4}done(){this.waitWrite("done");let u=new DataView(this.buffer,this.offset).getUint32(0)===vt;return u&&(this.log("done"),this.flip()),u}peek(a){this.peekOffset=this.offset;let u=a();return this.offset=this.peekOffset,this.peekOffset=null,u}string(a){this.waitWrite("string",a);let u=this._int32(),f=u/2,c=new DataView(this.buffer,this.offset,u),m=[];for(let v=0;v<f;v++)m.push(c.getUint16(v*2));let g=String.fromCharCode.apply(null,m);return this.log("string",g),this.offset+=u,this.peekOffset==null&&this.flip(),g}_int32(){let a=4,f=new DataView(this.buffer,this.offset).getInt32();return this.log("_int32",f),this.offset+=a,f}int32(){this.waitWrite("int32");let a=this._int32();return this.log("int32",a),this.peekOffset==null&&this.flip(),a}bytes(){this.waitWrite("bytes");let a=this._int32(),u=new ArrayBuffer(a);return new Uint8Array(u).set(new Uint8Array(this.buffer,this.offset,a)),this.log("bytes",u),this.offset+=a,this.peekOffset==null&&this.flip(),u}}class fr{constructor(a,{initialOffset:u=4,useAtomics:f=!0,stream:c=!0,debug:m,name:g}={}){this.buffer=a,this.atomicView=new Int32Array(a),this.offset=u,this.useAtomics=f,this.stream=c,this.debug=m,this.name=g,this.useAtomics?Atomics.store(this.atomicView,0,J):this.atomicView[0]=J}log(...a){this.debug&&console.log(`[writer: ${this.name}]`,...a)}waitRead(a){if(this.useAtomics){if(this.log(`waiting for ${a}`),Atomics.compareExchange(this.atomicView,0,J,le)!==J)throw new Error("Wrote something into unwritable buffer! This is disastrous");for(Atomics.notify(this.atomicView,0);Atomics.load(this.atomicView,0)===le;)Atomics.wait(this.atomicView,0,le,500);this.log(`resumed for ${a}`)}else this.atomicView[0]=le;this.offset=4}finalize(){this.log("finalizing"),new DataView(this.buffer,this.offset).setUint32(0,vt),this.waitRead("finalize")}string(a){this.log("string",a);let u=a.length*2;this._int32(u);let f=new DataView(this.buffer,this.offset,u);for(let c=0;c<a.length;c++)f.setUint16(c*2,a.charCodeAt(c));this.offset+=u,this.waitRead("string")}_int32(a){let u=4;new DataView(this.buffer,this.offset).setInt32(0,a),this.offset+=u}int32(a){this.log("int32",a),this._int32(a),this.waitRead("int32")}bytes(a){this.log("bytes",a);let u=a.byteLength;this._int32(u),new Uint8Array(this.buffer,this.offset).set(new Uint8Array(a)),this.offset+=u,this.waitRead("bytes")}}function kt(p,a){return Math.round(p/a)}function cr(p,a){self.postMessage({type:"__absurd:spawn-idb-worker",argBuffer:a.buffer,resultBuffer:p.buffer}),self.addEventListener("message",u=>{switch(u.data.type){case"__perf-deets:start-profile":a.string("profile-start"),a.finalize(),p.int32(),p.done();break;case"__perf-deets:stop-profile":a.string("profile-stop"),a.finalize(),p.int32(),p.done();break}})}class hr{constructor(a){this.filename=a}getStoreName(){return this.filename.replace(/\//g,"-")}invokeWorker(a,u){if(this.reader==null||this.writer==null)throw new Error(`Attempted ${a} on ${this.filename} but file not open`);let f=this.reader,c=this.writer;switch(a){case"readBlocks":{let{name:m,positions:g,blockSize:v}=u,i=[];for(let S of g){c.string("readBlock"),c.string(m),c.int32(kt(S,v)),c.finalize();let F=f.bytes();f.done(),i.push({pos:S,data:F.byteLength===0?new ArrayBuffer(v):F})}return i}case"writeBlocks":{let{name:m,writes:g,blockSize:v}=u;c.string("writeBlocks"),c.string(m);for(let S of g)c.int32(kt(S.pos,v)),c.bytes(S.data);c.finalize();let i=f.int32();return f.done(),i}case"readMeta":{c.string("readMeta"),c.string(u.name),c.finalize();let m=f.int32(),g=f.int32();return f.done(),m===-1?null:{size:m,blockSize:g}}case"writeMeta":{let{name:m,meta:g}=u;c.string("writeMeta"),c.string(m),c.int32(g.size),c.finalize();let v=f.int32();return f.done(),v}case"closeFile":{c.string("closeFile"),c.string(u.name),c.finalize();let m=f.int32();return f.done(),m}case"lockFile":{c.string("lockFile"),c.string(u.name),c.int32(u.lockType),c.finalize();let m=f.int32();return f.done(),m===0}case"unlockFile":{c.string("unlockFile"),c.string(u.name),c.int32(u.lockType),c.finalize();let m=f.int32();return f.done(),m===0}}}lock(a){return this.invokeWorker("lockFile",{name:this.getStoreName(),lockType:a})}unlock(a){return this.invokeWorker("unlockFile",{name:this.getStoreName(),lockType:a})}delete(){(this.reader||this.writer)&&this.close();let a=globalThis.indexedDB.deleteDatabase(this.getStoreName());a.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},a.onsuccess=()=>{}}open(){let a=new SharedArrayBuffer(36864);this.writer=new fr(a,{name:"args (backend)",debug:!1});let u=new SharedArrayBuffer(4096*9);this.reader=new lr(u,{name:"results",debug:!1}),cr(this.reader,this.writer)}close(){this.invokeWorker("closeFile",{name:this.getStoreName()}),this.reader=null,this.writer=null,this.worker=null}readMeta(){return this.invokeWorker("readMeta",{name:this.getStoreName()})}writeMeta(a){return this.invokeWorker("writeMeta",{name:this.getStoreName(),meta:a})}readBlocks(a,u){return this.stats&&(this.stats.read+=a.length),this.invokeWorker("readBlocks",{name:this.getStoreName(),positions:a,blockSize:u})}writeBlocks(a,u){return this.stats&&(this.stats.writes+=a.length),this.invokeWorker("writeBlocks",{name:this.getStoreName(),writes:a,blockSize:u})}}function dr(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let a;return new Promise(u=>{const f=()=>indexedDB.databases().finally(u);a=setInterval(f,100),f()}).finally(()=>clearInterval(a))}function At(p,a){return Math.round(p/a)}async function pr(p){return await dr(),new Promise((a,u)=>{let f=globalThis.indexedDB.open(p,2);f.onsuccess=c=>{let m=c.target.result;m.onversionchange=()=>{console.log("closing because version changed"),m.close()},m.onclose=()=>{},a(m)},f.onupgradeneeded=c=>{let m=c.target.result;m.objectStoreNames.contains("data")||m.createObjectStore("data")},f.onblocked=c=>console.log("blocked",c),f.onerror=f.onabort=c=>u(c.target.error)})}class mr{constructor(a,u){this.dbName=a,this._openDb=null,this.hasAlertedFailure=!1,this.onFallbackFailure=u}async getDb(){return this._openDb?this._openDb:(this._openDb=await pr(this.dbName),this._openDb)}closeDb(){this._openDb&&(this._openDb.close(),this._openDb=null)}async readAll(){let a=await this.getDb(this.dbName),u=new Map,c=a.transaction(["data"],"readonly").objectStore("data");return new Promise((m,g)=>{let v=c.openCursor(IDBKeyRange.lowerBound(-1));v.onerror=g,v.onsuccess=i=>{let S=i.target.result;S?(u.set(S.key,S.value),S.continue()):m(u)}})}async write(a,u,f){let m=(await this.getDb(this.dbName)).transaction(["data"],"readwrite"),g=m.objectStore("data");await new Promise((v,i)=>{let S=g.get(0);S.onsuccess=F=>{if(f&&!ir(S.result,u)){this.onFallbackFailure&&!this.hasAlertedFailure&&(this.hasAlertedFailure=!0,this.onFallbackFailure()),i(new Error("Fallback mode unable to write file changes"));return}for(let N of a)g.put(N.value,N.key);m.onsuccess=()=>v(),m.onerror=()=>i()},S.onerror=i})}}class wr{constructor(a,u){this.filename=a,this.dbName=this.filename.replace(/\//g,"-"),this.cachedFirstBlock=null,this.writeQueue=null,this.blocks=new Map,this.lockType=0,this.transferBlockOwnership=!1,this.persistance=new mr(this.dbName,u)}async readIfFallback(){return this.transferBlockOwnership=!0,this.blocks=await this.persistance.readAll(),this.readMeta()}lock(a){return this.cachedFirstBlock=this.blocks.get(0),this.lockType=a,!0}unlock(a){return this.lockType>qe.SHARED&&a===qe.SHARED&&this.flush(),this.lockType=a,!0}delete(){let a=globalThis.indexedDB.deleteDatabase(this.dbName);a.onerror=()=>{console.warn(`Deleting ${this.filename} database failed`)},a.onsuccess=()=>{}}open(){this.writeQueue=[],this.lockType=0}close(){this.flush(),this.transferBlockOwnership?this.transferBlockOwnership=!1:this.blocks=new Map,this.persistance.closeDb()}readMeta(){let a=this.blocks.get(-1);if(a){let u=this.blocks.get(0);return{size:a.size,blockSize:Ze(new Uint8Array(u))}}return null}writeMeta(a){this.blocks.set(-1,a),this.queueWrite(-1,a)}readBlocks(a,u){let f=[];for(let c of a)f.push({pos:c,data:this.blocks.get(At(c,u))});return f}writeBlocks(a,u){for(let f of a){let c=At(f.pos,u);this.blocks.set(c,f.data),this.queueWrite(c,f.data)}this.lockType<=qe.SHARED&&this.flush()}queueWrite(a,u){this.writeQueue.push({key:a,value:u})}flush(){this.writeQueue.length>0&&(this.persistance.write(this.writeQueue,this.cachedFirstBlock,this.lockType>qe.SHARED),this.writeQueue=[]),this.cachedFirstBlock=null}}class br{constructor(a){this.onFallbackFailure=a}createFile(a){let u;typeof SharedArrayBuffer<"u"?u=new hr(a):u=new wr(a,this.onFallbackFailure);let f=new ur(a,u);return{}.PERF_BUILD&&(this._files==null&&(this._files=new Set),this._files.add(f)),f}startProfile(){for(let a of this._files)if(a.ops.writer){let u=a.ops.writer,f=a.ops.reader;u.string("profile-start"),u.finalize(),f.int32(),f.done()}}stopProfile(){for(let a of this._files)if(a.ops.writer){let u=a.ops.writer,f=a.ops.reader;u.string("profile-stop"),u.finalize(),f.int32(),f.done()}}}const yr=(p,a,u)=>{switch(a){case"startsWith":return`${p} LIKE '${u}%'`;case"contains":return`${p} LIKE '%${u}%'`;case"notContains":return`${p} NOT LIKE '%${u}%'`;case"endsWith":return`${p} LIKE '%${u}'`;case"equals":return`${p} = '${u}'`;case"notEquals":return`${p} <> '${u}'`;case"in":const f=u.map(c=>`'${c}'`).join(", ");return`${p} IN (${f})`;case"lt":return`${p} < '${u}'`;case"lte":return`${p} <= '${u}'`;case"gt":return`${p} > '${u}'`;case"gte":return`${p} >= '${u}'`;case"between":return`${p} BETWEEN '${u[0]}' AND '${u[1]}'`;case"dateIs":case"dateIsNot":case"dateBefore":case"dateAfter":if(a==="dateIs")return`${p} = ${u}`;if(a==="dateIsNot")return`${p} <> ${u}`;if(a==="dateBefore")return`${p} < ${u}`;if(a==="dateAfter")return`${p} > ${u}`;break;default:return""}},gr=(p,a)=>`${p} ${a}`;var _r=(p,a)=>{const u=p.exec(a);if(u[0]){const f=u[0].columns;return u[0].values.map(g=>{const v={};return g.forEach((i,S)=>{v[f[S]]=i}),v})}else return[]};let ee,ne,Ke;const xe="test10";let St=null;const Le=new Promise(p=>St=p),Er=async()=>{ne=await rr({locateFile:a=>a}),Ke=new or(ne.FS,new br),ne.register_for_idb(Ke),ne.FS.mkdir("/sql"),ne.FS.mount(Ke,{},"/sql");const p="/sql/db.sqlite";if(typeof SharedArrayBuffer>"u"){let a=ne.FS.open(p,"a+");await a.node.contents.readIfFallback(),ne.FS.close(a)}ee=new ne.Database(p,{filename:!0}),ee.exec(`
    PRAGMA journal_mode=MEMORY;
    PRAGMA synchronous=OFF;
    PRAGMA page_size=32768;
    PRAGMA cache_size=32000;
    PRAGMA temp_store=MEMORY;
  `),St()},fe=[],Te=[];let ye="";const vr=3e5,qt={DELETE_TABLE:async()=>{await Le,ee.exec(`DROP TABLE ${xe}`),postMessage({type:"DELETE_TABLE"})},CREATE_TABLE:async()=>{await Le;try{const p=`
    orderId TEXT,
    reueqstDate TEXT, 
    requestBankCode TEXT,
    requestBankName TEXT,
    item TEXT,
    authorizeStoreCode TEXT,
    authorizeBankCode TEXT,
    authorizeBankName TEXT,
    customerId TEXT,
    saleNo TEXT,
    carrierType TEXT,
    isEInvoice TEXT,
    virtualBankAccount INTEGER,
    shippingMethod TEXT,
    shippingType TEXT,
    receiver TEXT,
    taxAmount INTEGER,
    invoiceAmount INTEGER,
    virtualCurrencyAmount INTEGER,
    createOrderAPSource TEXT,
    orderSubSource TEXT,
    remark TEXT,
    mobile TEXT,
    sellingPrice INTEGER,
    paymentId TEXT,
    createdUser TEXT,
    couponNo TEXT,
    message TEXT,
    creditCardNo TEXT,
    installmentNo TEXT,
    paymentStatus TEXT,
    authorizeCode TEXT,
    lastThreeDigital TEXT`;ee.exec(`CREATE TABLE ${xe} (${p})`)}catch(p){console.log(p)}postMessage({type:"CREATE_TABLE"})},PROGRESS:p=>{ye+=new TextDecoder().decode(p);let a=ye.indexOf(`
`);for(;~a;){const u=ye.slice(0,a);fe.push(u),ye=ye.slice(a+1),a=ye.indexOf(`
`)}fe.length>vr&&([].concat(fe).map(f=>Te.push(JSON.parse(f))),fe.length=0)},END:async()=>{fe.length&&(fe.map(u=>Te.push(JSON.parse(u))),fe.length=0),Te.map(u=>(u.reueqstDate=new Date(u.reueqstDate),u)),console.time("INSERT"),ee.exec("BEGIN TRANSACTION");let p=ee.prepare(`INSERT INTO ${xe} (orderId,reueqstDate,requestBankCode,requestBankName,item,authorizeStoreCode,authorizeBankCode,authorizeBankName,customerId,saleNo,carrierType,isEInvoice,virtualBankAccount,shippingMethod,shippingType,receiver,taxAmount,invoiceAmount,virtualCurrencyAmount,createOrderAPSource,orderSubSource,remark,mobile,sellingPrice,paymentId,createdUser,couponNo,message,creditCardNo,installmentNo,paymentStatus,authorizeCode,lastThreeDigital) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)`),a=0;for(const u of Te)++a,p.run([`${a}a${u.orderId}`,String(Number(u.reueqstDate)),u.requestBankCode,u.requestBankName,u.item,u.authorizeStoreCode,u.authorizeBankCode,u.authorizeBankName,u.customerId,u.saleNo,u.carrierType,u.isEInvoice,u.virtualBankAccount,u.shippingMethod,u.shippingType,u.receiver,u.taxAmount,u.invoiceAmount,u.virtualCurrencyAmount,u.createOrderAPSource,u.orderSubSource,u.remark,u.mobile,u.sellingPrice,u.paymentId,u.createdUser,u.couponNo,u.message,u.creditCardNo,u.installmentNo,u.paymentStatus,u.authorizeCode,u.lastThreeDigital]);p.free(),ee.exec("COMMIT"),console.timeEnd("INSERT"),postMessage({type:"SQLITE_READY",count:Te.length})},CMD:async p=>{await Le,console.log(p);try{const a=ee[p.action](p.sql);postMessage({type:"CMD",result:{...a},meta:p.meta??{}})}finally{postMessage({type:"ERROR"})}},QUERY:async p=>{var v,i;await Le,p=p||{};let a="",u="";if(p.filters){const S=" AND";Object.entries(p.filters).forEach(([F,N])=>{let{value:P,matchMode:B}=N;P=((G,W)=>(G==="reueqstDate"&&(W=Number(new Date(Number(W)))),W))(F,P),a+=yr(F,B,P)+`${S}`}),a&&(a="WHERE "+a.split(`${S}`).filter(Boolean).join(`${S} `))}if(p.sort){const S=p.sort.filter(F=>F.order);console.log(S),S.length&&(S.forEach(({field:F,order:N})=>{u+=gr(F,N)+","}),u="ORDER BY "+u.split(",").filter(Boolean).join(","))}const f={page:((v=p.page)==null?void 0:v.page)??1,size:((i=p.page)==null?void 0:i.size)??100},c=(f.page-1)*f.size,m=`SELECT * FROM ${xe} ${a} ${u} LIMIT ${f.size} OFFSET ${c}`;console.log(m),console.time("QUERY");const g=_r(ee,m);for(const S of g)S.reueqstDate=new Date(Number(S.reueqstDate));postMessage({type:"QUERY",statment:m,results:[...g],page:{...f}}),console.timeEnd("QUERY")}};addEventListener("message",async function(p){console.time("WORKER"),console.log(`Worker Receive data type: ${p.data.type}`),p.data.type?qt[p.data.type](p.data.queryArgs):qt.PROGRESS(p.data),console.timeEnd("WORKER")}),Er()})();
